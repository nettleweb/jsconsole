/*! For license information please see out.js.LICENSE.txt */
(()=>{var e={5152:(e,t,s)=>{"use strict";var i=s(215),r=s(4074).Q,n=s(4342).K,o=s(9276).f,a=s(258).a,l=s(916).t;s(6862),s(1686),s(9818),s(6981),s(6034),s(4707),s(7914),t.config=s(5133),t.edit=function(e,s){if("string"==typeof e){var r=e;if(!(e=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof n)return e.env.editor;var o="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;o=a.value,e=i.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(o=e.textContent,e.innerHTML="");var h=t.createEditSession(o),c=new n(new l(e),h,s),d={document:h,editor:c,onResize:c.resize.bind(c,null)};return a&&(d.textarea=a),c.on("destroy",(function(){d.editor.container.env=null})),c.container.env=c.env=d,c},t.createEditSession=function(e,t){var s=new o(e,t);return s.setUndoManager(new a),s},t.Range=r,t.Editor=n,t.EditSession=o,t.UndoManager=a,t.VirtualRenderer=l,t.version=t.config.version},9486:(e,t,s)=>{"use strict";var i=s(8297),r=s(8770).b;class n{constructor(e,t,s){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,s)}getPosition(){return this.$clipPositionToDocument(this.row,this.column)}getDocument(){return this.document}onChange(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,s){var i="insert"==e.action,r=(i?1:-1)*(e.end.row-e.start.row),n=(i?1:-1)*(e.end.column-e.start.column),a=e.start,l=i?a:e.end;return o(t,a,s)?{row:t.row,column:t.column}:o(l,t,!s)?{row:t.row+r,column:t.column+(t.row==l.row?n:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}}setPosition(e,t,s){var i;if(i=s?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}}detach(){this.document.off("change",this.$onChange)}attach(e){this.document=e||this.document,this.document.on("change",this.$onChange)}$clipPositionToDocument(e,t){var s={};return e>=this.document.getLength()?(s.row=Math.max(0,this.document.getLength()-1),s.column=this.document.getLine(s.row).length):e<0?(s.row=0,s.column=0):(s.row=e,s.column=Math.min(this.document.getLine(s.row).length,Math.max(0,t))),t<0&&(s.column=0),s}}function o(e,t,s){var i=s?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}n.prototype.$insertRight=!1,i.implement(n.prototype,r),t.M=n},3610:(e,t)=>{"use strict";t.T=function(e,t,s){var i=t.start.row,r=t.start.column,n=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=n.substring(0,r)+t.lines[0]+n.substring(r);else{var o=[i,1].concat(t.lines);e.splice.apply(e,o),e[i]=n.substring(0,r)+e[i],e[i+t.lines.length-1]+=n.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=n.substring(0,r)+n.substring(a):e.splice(i,l-i+1,n.substring(0,r)+e[l].substring(a))}}},8549:(e,t,s)=>{"use strict";var i=s(8297),r=s(8770).b;class n{constructor(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var s=this;this.$worker=function(){if(s.running){for(var e=new Date,t=s.currentLine,i=-1,r=s.doc,n=t;s.lines[t];)t++;var o=r.getLength(),a=0;for(s.running=!1;t<o;){s.$tokenizeRow(t),i=t;do{t++}while(s.lines[t]);if(++a%5==0&&new Date-e>20){s.running=setTimeout(s.$worker,20);break}}s.currentLine=t,-1==i&&(i=t),n<=i&&s.fireUpdateEvent(n,i)}}}setTokenizer(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)}setDocument(e){this.doc=e,this.lines=[],this.states=[],this.stop()}fireUpdateEvent(e,t){var s={first:e,last:t};this._signal("update",{data:s})}start(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)}scheduleStart(){this.running||(this.running=setTimeout(this.$worker,700))}$updateOnChange(e){var t=e.start.row,s=e.end.row-t;if(0===s)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,s+1,null),this.states.splice(t,s+1,null);else{var i=Array(s+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()}stop(){this.running&&clearTimeout(this.running),this.running=!1}getTokens(e){return this.lines[e]||this.$tokenizeRow(e)}getState(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"}$tokenizeRow(e){var t=this.doc.getLine(e),s=this.states[e-1],i=this.tokenizer.getLineTokens(t,s,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}cleanup(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}i.implement(n.prototype,r),t.K=n},2789:(e,t,s)=>{"use strict";var i=s(8953),r=s(3927),n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;t.t=class{constructor(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=n.test(e.getValue())}isBidiRow(e,t,s){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,s),this.updateBidiMap()),this.bidiMap.bidiLevels)}onChange(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&n.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)}getDocumentRow(){var e=0,t=this.session.$screenRowCache;if(t.length){var s=this.session.$getRowCacheIndex(t,this.currentRow);s>=0&&(e=this.session.$docRowCache[s])}return e}getSplitIndex(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var s,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(s=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=s,e++;else e=this.currentRow;return e}updateRowLine(e,t){void 0===e&&(e=this.getDocumentRow());var s=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var n=this.session.$wrapData[e];n&&(void 0===t&&(t=this.getSplitIndex()),t>0&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<n.length?this.line.substring(n[t-1],n[t]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[t]),t==n.length&&(this.line+=this.showInvisibles?s:i.DOT))}else this.line+=this.showInvisibles?s:i.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(o="\t"===e?a.getScreenTabSize(t+l):2,l+=o-1,r.stringRepeat(i.DOT,o)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)}updateBidiMap(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}}markAsDirty(){this.currentRow=null}updateCharacterWidths(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,s=e.$measureCharWidth("ה");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=s,this.charWidths[i.R_H]=.45*s,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}}setShowInvisibles(e){this.showInvisibles=e,this.currentRow=null}setEolChar(e){this.EOL=e}setContentWidth(e){this.contentWidth=e}isRtlLine(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)}setRtlDirection(e,t){for(var s=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=s.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)}getPosLeft(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,s=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(s,this.bidiMap),n=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&n[r]%2!=0&&r++;for(var a=0;a<r;a++)o+=this.charWidths[n[a]];return!this.session.getOverwrite()&&e>t&&n[r]%2==0&&(o+=this.charWidths[n[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o}getSelections(e,t){var s,i=this.bidiMap,r=i.bidiLevels,n=[],o=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,h=!1,c=!1,d=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,p=0;p<r.length;p++)u=i.logicalFromVisual[p],s=r[p],(h=u>=a&&u<l)&&!c?d=o:!h&&c&&n.push({left:d,width:o-d}),o+=this.charWidths[s],c=h;if(h&&p===r.length&&n.push({left:d,width:o-d}),this.isRtlDir)for(var m=0;m<n.length;m++)n[m].left+=this.rtlLineOffset;return n}offsetToCol(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,s=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,n=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>s+n/2;){if(s+=n,i===r.length-1){n=0;break}n=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<s&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>s?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===n&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==n&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}},2317:e=>{"use strict";var t;e.exports={lineMode:!1,pasteCancelled:function(){return!!(t&&t>Date.now()-50)||(t=!1)},cancel:function(){t=Date.now()}}},7439:(e,t,s)=>{"use strict";var i=s(8297),r=s(1686).MultiHashHandler,n=s(8770).b;class o extends r{constructor(e,t){super(t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))}exec(e,t,s){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,s))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:s};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue}toggleRecording(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)}replay(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}}trimMacro(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}i.implement(o.prototype,n),t.F=o},4696:(e,t,s)=>{"use strict";var i=s(3927),r=s(5133),n=s(4074).Q;function o(e,t){return{win:e,mac:t}}t.P=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(e){for(var t=e.selection.isBackwards(),s=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(s.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(s.row),h=s.row+1;h<=r.row+1;h++){var c=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(h)));0!==c.length&&(c=" "+c),l+=c}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new n(s.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(s.row,s.column),e.selection.selectTo(s.row,s.column+a)):(o=e.session.doc.getLine(s.row).length>o?o+1:o,e.selection.moveCursorTo(s.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,s=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row===t&&i[o].end.column===s||r.push(new n(i[o].end.row,i[o].end.column,t,s))),0===o?0===i[o].start.row&&0===i[o].start.column||r.push(new n(0,0,i[o].start.row,i[o].start.column)):r.push(new n(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),o=0;o<r.length;o++)e.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.P.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})},8675:(e,t,s)=>{t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=s(1686).HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)},5133:(e,t,s)=>{e=s.nmd(e);var i=s(3927),r=s(5700),n=s(215),o=s(8913).o;e.exports=t=new o;var a,l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&n.useStrictCSP(t)},t.all=function(){return i.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var s=e.split("/"),i="snippets"==(t=t||s[s.length-2]||"")?"/":"-",r=s[s.length-1];if("worker"==t&&"-"==i){var n=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(n,"")}(!r||r==t)&&s.length>1&&(r=s[s.length-2]);var o=l[t+"Path"];return null==o?o=l.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.setLoader=function(e){a=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(e,i){var n;if(Array.isArray(e))var o=e[0],l=e[1];else"string"==typeof e&&(l=e);var c=function(e){if(e&&!t.$loading[l])return i&&i(e);if(t.$loading[l]||(t.$loading[l]=[]),t.$loading[l].push(i),!(t.$loading[l].length>1)){var n=function(){!function(e,t){"ace/theme/textmate"===e||"./theme/textmate"===e?t(0,s(4707)):a?a(e,t):console.error("loader is not configured")}(l,(function(e,s){s&&(t.$loaded[l]=s),t._emit("load.module",{name:l,module:s});var i=t.$loading[l];t.$loading[l]=null,i.forEach((function(e){e&&e(s)}))}))};if(!t.get("packaged"))return n();r.loadScript(t.moduleUrl(l,o),n),h()}};if(t.dynamicModules[l])t.dynamicModules[l]().then((function(e){e.default?c(e.default):c(e)}));else{try{n=this.$require(l)}catch(e){}c(n||t.$loaded[l])}},t.$require=function(t){if("function"==typeof e.require)return e.require(t)},t.setModuleLoader=function(e,s){t.dynamicModules[e]=s};var h=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};t.version="1.33.2"},2364:e=>{e.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "↩";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'},8086:(e,t,s)=>{"use strict";var i=s(8297),r=s(3610).T,n=s(8770).b,o=s(4074).Q,a=s(9486).M;class l{constructor(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}setValue(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")}getValue(){return this.getAllLines().join(this.getNewLineCharacter())}createAnchor(e,t){return new a(this,e,t)}$detectNewLine(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")}getNewLineCharacter(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}}setNewLineMode(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))}getNewLineMode(){return this.$newLineMode}isNewLine(e){return"\r\n"==e||"\r"==e||"\n"==e}getLine(e){return this.$lines[e]||""}getLines(e,t){return this.$lines.slice(e,t+1)}getAllLines(){return this.getLines(0,this.getLength())}getLength(){return this.$lines.length}getTextRange(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())}getLinesForRange(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var s=t.length-1;e.end.row-e.start.row==s&&(t[s]=t[s].substring(0,e.end.column))}return t}insertLines(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)}removeLines(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)}insertNewLine(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])}insert(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))}insertInLine(e,t){var s=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:s,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)}clippedPos(e,t){var s=this.getLength();void 0===e?e=s:e<0?e=0:e>=s&&(e=s-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}}clonePos(e){return{row:e.row,column:e.column}}pos(e,t){return{row:e,column:t}}$clipPosition(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e}insertFullLines(e,t){var s=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),s=0):(t=[""].concat(t),e--,s=this.$lines[e].length),this.insertMergedLines({row:e,column:s},t)}insertMergedLines(e,t){var s=this.clippedPos(e.row,e.column),i={row:s.row+t.length-1,column:(1==t.length?s.column:0)+t[t.length-1].length};return this.applyDelta({start:s,end:i,action:"insert",lines:t}),this.clonePos(i)}remove(e){var t=this.clippedPos(e.start.row,e.start.column),s=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:s,action:"remove",lines:this.getLinesForRange({start:t,end:s})}),this.clonePos(t)}removeInLine(e,t,s){var i=this.clippedPos(e,t),r=this.clippedPos(e,s);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)}removeFullLines(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var s=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=s?e-1:e,n=s?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,h=new o(r,n,a,l),c=this.$lines.slice(e,t+1);return this.applyDelta({start:h.start,end:h.end,action:"remove",lines:this.getLinesForRange(h)}),c}removeNewLine(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})}replace(e,t){return e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)}applyDeltas(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])}revertDeltas(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])}applyDelta(e,t){var s="insert"==e.action;(s?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(s&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))}$safeApplyDelta(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)}$splitAndapplyLargeDelta(e,t){for(var s=e.lines,i=s.length-t+1,r=e.start.row,n=e.start.column,o=0,a=0;o<i;o=a){a+=t-1;var l=s.slice(o,a);l.push(""),this.applyDelta({start:this.pos(r+o,n),end:this.pos(r+a,n=0),action:e.action,lines:l},!0)}e.lines=s.slice(o),e.start.row=r+o,e.start.column=n,this.applyDelta(e,!0)}revertDelta(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})}indexToPosition(e,t){for(var s=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,n=s.length;r<n;r++)if((e-=s[r].length+i)<0)return{row:r,column:e+s[r].length+i};return{row:n-1,column:e+s[n-1].length+i}}positionToIndex(e,t){for(var s=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,n=Math.min(e.row,s.length),o=t||0;o<n;++o)r+=s[o].length+i;return r+e.column}$split(e){return e.split(/\r\n|\r|\n/)}}l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",i.implement(l.prototype,n),t.y=l},9276:(e,t,s)=>{"use strict";var i=s(8297),r=s(3927),n=s(2789).t,o=s(5133),a=s(8770).b,l=s(3933).L,h=s(6044).K,c=s(4074).Q,d=s(8086).y,u=s(8549).K,p=s(8748).V,m=s(258).a;class g{constructor(e,t){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++g.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new u((new h).getTokenizer(),this);var s=this;this.bgTokenizer.on("update",(function(e){s._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new n(this),o.resetOptions(this),this.setMode(t),o._signal("session",this),this.destroyed=!1}setDocument(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()}getDocument(){return this.doc}$resetRowCache(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,s=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>s&&(this.$docRowCache.splice(s,t),this.$screenRowCache.splice(s,t))}$getRowCacheIndex(e,t){for(var s=0,i=e.length-1;s<=i;){var r=s+i>>1,n=e[r];if(t>n)s=r+1;else{if(!(t<n))return r;i=r-1}}return s-1}resetCaches(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)}onChangeFold(e){var t=e.data;this.$resetRowCache(t.start.row)}onChange(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)}setValue(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const t=new m;t.$undoStack=e.history.undo,t.$redoStack=e.history.redo,t.mark=e.history.mark,t.$rev=e.history.rev;const s=new g(e.value);return e.folds.forEach((function(e){s.addFold("...",c.fromPoints(e.start,e.end))})),s.setAnnotations(e.annotations),s.setBreakpoints(e.breakpoints),s.setMode(e.mode),s.setScrollLeft(e.scrollLeft),s.setScrollTop(e.scrollTop),s.setUndoManager(t),s.selection.fromJSON(e.selection),s}toJSON(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}}toString(){return this.doc.getValue()}getSelection(){return this.selection}getState(e){return this.bgTokenizer.getState(e)}getTokens(e){return this.bgTokenizer.getTokens(e)}getTokenAt(e,t){var s,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var n=i.length-1;r=this.getLine(e).length}else for(n=0;n<i.length&&!((r+=i[n].value.length)>=t);n++);return(s=i[n])?(s.index=n,s.start=r-s.value.length,s):null}setUndoManager(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}}markUndoGroup(){this.$syncInformUndoManager&&this.$syncInformUndoManager()}getUndoManager(){return this.$undoManager||this.$defaultUndoManager}getTabString(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"}setUseSoftTabs(e){this.setOption("useSoftTabs",e)}getUseSoftTabs(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs}setTabSize(e){this.setOption("tabSize",e)}getTabSize(){return this.$tabSize}isTabStop(e){return this.$useSoftTabs&&e.column%this.$tabSize==0}setNavigateWithinSoftTabs(e){this.setOption("navigateWithinSoftTabs",e)}getNavigateWithinSoftTabs(){return this.$navigateWithinSoftTabs}setOverwrite(e){this.setOption("overwrite",e)}getOverwrite(){return this.$overwrite}toggleOverwrite(){this.setOverwrite(!this.$overwrite)}addGutterDecoration(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})}removeGutterDecoration(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})}getBreakpoints(){return this.$breakpoints}setBreakpoints(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})}clearBreakpoints(){this.$breakpoints=[],this._signal("changeBreakpoint",{})}setBreakpoint(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}clearBreakpoint(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}addMarker(e,t,s,i){var r=this.$markerId++,n={range:e,type:s||"line",renderer:"function"==typeof s?s:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=n,this._signal("changeFrontMarker")):(this.$backMarkers[r]=n,this._signal("changeBackMarker")),r}addDynamicMarker(e,t){if(e.update){var s=this.$markerId++;return e.id=s,e.inFront=!!t,t?(this.$frontMarkers[s]=e,this._signal("changeFrontMarker")):(this.$backMarkers[s]=e,this._signal("changeBackMarker")),e}}removeMarker(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}getMarkers(e){return e?this.$frontMarkers:this.$backMarkers}highlight(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)}highlightLines(e,t,s,i){"number"!=typeof t&&(s=t,t=e),s||(s="ace_step");var r=new c(e,0,t,1/0);return r.id=this.addMarker(r,s,"fullLine",i),r}setAnnotations(e){this.$annotations=e,this._signal("changeAnnotation",{})}getAnnotations(){return this.$annotations||[]}clearAnnotations(){this.setAnnotations([])}$detectNewLine(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"}getWordRange(e,t){var s=this.getLine(e),i=!1;if(t>0&&(i=!!s.charAt(t-1).match(this.tokenRe)),i||(i=!!s.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(s.slice(t-1,t+1))?/\s/:this.nonTokenRe;var n=t;if(n>0){do{n--}while(n>=0&&s.charAt(n).match(r));n++}for(var o=t;o<s.length&&s.charAt(o).match(r);)o++;return new c(e,n,e,o)}getAWordRange(e,t){for(var s=this.getWordRange(e,t),i=this.getLine(s.end.row);i.charAt(s.end.column).match(/[ \t]/);)s.end.column+=1;return s}setNewLineMode(e){this.doc.setNewLineMode(e)}getNewLineMode(){return this.doc.getNewLineMode()}setUseWorker(e){this.setOption("useWorker",e)}getUseWorker(){return this.$useWorker}onReloadTokenizer(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)}setMode(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var s=e,i=s.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[i]&&!s)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,o.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!s?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(s),s||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)}$onChangeMode(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var s=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:s,mode:e}))}}$stopWorker(){this.$worker&&(this.$worker.terminate(),this.$worker=null)}$startWorker(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}}getMode(){return this.$mode}setScrollTop(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))}getScrollTop(){return this.$scrollTop}setScrollLeft(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))}getScrollLeft(){return this.$scrollLeft}getScreenWidth(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth}getLineWidgetMaxWidth(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e}$computeWidth(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),s=this.$rowLengthCache,i=0,r=0,n=this.$foldData[r],o=n?n.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if((l=n.end.row+1)>=a)break;o=(n=this.$foldData[r++])?n.start.row:1/0}null==s[l]&&(s[l]=this.$getStringScreenWidth(t[l])[0]),s[l]>i&&(i=s[l])}this.screenWidth=i}}getLine(e){return this.doc.getLine(e)}getLines(e,t){return this.doc.getLines(e,t)}getLength(){return this.doc.getLength()}getTextRange(e){return this.doc.getTextRange(e||this.selection.getRange())}insert(e,t){return this.doc.insert(e,t)}remove(e){return this.doc.remove(e)}removeFullLines(e,t){return this.doc.removeFullLines(e,t)}undoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var s=e.length-1;-1!=s;s--){var i=e[s];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}}redoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var s=0;s<e.length;s++){var i=e[s];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}}setUndoSelect(e){this.$undoSelect=e}$getUndoSelection(e,t){function s(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,n=0;n<e.length;n++){var o=e[n];o.start&&(i?s(o)?(r=o.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=o.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=o.start,-1==i.compare(r.row,r.column)&&(i=c.fromPoints(o.start,o.start))):i=s(o)?c.fromPoints(o.start,o.end):c.fromPoints(o.start,o.start))}return i}replace(e,t){return this.doc.replace(e,t)}moveText(e,t,s){var i=this.getTextRange(e),r=this.getFoldsInRange(e),n=c.fromPoints(t,t);if(!s){this.remove(e);var o=e.start.row-e.end.row;(h=o?-e.end.column:e.start.column-e.end.column)&&(n.start.row==e.end.row&&n.start.column>e.end.column&&(n.start.column+=h),n.end.row==e.end.row&&n.end.column>e.end.column&&(n.end.column+=h)),o&&n.start.row>=e.end.row&&(n.start.row+=o,n.end.row+=o)}if(n.end=this.insert(n.start,i),r.length){var a=e.start,l=n.start,h=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=h),e.end.row==a.row&&(e.end.column+=h),e.start.row+=o,e.end.row+=o,e})))}return n}indentRows(e,t,s){s=s.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},s)}outdentRows(e){for(var t=e.collapseRows(),s=new c(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var n=this.getLine(r);s.start.row=r,s.end.row=r;for(var o=0;o<i&&" "==n.charAt(o);++o);o<i&&"\t"==n.charAt(o)?(s.start.column=o,s.end.column=o+1):(s.start.column=0,s.end.column=o),this.remove(s)}}$moveLines(e,t,s){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),s<0){if((r=this.getRowFoldStart(e+s))<0)return 0;var i=r-e}else if(s>0){var r;if((r=this.getRowFoldEnd(t+s))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var n=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(n).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==s?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),o.length&&this.addFolds(o),i}moveLinesUp(e,t){return this.$moveLines(e,t,-1)}moveLinesDown(e,t){return this.$moveLines(e,t,1)}duplicateLines(e,t){return this.$moveLines(e,t,0)}$clipRowToDocument(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))}$clipColumnToRow(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)}$clipPositionToDocument(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var s=this.doc.getLength();e>=s?(e=s-1,t=this.doc.getLine(s-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}}$clipRangeToDocument(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e}setUseWrapMode(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}}getUseWrapMode(){return this.$useWrapMode}setWrapLimitRange(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))}adjustWrapLimit(e,t){var s=this.$wrapLimitRange;s.max<0&&(s={min:t,max:t});var i=this.$constrainWrapLimit(e,s.min,s.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)}$constrainWrapLimit(e,t,s){return t&&(e=Math.max(t,e)),s&&(e=Math.min(s,e)),e}getWrapLimit(){return this.$wrapLimit}setWrapLimit(e){this.setWrapLimitRange(e,e)}getWrapLimitRange(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}}$updateInternalDataOnChange(e){var t=this.$useWrapMode,s=e.action,i=e.start,r=e.end,n=i.row,o=r.row,a=o-n,l=null;if(this.$updating=!0,0!=a)if("remove"===s){this[t?"$wrapData":"$rowLengthCache"].splice(n,a);var h=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var c=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var d=this.getFoldLine(n);d&&d!==g&&(d.merge(g),g=d),c=h.indexOf(g)+1}for(;c<h.length;c++)(g=h[c]).start.row>=r.row&&g.shiftRow(-a);o=n}else{var u=Array(a);u.unshift(n,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,u),h=this.$foldData,c=0,g=this.getFoldLine(n)){var m=g.range.compareInside(i.row,i.column);0==m?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-i.column)):-1==m&&(g.addRemoveChars(n,0,r.column-i.column),g.shiftRow(a)),c=h.indexOf(g)+1}for(;c<h.length;c++){var g;(g=h[c]).start.row>=n&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===s&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(n))&&g.addRemoveChars(n,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(n,o):this.$updateRowLengthCache(n,o),l}$updateRowLengthCache(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null}$updateWrapData(e,t){var s,i,r=this.doc.getAllLines(),n=this.getTabSize(),o=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);l<=t;)(i=this.getFoldLine(l,i))?(s=[],i.walk(function(e,t,i,n){var o;if(null!=e){(o=this.$getDisplayTokens(e,s.length))[0]=w;for(var a=1;a<o.length;a++)o[a]=x}else o=this.$getDisplayTokens(r[t].substring(n,i),s.length);s=s.concat(o)}.bind(this),i.end.row,r[i.end.row].length+1),o[i.start.row]=this.$computeWrapSplits(s,a,n),l=i.end.row+1):(s=this.$getDisplayTokens(r[l]),o[l]=this.$computeWrapSplits(s,a,n),l++)}$computeWrapSplits(e,t,s){if(0==e.length)return[];var i=[],r=e.length,n=0,o=0,a=this.$wrapAsCode,l=this.$indentedSoftWrap,h=t<=Math.max(2*s,8)||!1===l?0:Math.floor(t/2);function c(t){for(var r=t-n,c=n;c<t;c++){var u=e[c];12!==u&&2!==u||(r-=1)}i.length||(d=function(){var t=0;if(0===h)return t;if(l)for(var i=0;i<e.length;i++){var r=e[i];if(r==b)t+=1;else{if(r!=C){if(r==A)continue;break}t+=s}}return a&&!1!==l&&(t+=s),Math.min(t,h)}(),i.indent=d),o+=r,i.push(o),n=t}for(var d=0;r-n>t-d;){var u=n+t-d;if(e[u-1]>=b&&e[u]>=b)c(u);else if(e[u]!=w&&e[u]!=x){for(var p=Math.max(u-(t-(t>>2)),n-1);u>p&&e[u]<w;)u--;if(a){for(;u>p&&e[u]<w;)u--;for(;u>p&&e[u]==v;)u--}else for(;u>p&&e[u]<b;)u--;u>p?c(++u):(e[u=n+t]==y&&u--,c(u-d))}else{for(;u!=n-1&&e[u]!=w;u--);if(u>n){c(u);continue}for(u=n+t;u<e.length&&e[u]==x;u++);if(u==e.length)break;c(u)}}return i}$getDisplayTokens(e,t){var s,i=[];t=t||0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(9==n){s=this.getScreenTabSize(i.length+t),i.push(C);for(var o=1;o<s;o++)i.push(A)}else 32==n?i.push(b):n>39&&n<48||n>57&&n<64?i.push(v):n>=4352&&S(n)?i.push(f,y):i.push(f)}return i}$getStringScreenWidth(e,t,s){if(0==t)return[0,0];var i,r;for(null==t&&(t=1/0),s=s||0,r=0;r<e.length&&(9==(i=e.charCodeAt(r))?s+=this.getScreenTabSize(s):i>=4352&&S(i)?s+=2:s+=1,!(s>t));r++);return[s,r]}getRowLength(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t}getRowLineCount(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1}getRowWrapIndent(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),s=this.$wrapData[t.row];return s.length&&s[0]<t.column?s.indent:0}return 0}getScreenLastRowColumn(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)}getDocumentLastRowColumn(e,t){var s=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(s)}getDocumentLastRowColumnPosition(e,t){var s=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(s,Number.MAX_VALUE/10)}getRowSplitData(e){return this.$useWrapMode?this.$wrapData[e]:void 0}getScreenTabSize(e){return this.$tabSize-(e%this.$tabSize|0)}screenToDocumentRow(e,t){return this.screenToDocumentPosition(e,t).row}screenToDocumentColumn(e,t){return this.screenToDocumentPosition(e,t).column}screenToDocumentPosition(e,t,s){if(e<0)return{row:0,column:0};var i,r,n=0,o=0,a=0,l=0,h=this.$screenRowCache,c=this.$getRowCacheIndex(h,e),d=h.length;if(d&&c>=0){a=h[c],n=this.$docRowCache[c];var u=e>h[d-1]}else u=!d;for(var p=this.getLength()-1,m=this.getNextFoldLine(n),g=m?m.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(n))>e||n>=p);)a+=l,++n>g&&(n=m.end.row+1,g=(m=this.getNextFoldLine(n,m))?m.start.row:1/0),u&&(this.$docRowCache.push(n),this.$screenRowCache.push(a));if(m&&m.start.row<=n)i=this.getFoldDisplayLine(m),n=m.start.row;else{if(a+l<=e||n>p)return{row:p,column:this.getLine(p).length};i=this.getLine(n),m=null}var f=0,y=Math.floor(e-a);if(this.$useWrapMode){var w=this.$wrapData[n];w&&(r=w[y],y>0&&w.length&&(f=w.indent,o=w[y-1]||w[w.length-1],i=i.substring(o)))}return void 0!==s&&this.$bidiHandler.isBidiRow(a+y,n,y)&&(t=this.$bidiHandler.offsetToCol(s)),o+=this.$getStringScreenWidth(i,t-f)[1],this.$useWrapMode&&o>=r&&(o=r-1),m?m.idxToPosition(o):{row:n,column:o}}documentToScreenPosition(e,t){if(void 0===t)var s=this.$clipPositionToDocument(e.row,e.column);else s=this.$clipPositionToDocument(e,t);e=s.row,t=s.column;var i,r=0,n=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var o,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,e),c=l.length;if(c&&h>=0){a=l[h],r=this.$screenRowCache[h];var d=e>l[c-1]}else d=!c;for(var u=this.getNextFoldLine(a),p=u?u.start.row:1/0;a<e;){if(a>=p){if((o=u.end.row+1)>e)break;p=(u=this.getNextFoldLine(o,u))?u.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,d&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var m="";u&&a>=p?(m=this.getFoldDisplayLine(u,e,t),n=u.start.row):(m=this.getLine(e).substring(0,t),n=e);var g=0;if(this.$useWrapMode){var f=this.$wrapData[n];if(f){for(var y=0;m.length>=f[y];)r++,y++;m=m.substring(f[y-1]||0,m.length),g=y>0?f.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(m)[0]}}documentToScreenColumn(e,t){return this.documentToScreenPosition(e,t).column}documentToScreenRow(e,t){return this.documentToScreenPosition(e,t).row}getScreenLength(){var e=0,t=null;if(this.$useWrapMode)for(var s=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<s;){var n=this.$wrapData[i];e+=n?n.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)e-=(t=o[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e}$setFontMetrics(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,s,i){if(0===s)return[0,0];var r,n;for(s||(s=1/0),i=i||0,n=0;n<t.length&&!((i+="\t"===(r=t.charAt(n))?this.getScreenTabSize(i):e.getCharacterWidth(r))>s);n++);return[i,n]})}getPrecedingCharacter(){var e=this.selection.getCursor();return 0===e.column?0===e.row?"":this.doc.getNewLineCharacter():this.getLine(e.row)[e.column-1]}destroy(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()}}g.$uid=0,g.prototype.$modes=o.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=S,i.implement(g.prototype,a);var f=1,y=2,w=3,x=4,v=9,b=10,C=11,A=12;function S(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}s(9706).M.call(g.prototype),s(7845).k.call(g.prototype),o.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.f=g},7845:(e,t,s)=>{"use strict";var i=s(1871).TokenIterator,r=s(4074).Q;t.k=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var s=t||this.getLine(e.row).charAt(e.column-1);if(""==s)return null;var i=s.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,s=this.getLine(e.row),i=!0,n=s.charAt(e.column-1),o=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(o||(n=s.charAt(e.column),e={row:e.row,column:e.column+1},o=n&&n.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var s=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,n=!t&&s.charAt(e.column-1),o=n&&n.match(i);if(o||(n=(void 0===t||t)&&s.charAt(e.column),e={row:e.row,column:e.column+1},o=n&&n.match(i)),!o)return null;var a=new r(e.row,e.column-1,e.row,e.column),l=o[1]?this.$findClosingBracket(o[1],e):this.$findOpeningBracket(o[2],e);return l?[a,new r(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,s){var r=this.$brackets[e],n=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){s||(s=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==r){if(0==(n-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else c==e&&(n+=1);l-=1}do{a=o.stepBackward()}while(a&&!s.test(a.type));if(null==a)break;l=(h=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,s){var r=this.$brackets[e],n=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){s||(s=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;l<c;){var d=h.charAt(l);if(d==r){if(0==(n-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else d==e&&(n+=1);l+=1}do{a=o.stepForward()}while(a&&!s.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),s=this.$findTagName(t);if(s)return"<"===t.stepBackward().value?this.$findClosingTag(t,s):this.$findOpeningTag(t,s)},this.$findTagName=function(e){var t=e.getCurrentToken(),s=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(s=!0))}while(t&&!s);return t},this.$findClosingTag=function(e,t){var s,i=t.value,n=t.value,o=0,a=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),h=!1;do{if(-1!==(s=t).type.indexOf("tag-close")&&!h){var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);h=!0}if(t=e.stepForward())if(">"!==t.value||h||(c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),h=!0),-1!==t.type.indexOf("tag-name")){if(n===(i=t.value))if("<"===s.value)o++;else if("</"===s.value&&--o<0){e.stepBackward();var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),!t||">"!==t.value)return;var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else n===i&&"/>"===t.value&&--o<0&&(p=u=d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),c=new r(l.end.row,l.end.column,l.end.row,l.end.column+1))}while(t&&o>=0);if(a&&c&&d&&p&&l&&u)return{openTag:new r(a.start.row,a.start.column,c.end.row,c.end.column),closeTag:new r(d.start.row,d.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:u}},this.$findOpeningTag=function(e,t){var s=e.getCurrentToken(),i=t.value,n=0,o=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,h=new r(o,a,o,l);e.stepForward();var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),t&&">"===t.value){var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=s,o=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,s=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===s.value){if(++n>0){var u=new r(o,a,o,l),p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var m=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===s.value&&n--}else if("/>"===t.value){for(var g=0,f=s;f;){if(-1!==f.type.indexOf("tag-name")&&f.value===i){n--;break}if("<"===f.value)break;f=e.stepBackward(),g++}for(var y=0;y<g;y++)e.stepForward()}}while(s&&n<=0);return p&&m&&h&&d&&u&&c?{openTag:new r(p.start.row,p.start.column,m.end.row,m.end.column),closeTag:new r(h.start.row,h.start.column,d.end.row,d.end.column),openTagName:u,closeTagName:c}:void 0}}}},2684:(e,t,s)=>{"use strict";var i=s(9537).U;class r extends i{constructor(e,t){super(),this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]}toString(){return'"'+this.placeholder+'" '+this.range.toString()}setFoldLine(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))}clone(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t}addSubFold(e){if(!this.range.isEqual(e)){var t,s;t=e,s=this.start,n(t.start,s),n(t.end,s);for(var i=e.start.row,r=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,r));o++);var l=this.subFolds[o],h=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);h=1}i=e.range.end.row,r=e.range.end.column;var c=o;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(i,r));c++);0==a&&c++;for(var d=this.subFolds.splice(o,c-o,e),u=0==a?d.length-1:d.length,p=h;p<u;p++)e.addSubFold(d[p]);return e.setFoldLine(this.foldLine),e}}restoreRange(e){return function(e,t){o(e.start,t),o(e.end,t)}(e,this.start)}}function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}t.a=r},9365:(e,t,s)=>{"use strict";var i=s(4074).Q;class r{constructor(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var s=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}shiftRow(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))}addFold(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this}containsRow(e){return e>=this.start.row&&e<=this.end.row}walk(e,t,s){var i,r,n=0,o=this.folds,a=!0;null==t&&(t=this.end.row,s=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(t,s)))return void e(null,t,s,n,a);if(!e(null,i.start.row,i.start.column,n,a)&&e(i.placeholder,i.start.row,i.start.column,n)||0===r)return;a=!i.sameRow,n=i.end.column}e(null,t,s,n,a)}getNextFoldTo(e,t){for(var s,i,r=0;r<this.folds.length;r++){if(-1==(i=(s=this.folds[r]).range.compareEnd(e,t)))return{fold:s,kind:"after"};if(0===i)return{fold:s,kind:"inside"}}return null}addRemoveChars(e,t,s){var i,r,n=this.getNextFoldTo(e,t);if(n)if(i=n.fold,"inside"==n.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=s);o<r.length;o++){if((i=r[o]).start.column+=s,!i.sameRow)return;i.end.column+=s}this.end.column+=s}}split(e,t){var s=this.getNextFoldTo(e,t);if(!s||"inside"==s.kind)return null;var i=s.fold,n=this.folds,o=this.foldData,a=n.indexOf(i),l=n[a-1];this.end.row=l.end.row,this.end.column=l.end.column,n=n.splice(a,n.length-a);var h=new r(o,n);return o.splice(o.indexOf(this)+1,0,h),h}merge(e){for(var t=e.folds,s=0;s<t.length;s++)this.addFold(t[s]);var i=this.foldData;i.splice(i.indexOf(e),1)}toString(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")}idxToPosition(e){for(var t=0,s=0;s<this.folds.length;s++){var i=this.folds[s];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}t.M=r},9706:(e,t,s)=>{"use strict";var i=s(4074).Q,r=s(9365).M,n=s(2684).a,o=s(1871).TokenIterator,a=s(6475).C;t.M=function(){this.getFoldAt=function(e,t,s){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,n=0;n<r.length;n++){var o=r[n].range;if(o.contains(e,t)){if(1==s&&o.isEnd(e,t)&&!o.isEmpty())continue;if(-1==s&&o.isStart(e,t)&&!o.isEmpty())continue;return r[n]}}},this.getFoldsInRange=function(e){var t=e.start,s=e.end,i=this.$foldData,r=[];t.column+=1,s.column-=1;for(var n=0;n<i.length;n++){var o=i[n].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=i[n].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(o=h.range.compareRange(e)))break;if(2!=o){if(42==o)break;r.push(h)}}}}return t.column-=1,s.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,s=0;s<t.length;s++)for(var i=0;i<t[s].folds.length;i++)e.push(t[s].folds[i]);return e},this.getFoldStringAt=function(e,t,s,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,n,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(n=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(n.start.row).substring(o.end.column,n.start.column);break}if(0===l)return null;o=n}return r||(r=this.getLine(n.start.row).substring(o.end.column)),-1==s?r.substring(0,t-o.end.column):1==s?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var s=this.$foldData,i=0;for(t&&(i=s.indexOf(t)),-1==i&&(i=0);i<s.length;i++){var r=s[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var s=this.$foldData,i=0;for(t&&(i=s.indexOf(t)),-1==i&&(i=0);i<s.length;i++){var r=s[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var s=this.$foldData,i=t-e+1,r=0;r<s.length;r++){var n=s[r],o=n.end.row,a=n.start.row;if(o>=t){a<t&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var s,i=this.$foldData,o=!1;e instanceof n?s=e:(s=new n(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(s.range);var a=s.start.row,l=s.start.column,h=s.end.row,c=s.end.column,d=this.getFoldAt(a,l,1),u=this.getFoldAt(h,c,-1);if(d&&u==d)return d.addSubFold(s);d&&!d.range.isStart(a,l)&&this.removeFold(d),u&&!u.range.isEnd(h,c)&&this.removeFold(u);var p=this.getFoldsInRange(s.range);p.length>0&&(this.removeFolds(p),s.collapseChildren||p.forEach((function(e){s.addSubFold(e)})));for(var m=0;m<i.length;m++){var g=i[m];if(h==g.start.row){g.addFold(s),o=!0;break}if(a==g.end.row){if(g.addFold(s),o=!0,!s.sameRow){var f=i[m+1];if(f&&f.start.row==h){g.merge(f);break}}break}if(h<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,s))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:s,action:"add"}),s},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,s=t.start.row,i=t.end.row,r=this.$foldData,n=t.folds;if(1==n.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))n.pop(),t.end.row=n[n.length-1].end.row,t.end.column=n[n.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))n.shift(),t.start.row=n[0].start.row,t.start.column=n[0].start.column;else if(e.sameRow)n.splice(n.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(n=o.folds).shift(),o.start.row=n[0].start.row,o.start.column=n[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(s,i):this.$updateRowLengthCache(s,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var s,r;if(null==e)s=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)s=new i(e,0,e,this.getLine(e).length);else if("row"in e)s=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;s=e}for(var n=r=this.getFoldsInRangeList(s);1==r.length&&i.comparePoints(r[0].start,s.start)<0&&i.comparePoints(r[0].end,s.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(s);if(0!=t?this.removeFolds(r):this.expandFolds(r),n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var s=this.getFoldLine(e,t);return s?s.end.row:e},this.getRowFoldStart=function(e,t){var s=this.getFoldLine(e,t);return s?s.start.row:e},this.getFoldDisplayLine=function(e,t,s,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==s&&(s=this.getLine(t).length);var n=this.doc,o="";return e.walk((function(e,t,s,a){if(!(t<i)){if(t==i){if(s<r)return;a=Math.max(r,a)}o+=null!=e?e:n.getLine(t).substring(a,s)}}),t,s),o},this.getDisplayLine=function(e,t,s,i){var r,n=this.getFoldLine(e);return n?this.getFoldDisplayLine(n,e,t,s,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var s=t.folds.map((function(e){return e.clone()}));return new r(e,s)}))},this.toggleFold=function(e){var t,s,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(s=this.findMatchingBracket(r))?1==i.comparePoint(s)?i.end=s:(i.start=s,i.start.column++,i.end.column--):(s=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(s)?i.end=s:i.start=s,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var n=this.getFoldsInRange(i);if(e&&n.length)return void this.expandFolds(n);1==n.length&&(t=n[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(e,t,s){var r=new o(this,e,t),n=r.getCurrentToken(),a=n&&n.type;if(n&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var l=new RegExp(a),h=new i;if(1!=s){do{n=r.stepBackward()}while(n&&l.test(n.type)&&!/^comment.end/.test(n.type));n=r.stepForward()}if(h.start.row=r.getCurrentTokenRow(),h.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(n.type)?n.value.length:2),r=new o(this,e,t),-1!=s){var c=-1;do{if(n=r.stepForward(),-1==c){var d=this.getState(r.$row);l.test(d)||(c=r.$row)}else if(r.$row>c)break}while(n&&l.test(n.type)&&!/^comment.start/.test(n.type));n=r.stepBackward()}else n=r.getCurrentToken();return h.end.row=r.getCurrentTokenRow(),h.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(n.type)||(h.end.column+=n.value.length-2),h}},this.foldAll=function(e,t,s,i){null==s&&(s=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var n=e=e||0;n<t;n++)if(null==r[n]&&(r[n]=this.getFoldWidget(n)),"start"==r[n]&&(!i||i(n))){var o=this.getFoldWidgetRange(n);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(n=o.end.row,o.collapseChildren=s,this.addFold("...",o))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var s=e.getTokens(t),i=0;i<s.length;i++){var r=s[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var s=this.foldWidgets;if(!s||t&&s[e])return{};for(var i,r=e-1;r>=0;){var n=s[r];if(null==n&&(n=s[r]=this.getFoldWidget(r)),"start"==n){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t instanceof a&&(t=t.domEvent);var s={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,s)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var s=this.getFoldWidget(e),i=this.getLine(e),r="end"===s?-1:1,n=this.getFoldAt(e,-1===r?0:i.length,r);if(n)return t.children||t.all?this.removeFold(n):this.expandFold(n),n;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(n=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(n.range))return this.removeFold(n),n;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,t.all?1e4:0)}else t.children?(h=o?o.end.row:this.getLength(),this.foldAll(e+1,h,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var s=this.$toggleFoldWidget(t,{});if(!s){var i=this.getParentFoldRangeData(t,!0);if(s=i.range||i.firstRange){t=s.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",s)}}},this.updateFoldWidgets=function(e){var t=e.start.row,s=e.end.row-t;if(0===s)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,s+1,null);else{var i=Array(s+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}},4342:(e,t,s)=>{"use strict";var i=s(8297),r=s(215),n=s(3927),o=s(6483),a=s(8004).k,l=s(423).e,h=s(3939).e,c=s(4369).$,d=s(9276).f,u=s(1143).v,p=s(4074).Q,m=s(8770).b,g=s(7439).F,f=s(4696).P,y=s(5133),w=s(1871).TokenIterator,x=s(3175).G,v=s(1293).S,b=s(5133).nls,C=s(2317),A=s(3679);class S{constructor(e,t,s){this.session,this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++S.$uid,this.commands=new g(o.isMac?"mac":"win",f),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new h(this)),this.keyBinding=new c(this),this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=n.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||s&&s.session||new d("")),y.resetOptions(this),s&&this.setOptions(s),y._signal("editor",this)}$initOperationListeners(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=n.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)}startOperation(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()}endOperation(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,s=t&&t.scrollIntoView;if(s){switch(s){case"center-animate":s="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==s&&this.renderer.animateScrolling(this.curOp.scrollTop)}var n=this.selection.toJSON();this.curOp.selectionAfter=n,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(n),this.prevOp=this.curOp,this.curOp=null}}$historyTracker(e){if(this.$mergeUndoDeltas){var t=this.prevOp,s=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==s.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==s.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}}setKeyboardHandler(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var s=this;y.loadModule(["keybinding",e],(function(i){s.$keybindingId==e&&s.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()}getKeyboardHandler(){return this.keyBinding.getKeyboardHandler()}setSession(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var s=this.session.getSelection();s.off("changeCursor",this.$onCursorChange),s.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}}getSession(){return this.session}setValue(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e}getValue(){return this.session.getValue()}getSelection(){return this.selection}resize(e){this.renderer.onResize(e)}setTheme(e,t){this.renderer.setTheme(e,t)}getTheme(){return this.renderer.getTheme()}setStyle(e){this.renderer.setStyle(e)}unsetStyle(e){this.renderer.unsetStyle(e)}getFontSize(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize}setFontSize(e){this.setOption("fontSize",e)}$highlightBrackets(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var s=e.getCursorPosition(),i=e.getKeyboardHandler(),r=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),n=t.getMatchingBracketRanges(s,r);if(!n){var o=new w(t,s.row,s.column).getCurrentToken();if(o&&/\b(?:tag-open|tag-name)/.test(o.type)){var a=t.getMatchingTags(s);a&&(n=[a.openTagName.isEmpty()?a.openTag:a.openTagName,a.closeTagName.isEmpty()?a.closeTag:a.closeTagName])}}if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var l="ace_bracket";Array.isArray(n)?1==n.length&&(l="ace_error_bracket"):n=[n],2==n.length&&(0==p.comparePoints(n[0].end,n[1].start)?n=[p.fromPoints(n[0].start,n[1].end)]:0==p.comparePoints(n[0].start,n[1].end)&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}}focus(){this.textInput.focus()}isFocused(){return this.textInput.isFocused()}blur(){this.textInput.blur()}onFocus(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))}onBlur(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))}$cursorChange(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()}onDocumentChange(e){var t=this.session.$useWrapMode,s=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,s,t),this._signal("change",e),this.$cursorChange()}onTokenizerUpdate(e){var t=e.data;this.renderer.updateLines(t.first,t.last)}onScrollTopChange(){this.renderer.scrollToY(this.session.getScrollTop())}onScrollLeftChange(){this.renderer.scrollToX(this.session.getScrollLeft())}onCursorChange(){this.$cursorChange(),this._signal("changeSelection")}$updateHighlightActiveLine(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var s=new p(e.row,e.column,e.row,1/0);s.id=t.addMarker(s,"ace_active-line","screenLine"),t.$highlightLineMarker=s}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))}onSelectionChange(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var s=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(s,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")}$getSelectionHighLightRegexp(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var s=t.start.column,i=t.end.column,r=e.getLine(t.start.row),n=r.substring(s,i);if(!(n.length>5e3)&&/[\w\d]/.test(n)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:n}),a=r.substring(s-1,i+1);if(o.test(a))return o}}}onChangeFrontMarker(){this.renderer.updateFrontMarkers()}onChangeBackMarker(){this.renderer.updateBackMarkers()}onChangeBreakpoint(){this.renderer.updateBreakpoints()}onChangeAnnotation(){this.renderer.setAnnotations(this.session.getAnnotations())}onChangeMode(e){this.renderer.updateText(),this._emit("changeMode",e)}onChangeWrapLimit(){this.renderer.updateFull()}onChangeWrapMode(){this.renderer.onResize(!0)}onChangeFold(){this.$updateHighlightActiveLine(),this.renderer.updateFull()}getSelectedText(){return this.session.getTextRange(this.getSelectionRange())}getCopyText(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),s=!1;if(!e&&this.$copyWithEmptySelection){s=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var n=i[r];r&&i[r-1].start.row==n.start.row||(e+=this.session.getLine(n.start.row)+t)}}var o={text:e};return this._signal("copy",o),C.lineMode=!!s&&o.text,o.text}onCopy(){this.commands.exec("copy",this)}onCut(){this.commands.exec("cut",this)}onPaste(e,t){var s={text:e,event:t};this.commands.exec("paste",this,s)}$handlePaste(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,s=t===C.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)s?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(s)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges,o=!(2!=r.length||r[0]&&r[1]);if(r.length!=n.length||o)return this.commands.exec("insertstring",this,t);for(var a=n.length;a--;){var l=n[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}}execCommand(e,t){return this.commands.exec(e,this,t)}insert(e,t){var s=this.session,i=s.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var n=i.transformAction(s.getState(r.row),"insertion",this,s,e);n&&(e!==n.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=n.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((o=p.fromPoints(r,r)).end.column+=e.length,this.session.remove(o));else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=s.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);s.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var h=r.column,c=s.getState(r.row),d=(a=s.getLine(r.row),i.checkOutdent(c,a,e));if(s.insert(r,e),n&&n.selection&&(2==n.selection.length?this.selection.setSelectionRange(new p(r.row,h+n.selection[0],r.row,h+n.selection[1])):this.selection.setSelectionRange(new p(r.row+n.selection[0],n.selection[1],r.row+n.selection[2],n.selection[3]))),this.$enableAutoIndent){if(s.getDocument().isNewLine(e)){var u=i.getNextLineIndent(c,a.slice(0,r.column),s.getTabString());s.insert({row:r.row+1,column:0},u)}d&&i.autoOutdent(c,s,r.row)}}autoIndent(){for(var e=this.session,t=e.getMode(),s=this.selection.isEmpty()?[new p(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),i="",r="",n="",o=e.getTabString(),a=0;a<s.length;a++)for(var l=s[a].start.row,h=s[a].end.row,c=l;c<=h;c++){c>0&&(i=e.getState(c-1),r=e.getLine(c-1),n=t.getNextLineIndent(i,r,o));var d=e.getLine(c),u=t.$getIndent(d);if(n!==u){if(u.length>0){var m=new p(c,0,c,u.length);e.remove(m)}n.length>0&&e.insert({row:c,column:0},n)}t.autoOutdent(i,e,c)}}onTextInput(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var s=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(s):s(),this.endOperation()}applyComposition(e,t){var s;(t.extendLeft||t.extendRight)&&((s=this.selection.getRange()).start.column-=t.extendLeft,s.end.column+=t.extendRight,s.start.column<0&&(s.start.row--,s.start.column+=this.session.getLine(s.start.row).length+1),this.selection.setRange(s),e||s.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((s=this.selection.getRange()).start.column-=t.restoreStart,s.end.column-=t.restoreEnd,this.selection.setRange(s))}onCommandKey(e,t,s){return this.keyBinding.onCommandKey(e,t,s)}setOverwrite(e){this.session.setOverwrite(e)}getOverwrite(){return this.session.getOverwrite()}toggleOverwrite(){this.session.toggleOverwrite()}setScrollSpeed(e){this.setOption("scrollSpeed",e)}getScrollSpeed(){return this.getOption("scrollSpeed")}setDragDelay(e){this.setOption("dragDelay",e)}getDragDelay(){return this.getOption("dragDelay")}setSelectionStyle(e){this.setOption("selectionStyle",e)}getSelectionStyle(){return this.getOption("selectionStyle")}setHighlightActiveLine(e){this.setOption("highlightActiveLine",e)}getHighlightActiveLine(){return this.getOption("highlightActiveLine")}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}setHighlightSelectedWord(e){this.setOption("highlightSelectedWord",e)}getHighlightSelectedWord(){return this.$highlightSelectedWord}setAnimatedScroll(e){this.renderer.setAnimatedScroll(e)}getAnimatedScroll(){return this.renderer.getAnimatedScroll()}setShowInvisibles(e){this.renderer.setShowInvisibles(e)}getShowInvisibles(){return this.renderer.getShowInvisibles()}setDisplayIndentGuides(e){this.renderer.setDisplayIndentGuides(e)}getDisplayIndentGuides(){return this.renderer.getDisplayIndentGuides()}setHighlightIndentGuides(e){this.renderer.setHighlightIndentGuides(e)}getHighlightIndentGuides(){return this.renderer.getHighlightIndentGuides()}setShowPrintMargin(e){this.renderer.setShowPrintMargin(e)}getShowPrintMargin(){return this.renderer.getShowPrintMargin()}setPrintMarginColumn(e){this.renderer.setPrintMarginColumn(e)}getPrintMarginColumn(){return this.renderer.getPrintMarginColumn()}setReadOnly(e){this.setOption("readOnly",e)}getReadOnly(){return this.getOption("readOnly")}setBehavioursEnabled(e){this.setOption("behavioursEnabled",e)}getBehavioursEnabled(){return this.getOption("behavioursEnabled")}setWrapBehavioursEnabled(e){this.setOption("wrapBehavioursEnabled",e)}getWrapBehavioursEnabled(){return this.getOption("wrapBehavioursEnabled")}setShowFoldWidgets(e){this.setOption("showFoldWidgets",e)}getShowFoldWidgets(){return this.getOption("showFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}remove(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var s=this.session,i=s.getState(t.start.row),r=s.getMode().transformAction(i,"deletion",this,s,t);if(0===t.end.column){var n=s.getTextRange(t);if("\n"==n[n.length-1]){var o=s.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()}removeWordRight(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeWordLeft(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineStart(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineEnd(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()}splitLine(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)}setGhostText(e,t){this.session.widgetManager||(this.session.widgetManager=new x(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)}removeGhostText(){this.session.widgetManager&&this.renderer.removeGhostText()}transposeLetters(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var s,i,r=this.session.getLine(e.row);t<r.length?(s=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(s=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,s),this.session.selection.moveToPosition(i.end)}}}toLowerCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),s=this.session.getTextRange(t);this.session.replace(t,s.toLowerCase()),this.selection.setSelectionRange(e)}toUpperCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),s=this.session.getTextRange(t);this.session.replace(t,s.toUpperCase()),this.selection.setSelectionRange(e)}indent(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var s=e.getTextRange(t);if(!/^\s+$/.test(s))return c=this.$getSelectedRows(),void e.indentRows(c.first,c.last,"\t")}var i=e.getLine(t.start.row),r=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o-a%o,h=n.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),h="\t"}return this.insert(h)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")}blockIndent(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")}blockOutdent(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())}sortLines(){for(var e=this.$getSelectedRows(),t=this.session,s=[],i=e.first;i<=e.last;i++)s.push(t.getLine(i));s.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var n=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=n.length,t.replace(r,s[i-e.first])}}toggleCommentLines(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)}toggleBlockComment(){var e=this.getCursorPosition(),t=this.session.getState(e.row),s=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,s,e)}getNumberAt(e,t){var s=/[\-]?[0-9]+(?:\.[0-9]+)?/g;s.lastIndex=0;for(var i=this.session.getLine(e);s.lastIndex<t;){var r=s.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null}modifyNumber(e){var t=this.selection.getCursor().row,s=this.selection.getCursor().column,i=new p(t,s-1,t,s),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var n=this.getNumberAt(t,s);if(n){var o=n.value.indexOf(".")>=0?n.start+n.value.indexOf(".")+1:n.end,a=n.start+n.value.length-o,l=parseFloat(n.value);l*=Math.pow(10,a),o!==n.end&&s<o?e*=Math.pow(10,n.end-s-1):e*=Math.pow(10,n.end-s),l+=e;var h=(l/=Math.pow(10,a)).toFixed(a),c=new p(t,n.start,t,n.end);this.session.replace(c,h),this.moveCursorTo(t,Math.max(n.start+1,s+h.length-n.value.length))}}else this.toggleWord()}toggleWord(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var s=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=s.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-i-1;o<0&&(o=0);var a=0,l=0,h=this;s.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,o>=a&&o<=l&&(s=t,h.selection.clearSelection(),h.moveCursorTo(e,a+i),h.selection.selectTo(e,l+i)),a=l}));for(var c,d=this.$toggleWordPairs,u=0;u<d.length;u++)for(var p=d[u],m=0;m<=1;m++){var g=+!m,f=s.match(new RegExp("^\\s?_?("+n.escapeRegExp(p[m])+")\\s?$","i"));f&&s.match(new RegExp("([_]|^|\\s)("+n.escapeRegExp(f[1])+")($|\\s)","g"))&&(c=s.replace(new RegExp(n.escapeRegExp(p[m]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(c),c="")}}findLinkAt(e,t){var s=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),i=t;i<0&&(i=0);var r,n=0,o=0;for(let e of s){if(o=n+e.length,i>=n&&i<=o&&e.match(/((?:https?|ftp):\/\/[\S]+)/)){r=e.replace(/[\s:.,'";}\]]+$/,"");break}n=o}return r}openLink(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t}removeLines(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()}duplicateSelection(){var e=this.selection,t=this.session,s=e.getRange(),i=e.isBackwards();if(s.isEmpty()){var r=s.start.row;t.duplicateLines(r,r)}else{var n=i?s.start:s.end,o=t.insert(n,t.getTextRange(s));s.start=n,s.end=o,e.setSelectionRange(s,i)}}moveLinesDown(){this.$moveLines(1,!1)}moveLinesUp(){this.$moveLines(-1,!1)}moveText(e,t,s){return this.session.moveText(e,t,s)}copyLinesUp(){this.$moveLines(-1,!0)}copyLinesDown(){this.$moveLines(1,!0)}$moveLines(e,t){var s,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var n=r.toOrientedRange();s=this.$getSelectedRows(n),i=this.session.$moveLines(s.first,s.last,t?0:e),t&&-1==e&&(i=0),n.moveBy(i,0),r.fromOrientedRange(n)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=o.length,c=0;c<h;c++){var d=c;o[c].moveBy(a,0);for(var u=(s=this.$getSelectedRows(o[c])).first,p=s.last;++c<h;){l&&o[c].moveBy(l,0);var m=this.$getSelectedRows(o[c]);if(t&&m.first!=p)break;if(!t&&m.first>p+1)break;p=m.last}for(c--,a=this.session.$moveLines(u,p,t?0:e),t&&-1==e&&(d=c+1);d<=c;)o[d].moveBy(a,0),d++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}}$getSelectedRows(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}}onCompositionStart(e){this.renderer.showComposition(e)}onCompositionUpdate(e){this.renderer.setCompositionText(e)}onCompositionEnd(){this.renderer.hideComposition()}getFirstVisibleRow(){return this.renderer.getFirstVisibleRow()}getLastVisibleRow(){return this.renderer.getLastVisibleRow()}isRowVisible(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()}isRowFullyVisible(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()}$getVisibleRowCount(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1}$moveByPage(e,t){var s=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var n=s.scrollTop;s.scrollBy(0,r*i.lineHeight),null!=t&&s.scrollCursorIntoView(null,.5),s.animateScrolling(n)}selectPageDown(){this.$moveByPage(1,!0)}selectPageUp(){this.$moveByPage(-1,!0)}gotoPageDown(){this.$moveByPage(1,!1)}gotoPageUp(){this.$moveByPage(-1,!1)}scrollPageDown(){this.$moveByPage(1)}scrollPageUp(){this.$moveByPage(-1)}scrollToRow(e){this.renderer.scrollToRow(e)}scrollToLine(e,t,s,i){this.renderer.scrollToLine(e,t,s,i)}centerSelection(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)}getCursorPosition(){return this.selection.getCursor()}getCursorPositionScreen(){return this.session.documentToScreenPosition(this.getCursorPosition())}getSelectionRange(){return this.selection.getRange()}selectAll(){this.selection.selectAll()}clearSelection(){this.selection.clearSelection()}moveCursorTo(e,t){this.selection.moveCursorTo(e,t)}moveCursorToPosition(e){this.selection.moveCursorToPosition(e)}jumpToMatching(e,t){var s=this.getCursorPosition(),i=new w(this.session,s.row,s.column),r=i.getCurrentToken(),n=0;r&&-1!==r.type.indexOf("tag-name")&&(r=i.stepBackward());var o=r||i.stepForward();if(o){var a,l,h=!1,c={},d=s.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;d<o.value.length&&!h;d++)if(u[o.value[d]])switch(l=u[o.value[d]]+"."+o.type.replace("rparen","lparen"),isNaN(c[l])&&(c[l]=0),o.value[d]){case"(":case"[":case"{":c[l]++;break;case")":case"]":case"}":c[l]--,-1===c[l]&&(a="bracket",h=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value&&n>1?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(a="tag",h=!0));h||(r=o,n++,o=i.stepForward(),d=0)}while(o&&!h);if(a){var m,g;if("bracket"===a)(m=this.session.getBracketRange(s))||(g=(m=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1)).start,(t||g.row===s.row&&Math.abs(g.column-s.column)<2)&&(m=this.session.getBracketRange(g)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;if(0===(m=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(s.row,s.column)){var f=this.session.getMatchingTags(s);f&&(f.openTag.contains(s.row,s.column)?g=(m=f.closeTag).start:(m=f.openTag,g=f.closeTag.start.row===s.row&&f.closeTag.start.column===s.column?m.end:m.start))}g=g||m.start}(g=m&&m.cursor||g)&&(e?m&&t?this.selection.setRange(m):m&&m.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}}gotoLine(e,t,s){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,s)}navigateTo(e,t){this.selection.moveTo(e,t)}navigateUp(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)}navigateDown(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)}navigateLeft(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()}navigateRight(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()}navigateLineStart(){this.selection.moveCursorLineStart(),this.clearSelection()}navigateLineEnd(){this.selection.moveCursorLineEnd(),this.clearSelection()}navigateFileEnd(){this.selection.moveCursorFileEnd(),this.clearSelection()}navigateFileStart(){this.selection.moveCursorFileStart(),this.clearSelection()}navigateWordRight(){this.selection.moveCursorWordRight(),this.clearSelection()}navigateWordLeft(){this.selection.moveCursorWordLeft(),this.clearSelection()}replace(e,t){t&&this.$search.set(t);var s=this.$search.find(this.session),i=0;return s?(this.$tryReplace(s,e)&&(i=1),this.selection.setSelectionRange(s),this.renderer.scrollSelectionIntoView(s.start,s.end),i):i}replaceAll(e,t){t&&this.$search.set(t);var s=this.$search.findAll(this.session),i=0;if(!s.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var n=s.length-1;n>=0;--n)this.$tryReplace(s[n],e)&&i++;return this.selection.setSelectionRange(r),i}$tryReplace(e,t){var s=this.session.getTextRange(e);return null!==(t=this.$search.replace(s,t))?(e.end=this.session.replace(e,t),e):null}getLastSearchOptions(){return this.$search.getOptions()}find(e,t,s){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var n=this.$search.find(this.session);return t.preventScroll?n:n?(this.revealRange(n,s),n):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))}findNext(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)}findPrevious(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)}revealRange(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var s=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(s)}undo(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)}redo(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)}destroy(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()}setAutoScrollEditorIntoView(e){if(e){var t,s=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var n=this.on("changeSelection",(function(){i=!0})),o=this.renderer.on("beforeRender",(function(){i&&(t=s.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(s.isFocused()||s.searchBox&&s.searchBox.isFocused())){var e=s.renderer,n=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=n.top-o.offset;null!=(i=n.top>=0&&a+t.top<0||!(n.top<o.height&&n.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=n.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",n),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}}$resetCursorStyle(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}prompt(e,t,s){var i=this;y.loadModule("ace/ext/prompt",(function(r){r.prompt(i,e,t,s)}))}}S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],i.implement(S.prototype,m),y.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?T.attach(this):T.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?T.attach(this):T.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,s={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},i=function(e){if(e.target==this.renderer.scroller&&e.keyCode===A.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(o.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",b("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",b("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",i.bind(this)),this.commands.addCommand(s),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",b("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",b("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new v(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",i.bind(this)),this.commands.removeCommand(s),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var T={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,s){return Math.max(t.toString().length,(s.lastRow+1).toString().length,2)*s.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.K=S},7914:(e,t,s)=>{"use strict";var i=s(3175).G,r=s(215),n=s(4074).Q,o=s(5133).nls;t.showErrorMarker=function(e,t){var s=e.session;s.widgetManager||(s.widgetManager=new i(s),s.widgetManager.attach(e));var a=e.getCursorPosition(),l=a.row,h=s.widgetManager.getWidgetsAtRow(l).filter((function(e){return"errorMarker"==e.type}))[0];h?h.destroy():l-=t;var c,d=function(e,t,s){var i=e.getAnnotations().sort(n.comparePoints);if(i.length){var r=function(e,t,s){for(var i=0,r=e.length-1;i<=r;){var n=i+r>>1,o=s(t,e[n]);if(o>0)i=n+1;else{if(!(o<0))return n;r=n-1}}return-(i+1)}(i,{row:t,column:-1},n.comparePoints);r<0&&(r=-r-1),r>=i.length?r=s>0?0:i.length-1:0===r&&s<0&&(r=i.length-1);var o=i[r];if(o&&s){if(o.row===t){do{o=i[r+=s]}while(o&&o.row===t);if(!o)return i.slice()}var a=[];t=o.row;do{a[s<0?"unshift":"push"](o),o=i[r+=s]}while(o&&o.row==t);return a.length&&a}}}(s,l,t);if(d){var u=d[0];a.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,a.row=u.row,c=e.renderer.$gutterLayer.$annotations[a.row]}else{if(h)return;c={text:[o("error-marker.good-state","Looks good!")],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var p={row:a.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},m=p.el.appendChild(r.createElement("div")),g=p.el.appendChild(r.createElement("div"));g.className="error_widget_arrow "+c.className;var f=e.renderer.$cursorLayer.getPixelPosition(a).left;g.style.left=f+e.renderer.gutterWidth-5+"px",p.el.className="error_widget_wrapper",m.className="error_widget "+c.className,m.innerHTML=c.text.join("<br>"),m.appendChild(r.createElement("div"));var y=function(e,t,s){if(0===t&&("esc"===s||"return"===s))return p.destroy(),{command:"null"}};p.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(y),s.widgetManager.removeLineWidget(p),e.off("changeSelection",p.destroy),e.off("changeSession",p.destroy),e.off("mouseup",p.destroy),e.off("change",p.destroy))},e.keyBinding.addKeyboardHandler(y),e.on("changeSelection",p.destroy),e.on("changeSession",p.destroy),e.on("mouseup",p.destroy),e.on("change",p.destroy),e.session.widgetManager.addLineWidget(p),p.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:p.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)},1293:(e,t,s)=>{"use strict";var i=s(3679),r=s(1689).Z;t.S=class{constructor(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}addListener(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))}removeListener(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))}$onGutterKeyDown(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===i.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=i.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),s=this.$findNearestAnnotation(e);if(null!==t||null!==s)return null===t&&null!==s?(this.activeRowIndex=s,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===s?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(s-e)<Math.abs(t-e)?(this.activeRowIndex=s,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new n(e,this))}.bind(this),10)}$handleGutterKeyboardInteraction(e){if(e.keyCode!==i.tab){if(e.keyCode===i.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==i.up)if(e.keyCode!==i.down){if(e.keyCode===i.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===i.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==i.enter&&e.keyCode!==i.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var s=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=s.right+"px",r.top=s.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()}$blurGutter(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()}$isFoldWidgetVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),s="none"!==this.$getFoldWidget(e).style.display;return t&&s}$isAnnotationVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),s="none"!==this.$getAnnotation(e).style.display;return t&&s}$getFoldWidget(e){return this.lines.get(e).element.childNodes[1]}$getAnnotation(e){return this.lines.get(e).element.childNodes[2]}$findNearestFoldWidget(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null}$findNearestAnnotation(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null}$focusFoldWidget(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$focusAnnotation(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$blurFoldWidget(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$blurAnnotation(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$moveFoldWidgetUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)}$moveFoldWidgetDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)}$moveAnnotationUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)}$moveAnnotationDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)}$switchLane(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var s=this.$findNearestFoldWidget(this.activeRowIndex);if(null==s)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex)}}$rowIndexToRow(e){var t=this.lines.get(e);return t?t.row:null}$rowToRowIndex(e){for(var t=0;t<this.lines.getLength();t++)if(this.lines.get(t).row==e)return t;return null}};class n{constructor(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}getKey(){return i.keyCodeToString(this.domEvent.keyCode)}getRow(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)}isInAnnotationLane(){return"annotation"===this.gutterKeyboardHandler.activeLane}isInFoldLane(){return"fold"===this.gutterKeyboardHandler.activeLane}}},1686:(e,t,s)=>{"use strict";var i=s(3679),r=s(6483),n=i.KEY_MODS;class o{constructor(e,t){this.$init(e,t,!1)}$init(e,t,s){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=s}addCommand(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)}removeCommand(e,t){var s=e&&("string"==typeof e?e:e.name);e=this.commands[s],t||delete this.commands[s];var i=this.commandKeyBinding;for(var r in i){var n=i[r];if(n==e)delete i[r];else if(Array.isArray(n)){var o=n.indexOf(e);-1!=o&&(n.splice(o,1),1==n.length&&(i[r]=n[0]))}}}bindKey(e,t,s){if("object"==typeof e&&e&&(null==s&&(s=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),s=n[t.hashId]+t.key;i+=(i?" ":"")+s,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(e),a=n[o.hashId]+o.key;this._addCommandToBinding(i+a,t,s)}),this)}_addCommandToBinding(e,t,s){var i,r=this.commandKeyBinding;if(t)if(!r[e]||this.$singleCommand)r[e]=t;else{Array.isArray(r[e])?-1!=(i=r[e].indexOf(t))&&r[e].splice(i,1):r[e]=[r[e]],"number"!=typeof s&&(s=a(t));var n=r[e];for(i=0;i<n.length&&!(a(n[i])>s);i++);n.splice(i,0,t)}else delete r[e]}addCommands(e){e&&Object.keys(e).forEach((function(t){var s=e[t];if(s){if("string"==typeof s)return this.bindKey(s,t);"function"==typeof s&&(s={exec:s}),"object"==typeof s&&(s.name||(s.name=t),this.addCommand(s))}}),this)}removeCommands(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)}bindKeys(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)}_buildKeyHash(e){this.bindKey(e.bindKey,e)}parseKeys(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),s=t.pop(),r=i[s];if(i.FUNCTION_KEYS[r])s=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:s,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:s.toUpperCase(),hashId:-1}}for(var n=0,o=t.length;o--;){var a=i.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;n|=a}return{key:s,hashId:n}}findKeyCommand(e,t){var s=n[e]+t;return this.commandKeyBinding[s]}handleKeyboard(e,t,s,i){if(!(i<0)){var r=n[t]+s,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=s.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}}getStatusText(e,t){return t.$keyChain||""}}function a(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}class l extends o{constructor(e,t){super(e,t),this.$singleCommand=!0}}l.call=function(e,t,s){o.prototype.$init.call(e,t,s,!0)},o.call=function(e,t,s){o.prototype.$init.call(e,t,s,!1)},t.HashHandler=l,t.MultiHashHandler=o},4369:(e,t,s)=>{"use strict";var i=s(3679),r=s(2507);t.$=class{constructor(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}setDefaultHandler(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)}setKeyboardHandler(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}}addKeyboardHandler(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var s=this.$handlers.indexOf(e);-1!=s&&this.$handlers.splice(s,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==s&&e.attach&&e.attach(this.$editor)}}removeKeyboardHandler(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)}getKeyboardHandler(){return this.$handlers[this.$handlers.length-1]}getStatusText(){var e=this.$data,t=e.editor;return this.$handlers.map((function(s){return s.getStatusText&&s.getStatusText(t,e)||""})).filter(Boolean).join(" ")}$callKeyboardHandlers(e,t,s,i){for(var n,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((n=this.$handlers[l].handleKeyboard(this.$data,e,t,s,i))&&n.command&&((o="null"==n.command||a.exec(n.command,this.$editor,n.args,i))&&i&&-1!=e&&1!=n.passEvent&&1!=n.command.passEvent&&r.stopEvent(i),o)););return o||-1!=e||(n={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),o}onCommandKey(e,t,s){var r=i.keyCodeToString(s);return this.$callKeyboardHandlers(t,r,s,e)}onTextInput(e){return this.$callKeyboardHandlers(-1,e)}}},8004:(e,t,s)=>{"use strict";var i,r=s(2507),n=s(5133).nls,o=s(6483),a=s(215),l=s(3927),h=s(2317),c=o.isChrome<18,d=o.isIE,u=o.isChrome>63,p=400,m=s(3679),g=m.KEY_MODS,f=o.isIOS,y=f?/\s/:/\n/,w=o.isMobile;i=function(e,t){var s=a.createElement("textarea");s.className="ace_text-input",s.setAttribute("wrap","off"),s.setAttribute("autocorrect","off"),s.setAttribute("autocapitalize","off"),s.setAttribute("spellcheck","false"),s.style.opacity="0",e.insertBefore(s,e.firstChild);var i=!1,x=!1,v=!1,b=!1,C="";w||(s.style.fontSize="1px");var A=!1,S=!1,T="",k=0,E=0,$=0,P=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,I=0;try{var M=document.activeElement===s}catch(e){}this.setNumberOfExtraLines=function(e){P=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,I=e<0?0:e},this.setAriaOptions=function(e){if(e.activeDescendant?(s.setAttribute("aria-haspopup","true"),s.setAttribute("aria-autocomplete",e.inline?"both":"list"),s.setAttribute("aria-activedescendant",e.activeDescendant)):(s.setAttribute("aria-haspopup","false"),s.setAttribute("aria-autocomplete","both"),s.removeAttribute("aria-activedescendant")),e.role&&s.setAttribute("role",e.role),e.setLabel&&(s.setAttribute("aria-roledescription",n("text-input.aria-roledescription","editor")),t.session)){var i=t.session.selection.cursor.row;s.setAttribute("aria-label",n("text-input.aria-label","Cursor at row $0",[i+1]))}},this.setAriaOptions({role:"textbox"}),r.addListener(s,"blur",(function(e){S||(t.onBlur(e),M=!1)}),t),r.addListener(s,"focus",(function(e){if(!S){if(M=!0,o.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),o.isEdge?setTimeout(R):R()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),C||u||"browser"==this.$focusScroll)return s.focus({preventScroll:!0});var e=s.style.top;s.style.position="fixed",s.style.top="0px";try{var i=0!=s.getBoundingClientRect().top}catch(e){return}var r=[];if(i)for(var n=s.parentElement;n&&1==n.nodeType;)r.push(n),n.setAttribute("ace_nocontext","true"),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;s.focus({preventScroll:!0}),i&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){s.style.position="","0px"==s.style.top&&(s.style.top=e)}),0)},this.blur=function(){s.blur()},this.isFocused=function(){return M},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);v&&r&&(T=s.value="",V()),R()}}));var N=function(e,s){for(var i=s,r=1;r<=e-P&&r<2*I+1;r++)i+=t.session.getLine(e-r).length+1;return i},R=f?function(e){if(M&&(!i||e)&&!b){e||(e="");var r="\n ab"+e+"cde fg\n";r!=s.value&&(s.value=T=r);var n=4+(e.length||(t.selection.isEmpty()?0:1));4==k&&E==n||s.setSelectionRange(4,n),k=4,E=n}}:function(){if(!v&&!b&&(M||O)){v=!0;var e=0,i=0,r="";if(t.session){var n=t.selection,o=n.getRange(),a=n.cursor.row;a===L+1?L=(P=L+1)+2*I:a===P-1?P=(L=P-1)-2*I:(a<P-1||a>L+1)&&(P=a>I?a-I:0,L=a>I?a+I:2*I);for(var l=[],h=P;h<=L;h++)l.push(t.session.getLine(h));if(r=l.join("\n"),e=N(o.start.row,o.start.column),i=N(o.end.row,o.end.column),o.start.row<P){var c=t.session.getLine(P-1);e=o.start.row<P-1?0:e,i+=c.length+1,r=c+"\n"+r}else if(o.end.row>L){var d=t.session.getLine(L+1);i=o.end.row>L+1?d.length:o.end.column,i+=r.length+1,r=r+"\n"+d}else w&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>p&&(e<p&&i<p?r=r.slice(0,p):(r="\n",e==i?e=i=0:(e=0,i=1)));var u=r+"\n\n";u!=T&&(s.value=T=u,k=E=u.length)}if(O&&(k=s.selectionStart,E=s.selectionEnd),E!=i||k!=e||s.selectionEnd!=E)try{s.setSelectionRange(e,i),k=e,E=i}catch(e){}v=!1}};this.resetSelection=R,M&&t.onFocus();var D=null;this.setInputHandler=function(e){D=e},this.getInputHandler=function(){return D};var O=!1,F=function(e,i){if(O&&(O=!1),x)return R(),e&&t.onPaste(e),x=!1,"";for(var r=s.selectionStart,n=s.selectionEnd,a=k,l=T.length-E,h=e,c=e.length-r,d=e.length-n,u=0;a>0&&T[u]==e[u];)u++,a--;for(h=h.slice(u),u=1;l>0&&T.length-u>k-1&&T[T.length-u]==e[e.length-u];)u++,l--;c-=u-1,d-=u-1;var p=h.length-u+1;if(p<0&&(a=-p,p=0),h=h.slice(0,p),!(i||h||c||a||l||d))return"";b=!0;var m=!1;return o.isAndroid&&". "==h&&(h="  ",m=!0),h&&!a&&!l&&!c&&!d||A?t.onTextInput(h):t.onTextInput(h,{extendLeft:a,extendRight:l,restoreStart:c,restoreEnd:d}),b=!1,T=e,k=r,E=n,$=d,m?"\n":h},_=function(e){if(v)return j();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=s.value,r=F(i,!0);(i.length>500||y.test(r)||w&&k<1&&k==E)&&R()},B=function(e,t,s){var i=e.clipboardData||window.clipboardData;if(i&&!c){var r=d||s?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!s)return B(e,t,!0)}}},W=function(e,n){var o=t.getCopyText();if(!o)return r.preventDefault(e);B(e,o)?(f&&(R(o),i=o,setTimeout((function(){i=!1}),10)),n?t.onCut():t.onCopy(),r.preventDefault(e)):(i=!0,s.value=o,s.select(),setTimeout((function(){i=!1,R(),n?t.onCut():t.onCopy()})))},H=function(e){W(e,!0)},U=function(e){W(e,!1)},z=function(e){var i=B(e);h.pasteCancelled()||("string"==typeof i?(i&&t.onPaste(i,e),o.isIE&&setTimeout(R),r.preventDefault(e)):(s.value="",x=!0))};r.addCommandKeyListener(s,(function(e,s,i){if(!v)return t.onCommandKey(e,s,i)}),t),r.addListener(s,"select",(function(e){v||(i?i=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=T.length&&e.value===T&&T&&e.selectionEnd!==E}(s)?(t.selectAll(),R()):w&&s.selectionStart!=k&&R())}),t),r.addListener(s,"input",_,t),r.addListener(s,"cut",H,t),r.addListener(s,"copy",U,t),r.addListener(s,"paste",z,t),"oncut"in s&&"oncopy"in s&&"onpaste"in s||r.addListener(e,"keydown",(function(e){if((!o.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:U(e);break;case 86:z(e);break;case 88:H(e)}}),t);var j=function(){if(v&&t.onCompositionUpdate&&!t.$readOnly){if(A)return K();if(v.useTextareaForIME)t.onCompositionUpdate(s.value);else{var e=s.value;F(e),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+E-v.selectionStart+$)}}},V=function(e){t.onCompositionEnd&&!t.$readOnly&&(v=!1,t.onCompositionEnd(),t.off("mousedown",K),e&&_())};function K(){S=!0,s.blur(),s.focus(),S=!1}var G,Y=l.delayedCall(j,50).schedule.bind(null,null);function q(){clearTimeout(G),G=setTimeout((function(){C&&(s.style.cssText=C,C=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(s,"compositionstart",(function(e){if(!v&&t.onCompositionStart&&!t.$readOnly&&(v={},!A)){e.data&&(v.useTextareaForIME=!1),setTimeout(j,0),t._signal("compositionStart"),t.on("mousedown",K);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,v.markerRange=i,v.selectionStart=k,t.onCompositionStart(v),v.useTextareaForIME?(T=s.value="",k=0,E=0):(s.msGetInputContext&&(v.context=s.msGetInputContext()),s.getInputContext&&(v.context=s.getInputContext()))}}),t),r.addListener(s,"compositionupdate",j,t),r.addListener(s,"keyup",(function(e){27==e.keyCode&&s.value.length<s.selectionStart&&(v||(T=s.value),k=E=-1,R()),Y()}),t),r.addListener(s,"keydown",Y,t),r.addListener(s,"compositionend",V,t),this.getElement=function(){return s},this.setCommandMode=function(e){A=e,s.readOnly=!1},this.setReadOnly=function(e){A||(s.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){O=!0,R(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,i){C||(C=s.style.cssText),s.style.cssText=(i?"z-index:100000;":"")+(o.isIE?"opacity:0.1;":"")+"text-indent: -"+(k+E)*t.renderer.characterWidth*.5+"px;";var n=t.container.getBoundingClientRect(),l=a.computedStyle(t.container),h=n.top+(parseInt(l.borderTopWidth)||0),c=n.left+(parseInt(n.borderLeftWidth)||0),d=n.bottom-h-s.clientHeight-2,u=function(e){a.translate(s,e.clientX-c-2,Math.min(e.clientY-h-2,d))};u(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(G),o.isWin&&r.capture(t.container,u,q))},this.onContextMenuClose=q;var X=function(e){t.textInput.onContextMenu(e),q()};r.addListener(s,"mouseup",X,t),r.addListener(s,"mousedown",(function(e){e.preventDefault(),q()}),t),r.addListener(t.renderer.scroller,"contextmenu",X,t),r.addListener(s,"contextmenu",X,t),f&&function(e,t,s){var r=null,n=!1;s.addEventListener("keydown",(function(e){r&&clearTimeout(r),n=!0}),!0),s.addEventListener("keyup",(function(e){r=setTimeout((function(){n=!1}),100)}),!0);var o=function(e){if(document.activeElement===s&&!(n||v||t.$mouseHandler.isMousePressed||i)){var r=s.selectionStart,o=s.selectionEnd,a=null,l=0;if(0==r?a=m.up:1==r?a=m.home:o>E&&"\n"==T[o]?a=m.end:r<k&&" "==T[r-1]?(a=m.left,l=g.option):r<k||r==k&&E!=k&&r==o?a=m.left:o>E&&T.slice(0,o).split("\n").length>2?a=m.down:o>E&&" "==T[o-1]?(a=m.right,l=g.option):(o>E||o==E&&E!=k&&r==o)&&(a=m.right),r!==o&&(l|=g.shift),a){if(!t.onCommandKey({},l,a)&&t.commands){a=m.keyCodeToString(a);var h=t.commands.findKeyCommand(l,a);h&&t.execCommand(h)}k=r,E=o,R("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,s),this.destroy=function(){s.parentElement&&s.parentElement.removeChild(s)}},t.k=i},3655:(e,t,s)=>{"use strict";var i=s(215);class r{constructor(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}$updateOpacity(e){for(var t=this.cursors,s=t.length;s--;)i.setStyle(t[s].style,"opacity",e?"":"0")}$startCssAnimation(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))}$stopCssAnimation(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")}setPadding(e){this.$padding=e}setSession(e){this.session=e}setBlinking(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())}setBlinkInterval(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())}setSmoothBlinking(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())}addCursor(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e}removeCursor(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}}hideCursor(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}showCursor(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}restartTimer(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()}getPixelPosition(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,e.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),top:(s.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}}isCursorInView(e,t){return e.top>=0&&e.top<t.maxHeight}update(e){this.config=e;var t=this.session.$selectionMarkers,s=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),s=0;for(var n=t.length;s<n;s++){var o=this.getPixelPosition(t[s].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&s>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,e,t[s],this.session):this.isCursorInView(o,e)?(i.setStyle(l,"display","block"),i.translate(a,o.left,o.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=o,this.restartTimer()}$setOverwrite(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))}destroy(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}r.prototype.$padding=0,r.prototype.drawCursor=null,t.b=r},4227:(e,t,s)=>{"use strict";var i=s(215),r=s(8297),n=s(8770).b;class o{constructor(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}$updateDecorators(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var s=this.canvas.getContext("2d"),i=this.renderer.session.$annotations;if(s.clearRect(0,0,this.canvas.width,this.canvas.height),i){var r={info:1,warning:2,error:3};i.forEach((function(e){e.priority=r[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));var n=this.renderer.session.$foldData;for(let e=0;e<i.length;e++){let r=i[e].row,o=this.compensateFoldRows(r,n),a=Math.round((r-o)*this.lineHeight*this.heightRatio),l=Math.round((r-o)*this.lineHeight*this.heightRatio),h=Math.round(((r-o)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-l<this.minDecorationHeight){let e=(l+h)/2|0;e<this.halfMinDecorationHeight?e=this.halfMinDecorationHeight:e+this.halfMinDecorationHeight>this.canvasHeight&&(e=this.canvasHeight-this.halfMinDecorationHeight),l=Math.round(e-this.halfMinDecorationHeight),h=Math.round(e+this.halfMinDecorationHeight)}s.fillStyle=t[i[e].type]||null,s.fillRect(0,a,this.canvasWidth,h-l)}}var o=this.renderer.session.selection.getCursor();if(o){let e=this.compensateFoldRows(o.row,n),t=Math.round((o.row-e)*this.lineHeight*this.heightRatio);s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(0,t,this.canvasWidth,2)}}compensateFoldRows(e,t){let s=0;if(t&&t.length>0)for(let i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?s+=e-t[i].start.row:e>=t[i].end.row&&(s+=t[i].end.row-t[i].start.row);return s}}r.implement(o.prototype,n),t.K=o},5722:(e,t,s)=>{var i=s(8297),r=s(215),n=s(3927),o=s(2507),a=s(6483),l=s(8770).b,h=512,c="function"==typeof ResizeObserver,d=200;class u{constructor(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=n.stringRepeat("X",h),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()}$setMeasureNodeStyles(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"}checkForSizeChanges(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}}$addObserver(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)}$pollSizeChanges(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle((function t(){e.checkForSizeChanges(),o.onIdle(t,500)}),500)}setPolling(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)}$measureSizes(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/h};return 0===t.width||0===t.height?null:t}$measureCharWidth(e){return this.$main.textContent=n.stringRepeat(e,h),this.$main.getBoundingClientRect().width/h}getCharacterWidth(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t}destroy(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}$getZoom(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement):1}$initTransformMeasureNodes(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(d,0),e(0,d),e(d,d)],this.el)}transformCoordinates(e,t){function s(e,t,s){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*s[0]+t[0]*s[1])/i,(+e[1]*s[0]-e[0]*s[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function n(e,t){return[e*t[0],e*t[1]]}function o(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=n(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),h=o(this.els[2]),c=o(this.els[3]),u=s(i(c,l),i(c,h),i(r(l,h),r(c,a))),p=n(1+u[0],i(l,a)),m=n(1+u[1],i(h,a));if(t){var g=t,f=u[0]*g[0]/d+u[1]*g[1]/d+1,y=r(n(g[0],p),n(g[1],m));return r(n(1/f/d,y),a)}var w=i(e,a),x=s(i(p,n(u[0],w)),i(m,n(u[1],w)),w);return n(d,x)}}u.prototype.$characterSize={width:0,height:0},i.implement(u.prototype,l),t.X=u},4226:(e,t,s)=>{"use strict";var i=s(215),r=s(8297),n=s(3927),o=s(8770).b,a=s(3034).q,l=s(5133).nls;class h{constructor(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}setSession(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)}addGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)}removeGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)}setAnnotations(e){this.$annotations=[];for(var t=0;t<e.length;t++){var s=e[t],i=s.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[],type:[]});var o=s.text,a=s.type;o=o?n.escapeHTML(o):s.html||"",-1===r.text.indexOf(o)&&(r.text.push(o),r.type.push(a));var l=s.className;l?r.className=l:"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}}$updateAnnotations(e){if(this.$annotations.length){var t=e.start.row,s=e.end.row-t;if(0===s);else if("remove"==e.action)this.$annotations.splice(t,s+1,null);else{var i=new Array(s+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}}update(e){this.config=e;var t=this.session,s=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(s),n=r?r.start.row:1/0,o=null,a=-1,l=s;;){if(l>n&&(l=r.end.row+1,n=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(o=this.$lines.get(++a))?o.row=l:(o=this.$lines.createCell(l,e,this.session,c),this.$lines.push(o)),this.$renderCell(o,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)}$updateGutterWidth(e){var t=this.session,s=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var n=s?s.getWidth(t,r,e):r.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();(n+=o.left+o.right)===this.gutterWidth||isNaN(n)||(this.gutterWidth=n,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",n))}$updateCursorRow(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}}updateLineHighlight(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var s=0;s<t.length;s++){var i=t[s];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(s>0&&r&&r.start.row==t[s-1].row))break;i=t[s-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}}scrollLines(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var s=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=s,!t||i<e.firstRow)return this.update(e);if(s<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>s)for(r=this.session.getFoldedRowCount(s+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),s>i&&this.$lines.push(this.$renderLines(e,i+1,s)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)}$renderLines(e,t,s){for(var i=[],r=t,n=this.session.getNextFoldLine(r),o=n?n.start.row:1/0;r>o&&(r=n.end.row+1,o=(n=this.session.getNextFoldLine(r,n))?n.start.row:1/0),!(r>s);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,n,r),i.push(a),r++}return i}$renderCell(e,t,s,r){var n=e.element,o=this.session,a=n.childNodes[0],h=n.childNodes[1],c=n.childNodes[2],d=c.firstChild,u=o.$firstLineNumber,p=o.$breakpoints,m=o.$decorations,g=o.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&o.foldWidgets,y=s?s.start.row:Number.MAX_VALUE,w=t.lineHeight+"px",x=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",v=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",b=(g?g.getText(o,r):r+u).toString();if(this.$highlightGutterLine&&(r==this.$cursorRow||s&&r<this.$cursorRow&&r>=y&&this.$cursorRow<=s.end.row)&&(x+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),p[r]&&(x+=p[r]),m[r]&&(x+=m[r]),this.$annotations[r]&&r!==y&&(x+=this.$annotations[r].className),f){var C=f[r];null==C&&(C=f[r]=o.getFoldWidget(r))}if(C){var A="ace_fold-widget ace_"+C,S="start"==C&&r==y&&r<s.end.row;if(S){A+=" ace_closed";for(var T="",k=!1,E=r+1;E<=s.end.row;E++)if(this.$annotations[E]){if(" ace_error"===this.$annotations[E].className){k=!0,T=" ace_error_fold";break}" ace_warning"!==this.$annotations[E].className||(k=!0,T=" ace_warning_fold")}x+=T}else A+=" ace_open";h.className!=A&&(h.className=A),i.setStyle(h.style,"height",w),i.setStyle(h.style,"display","inline-block"),h.setAttribute("role","button"),h.setAttribute("tabindex","-1");var $=o.getFoldWidgetRange(r);$?h.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[$.start.row+1,$.end.row+1])):s?h.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[s.start.row+1,s.end.row+1])):h.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[r+1])),S?(h.setAttribute("aria-expanded","false"),h.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(h.setAttribute("aria-expanded","true"),h.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else h&&(i.setStyle(h.style,"display","none"),h.setAttribute("tabindex","0"),h.removeAttribute("role"),h.removeAttribute("aria-label"));if(k&&this.$showFoldedAnnotations){switch(c.className="ace_gutter_annotation",d.className=v,d.className+=T,i.setStyle(d.style,"height",w),i.setStyle(c.style,"display","block"),i.setStyle(c.style,"height",w),T){case" ace_error_fold":P=l("gutter.annotation.aria-label.error","Read annotations row $0",[b]);break;case" ace_warning_fold":P=l("gutter.annotation.aria-label.warning","Read annotations row $0",[b])}c.setAttribute("aria-label",P),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")}else if(this.$annotations[r]){var P;switch(c.className="ace_gutter_annotation",d.className=v,this.$useSvgGutterIcons?d.className+=this.$annotations[r].className:n.classList.add(this.$annotations[r].className.replace(" ","")),i.setStyle(d.style,"height",w),i.setStyle(c.style,"display","block"),i.setStyle(c.style,"height",w),this.$annotations[r].className){case" ace_error":P=l("gutter.annotation.aria-label.error","Read annotations row $0",[b]);break;case" ace_warning":P=l("gutter.annotation.aria-label.warning","Read annotations row $0",[b]);break;case" ace_info":P=l("gutter.annotation.aria-label.info","Read annotations row $0",[b])}c.setAttribute("aria-label",P),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")}else i.setStyle(c.style,"display","none"),c.removeAttribute("aria-label"),c.removeAttribute("role"),c.setAttribute("tabindex","0");return b!==a.data&&(a.data=b),n.className!=x&&(n.className=x),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,o)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,o)+"px"),e.text=b,"none"===c.style.display&&"none"===h.style.display?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e}setHighlightGutterLine(e){this.$highlightGutterLine=e}setShowLineNumbers(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}}getShowLineNumbers(){return this.$showLineNumbers}setShowFoldWidgets(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null}getShowFoldWidgets(){return this.$showFoldWidgets}$computePadding(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding}getRegion(e){var t=this.$padding||this.$computePadding(),s=this.element.getBoundingClientRect();return e.x<t.left+s.left?"markers":this.$showFoldWidgets&&e.x>s.right-t.right?"foldWidgets":void 0}}function c(e){var t=document.createTextNode("");e.appendChild(t);var s=i.createElement("span");e.appendChild(s);var r=i.createElement("span");e.appendChild(r);var n=i.createElement("span");return r.appendChild(n),e}h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,r.implement(h.prototype,o),t.W=h},3034:(e,t,s)=>{"use strict";var i=s(215);t.q=class{constructor(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}moveContainer(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)}pageChanged(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)}computeLineTop(e,t,s){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return s.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight}computeLineHeight(e,t,s){return t.lineHeight*s.getRowLineCount(e)}getLength(){return this.cells.length}get(e){return this.cells[e]}shift(){this.$cacheCell(this.cells.shift())}pop(){this.$cacheCell(this.cells.pop())}push(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),s=0;s<e.length;s++)t.appendChild(e[s].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)}unshift(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),s=0;s<e.length;s++)t.appendChild(e[s].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)}last(){return this.cells.length?this.cells[this.cells.length-1]:null}$cacheCell(e){e&&(e.element.remove(),this.cellCache.push(e))}createCell(e,t,s,r){var n=this.cellCache.pop();if(!n){var o=i.createElement("div");r&&r(o),this.element.appendChild(o),n={element:o,text:"",row:e}}return n.row=e,n}}},3631:(e,t,s)=>{"use strict";var i=s(4074).Q,r=s(215);class n{constructor(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}setPadding(e){this.$padding=e}setSession(e){this.session=e}setMarkers(e){this.markers=e}elt(e,t){var s=-1!=this.i&&this.element.childNodes[this.i];s?this.i++:(s=document.createElement("div"),this.element.appendChild(s),this.i=-1),s.style.cssText=t,s.className=e}update(e){if(e){var t;for(var s in this.config=e,this.i=0,this.markers){var i=this.markers[s];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var n=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,n,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}}$getTop(e,t){return(e-t.firstRowScreen)*t.lineHeight}drawTextMarker(e,t,s,r,n){for(var o=this.session,a=t.start.row,l=t.end.row,h=a,c=0,d=0,u=o.getScreenLastRowColumn(h),p=new i(h,t.start.column,h,d);h<=l;h++)p.start.row=p.end.row=h,p.start.column=h==a?t.start.column:o.getRowWrapIndent(h),p.end.column=u,c=d,d=u,u=h+1<l?o.getScreenLastRowColumn(h+1):h==l?0:t.end.column,this.drawSingleLineMarker(e,p,s+(h==a?" ace_start":"")+" ace_br"+((h==a||h==a+1&&t.start.column?1:0)|(c<d?2:0)|(d>u?4:0)|(h==l?8:0)),r,h==l?0:1,n)}drawMultiLineMarker(e,t,s,i,r){var n=this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=n+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((h=t.clone()).end.row=h.start.row,h.end.column=this.session.getLine(h.start.row).length,this.drawBidiSingleLineMarker(e,h,s+" ace_br1 ace_start",i,null,r)):this.elt(s+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var h;(h=t.clone()).start.row=h.end.row,h.start.column=0,this.drawBidiSingleLineMarker(e,h,s+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;this.elt(s+" ace_br12","height:"+o+"px;width:"+c+"px;top:"+a+"px;left:"+n+"px;"+(r||""))}if(!((o=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(s+(d?" ace_br"+d:""),"height:"+o+"px;right:0;top:"+a+"px;left:"+n+"px;"+(r||""))}}drawSingleLineMarker(e,t,s,i,r,n){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,s,i,r,n);var o=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),h=this.$padding+t.start.column*i.characterWidth;this.elt(s,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+h+"px;"+(n||""))}drawBidiSingleLineMarker(e,t,s,i,r,n){var o=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(s,"height:"+o+"px;width:"+(e.width+(r||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(n||""))}),this)}drawFullLineMarker(e,t,s,i,r){var n=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-n),this.elt(s,"height:"+o+"px;top:"+n+"px;left:0;right:0;"+(r||""))}drawScreenLineMarker(e,t,s,i,r){var n=this.$getTop(t.start.row,i),o=i.lineHeight;this.elt(s,"height:"+o+"px;top:"+n+"px;left:0;right:0;"+(r||""))}}n.prototype.$padding=0,t.p=n},3698:(e,t,s)=>{"use strict";var i=s(8297),r=s(215),n=s(3927),o=s(3034).q,a=s(8770).b,l=s(5133).nls;const h=s(2185).t;class c{constructor(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}$updateEolChar(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0}setPadding(e){this.$padding=e,this.element.style.margin="0 "+e+"px"}getLineHeight(){return this.$fontMetrics.$characterSize.height||0}getCharacterWidth(){return this.$fontMetrics.$characterSize.width||0}$setFontMetrics(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()}checkForSizeChanges(){this.$fontMetrics.checkForSizeChanges()}$pollSizeChanges(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()}setSession(e){this.session=e,e&&this.$computeTabString()}setShowInvisibles(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)}setDisplayIndentGuides(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)}setHighlightIndentGuides(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)}$computeTabString(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],s=1;s<e+1;s++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=n.stringRepeat(this.TAB_CHAR,s),t.push(i)):t.push(this.dom.createTextNode(n.stringRepeat(" ",s),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?n.stringRepeat(this.SPACE_CHAR,this.tabSize):n.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",h=this.showTabs?n.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+o,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=h,this.$tabStrings["\t"]=i}}updateLines(e,t,s){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(s,e.lastRow),n=this.element.childNodes,o=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}for(var l,h=!1,c=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>c&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var d=n[o++];if(d){this.dom.removeChildren(d),this.$renderLine(d,a,a==c&&l),h&&(d.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var u=e.lineHeight*this.session.getRowLength(a)+"px";d.style.height!=u&&(h=!0,d.style.height=u)}a++}if(h)for(;o<this.$lines.cells.length;){var p=this.$lines.cells[o++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}}scrollLines(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var s=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(s<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()}$renderLinesFragment(e,t,s){for(var i=[],n=t,o=this.session.getNextFoldLine(n),a=o?o.start.row:1/0;n>a&&(n=o.end.row+1,a=(o=this.session.getNextFoldLine(n,o))?o.start.row:1/0),!(n>s);){var l=this.$lines.createCell(n,e,this.session),h=l.element;this.dom.removeChildren(h),r.setStyle(h.style,"height",this.$lines.computeLineHeight(n,e,this.session)+"px"),r.setStyle(h.style,"top",this.$lines.computeLineTop(n,e,this.session)+"px"),this.$renderLine(h,n,n==a&&o),this.$useLineGroups()?h.className="ace_line_group":h.className="ace_line",i.push(l),n++}return i}update(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,s=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,s))}$renderToken(e,t,s,i){for(var r,o=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),d=0;r=a.exec(i);){var u=r[1],p=r[2],m=r[3],g=r[4],f=r[5];if(o.showSpaces||!p){var y=d!=r.index?i.slice(d,r.index):"";if(d=r.index+r[0].length,y&&c.appendChild(this.dom.createTextNode(y,this.element)),u){var w=o.session.getScreenTabSize(t+r.index);c.appendChild(o.$tabStrings[w].cloneNode(!0)),t+=w-1}else p?o.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=n.stringRepeat(o.SPACE_CHAR,p.length),c.appendChild(v)):c.appendChild(this.dom.createTextNode(p,this.element)):m?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=n.stringRepeat(o.SPACE_CHAR,m.length),c.appendChild(v)):g?(t+=1,(v=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=o.showSpaces?o.SPACE_CHAR:g,c.appendChild(v)):f&&(t+=1,(v=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,c.appendChild(v))}}if(c.appendChild(this.dom.createTextNode(d?i.slice(d):i,this.element)),h(s.type))e.appendChild(c);else{var x="ace_"+s.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==s.type&&(v.style.width=s.value.length*this.config.characterWidth+"px",v.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),v.className=x,v.appendChild(c),e.appendChild(v)}return t+i.length}renderIndentGuide(e,t,s){var i=t.search(this.$indentGuideRe);if(i<=0||i>=s)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,n=0;n<r;n++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(n=0;n<i;n++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t}$highlightIndentGuide(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),s=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(s/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,n=0;n<r.length;n++)if(t.row!==r[n].start.row){this.$highlightIndentGuideMarker.end=r[n].start.row,t.row>r[n].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,n=t.row+1;n<e.length;n++){var o=e[n],a=/^\s*/.exec(o)[0].length;if(""!==o&&(this.$highlightIndentGuideMarker.end=n,a<=s))break}this.$renderHighlightIndentGuide()}}}$clearActiveIndentGuide(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var s=e[t].element.childNodes;if(s.length>0)for(var i=0;i<s.length;i++)if(s[i].classList&&s[i].classList.contains("ace_indent-guide-active")){s[i].classList.remove("ace_indent-guide-active");break}}}$setIndentGuideActive(e,t){if(""!==this.session.doc.getLine(e.row)){var s=e.element.childNodes;if(s){let e=s[t-1];e&&e.classList&&e.classList.contains("ace_indent-guide")&&e.classList.add("ace_indent-guide-active")}}}$renderHighlightIndentGuide(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var s=0;s<e.length;s++){var i=e[s];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(s=e.length-1;s>=0;s--)if(i=e[s],this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}}$createLineElement(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t}$renderWrappedLine(e,t,s){var i=0,r=0,o=s[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var h=0;h<t.length;h++){var c=t[h],d=c.value;if(0==h&&this.displayIndentGuides){if(i=d.length,!(d=this.renderIndentGuide(l,d,o)))continue;i-=d.length}if(i+d.length<o)a=this.$renderToken(l,a,c,d),i+=d.length;else{for(;i+d.length>=o;)a=this.$renderToken(l,a,c,d.substring(0,o-i)),d=d.substring(o-i),i=o,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(n.stringRepeat(" ",s.indent),this.element)),a=0,o=s[++r]||Number.MAX_VALUE;0!=d.length&&(i+=d.length,a=this.$renderToken(l,a,c,d))}}s[s.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)}$renderSimpleLine(e,t){for(var s=0,i=0;i<t.length;i++){var r=t[i],n=r.value;if(0!=i||!this.displayIndentGuides||(n=this.renderIndentGuide(e,n))){if(s+n.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,s,r,n);s=this.$renderToken(e,s,r,n)}}}$renderOverflowMessage(e,t,s,i,r){s&&this.$renderToken(e,t,s,i.slice(0,this.MAX_LINE_LENGTH-t));var n=this.dom.createElement("span");n.className="ace_inline_button ace_keyword ace_toggle_wrap",n.textContent=r?"<hide>":"<click to see more...>",e.appendChild(n)}$renderLine(e,t,s){if(s||0==s||(s=this.session.getFoldLine(t)),s)var i=this.$getFoldLineTokens(t,s);else i=this.session.getTokens(t);var r=e;if(i.length){var n=this.session.getRowSplitData(t);n&&n.length?(this.$renderWrappedLine(e,i,n),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){s&&(t=s.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}}$getFoldLineTokens(e,t){var s=this.session,i=[],r=s.getTokens(e);return t.walk((function(e,t,n,o,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=s.getTokens(t)),r.length&&function(e,t,s){for(var r=0,n=0;n+e[r].value.length<t;)if(n+=e[r].value.length,++r==e.length)return;for(n!=t&&((o=e[r].value.substring(t-n)).length>s-t&&(o=o.substring(0,s-t)),i.push({type:e[r].type,value:o}),n=t+o.length,r+=1);n<s&&r<e.length;){var o;(o=e[r].value).length+n>s?i.push({type:e[r].type,value:o.substring(0,s-n)}):i.push(e[r]),n+=o.length,r+=1}}(r,o,n))}),t.end.row,this.session.getLine(t.end.row).length),i}$useLineGroups(){return this.session.getUseWrapMode()}}c.prototype.EOF_CHAR="¶",c.prototype.EOL_CHAR_LF="¬",c.prototype.EOL_CHAR_CRLF="¤",c.prototype.EOL_CHAR=c.prototype.EOL_CHAR_LF,c.prototype.TAB_CHAR="—",c.prototype.SPACE_CHAR="·",c.prototype.$padding=0,c.prototype.MAX_LINE_LENGTH=1e4,c.prototype.showInvisibles=!1,c.prototype.showSpaces=!1,c.prototype.showTabs=!1,c.prototype.showEOL=!1,c.prototype.displayIndentGuides=!0,c.prototype.$highlightIndentGuides=!0,c.prototype.$tabStrings=[],c.prototype.destroy={},c.prototype.onChangeTabSize=c.prototype.$computeTabString,i.implement(c.prototype,a),t.E=c},2185:(e,t)=>{const s=new Set(["text","rparen","lparen"]);t.t=function(e){return s.has(e)}},8913:(e,t,s)=>{var i=s(8297),r=s(8770).b;const n=s(3536).N,o=s(2228).q;var a,l={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var s=this.$options;e=Object.keys(s).filter((function(e){return!s[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var s=this.$options[e];if(!s)return h('misspelled option "'+e+'"');if(s.forwardTo)return this[s.forwardTo]&&this[s.forwardTo].setOption(e,t);s.handlesSet||(this["$"+e]=t),s&&s.set&&s.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:h('misspelled option "'+e+'"')}};function h(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}class c{constructor(){this.$defaultOptions={},a=o}defineOptions(e,t,s){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(s).forEach((function(t){var i=s[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,l),this}resetOptions(e){Object.keys(e.$options).forEach((function(t){var s=e.$options[t];"value"in s&&e.setOption(t,s.value)}))}setDefaultValue(e,t,s){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,s):i[t].value=s)}setDefaultValues(e,t){Object.keys(t).forEach((function(s){this.setDefaultValue(e,s,t[s])}),this)}setMessages(e){a=e}nls(e,t,s){a[e]||(h("No message found for the key '"+e+"' in the provided messages, trying to find a translation for the default string '"+t+"'."),a[t]||h("No message found for the default string '"+t+"' in the provided messages. Falling back to the default English message."));var i=a[e]||a[t]||t;return s&&(i=i.replace(/\$(\$|[\d]+)/g,(function(e,t){return"$"==t?"$":s[t]}))),i}}c.prototype.warn=h,c.prototype.reportError=n,i.implement(c.prototype,r),t.o=c},8953:(e,t)=>{"use strict";var s=0,i=0,r=!1,n=!1,o=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=11,c=18,d=[c,c,c,c,c,c,c,c,c,6,5,6,8,5,c,c,c,c,c,c,c,c,c,c,c,c,c,c,5,5,5,6,8,4,4,h,h,h,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,c,c,c,c,c,c,5,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,9,4,h,h,h,h,4,4,4,4,0,4,4,c,4,4,h,h,2,2,4,0,4,4,4,2,0,4,4,4,4,4],u=[8,8,8,8,8,8,8,8,8,8,8,c,c,c,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,h,h,h,h,h,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function p(e,t,r){if(!(i<e))if(1!=e||1!=s||n)for(var o,a,l,h,c=r.length,d=0;d<c;){if(t[d]>=e){for(o=d+1;o<c&&t[o]>=e;)o++;for(a=d,l=o-1;a<l;a++,l--)h=r[a],r[a]=r[l],r[l]=h;d=o}d++}else r.reverse()}function m(e,t,i,a){var l,d,u,p,m=t[a];switch(m){case 0:case 1:r=!1;case 4:case 3:return m;case 2:return r?3:2;case 7:return r=!0,1;case 8:return 4;case 9:return a<1||a+1>=t.length||2!=(l=i[a-1])&&3!=l||2!=(d=t[a+1])&&3!=d?4:(r&&(d=3),d==l?d:4);case 10:return 2==(l=a>0?i[a-1]:5)&&a+1<t.length&&2==t[a+1]?2:4;case h:if(a>0&&2==i[a-1])return 2;if(r)return 4;for(p=a+1,u=t.length;p<u&&t[p]==h;)p++;return p<u&&2==t[p]?2:4;case 12:for(u=t.length,p=a+1;p<u&&12==t[p];)p++;if(p<u){var g=e[a],f=g>=1425&&g<=2303||64286==g;if(l=t[p],f&&(1==l||7==l))return 1}return a<1||5==(l=t[a-1])?4:i[a-1];case 5:return r=!1,n=!0,s;case 6:return o=!0,4;case 13:case 14:case 16:case 17:case 15:r=!1;case c:return 4}}function g(e){var t=e.charCodeAt(0),s=t>>8;return 0==s?t>191?0:d[t]:5==s?/[\u0591-\u05f4]/.test(e)?1:0:6==s?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?h:/[\u06f0-\u06f9]/.test(e)?2:7:32==s&&t<=8287?u[255&t]:254==s&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,h,d){if(e.length<2)return{};var u=e.split(""),f=new Array(u.length),y=new Array(u.length),w=[];s=d?1:0,function(e,t,h,c){var d=s?l:a,u=null,p=null,f=null,y=0,w=null,x=-1,v=null,b=null,C=[];if(!c)for(v=0,c=[];v<h;v++)c[v]=g(e[v]);for(i=s,r=!1,n=!1,o=!1,b=0;b<h;b++){if(u=y,C[b]=p=m(e,c,C,b),w=240&(y=d[u][p]),y&=15,t[b]=f=d[y][5],w>0)if(16==w){for(v=x;v<b;v++)t[v]=1;x=-1}else x=-1;if(d[y][6])-1==x&&(x=b);else if(x>-1){for(v=x;v<b;v++)t[v]=f;x=-1}5==c[b]&&(t[b]=0),i|=f}if(o)for(v=0;v<h;v++)if(6==c[v]){t[v]=s;for(var A=v-1;A>=0&&8==c[A];A--)t[A]=s}}(u,w,u.length,h);for(var x=0;x<f.length;f[x]=x,x++);for(p(2,w,f),p(1,w,f),x=0;x<f.length-1;x++)3===h[x]?w[x]=t.AN:1===w[x]&&(h[x]>7&&h[x]<13||4===h[x]||h[x]===c)?w[x]=t.ON_R:x>0&&"ل"===u[x-1]&&/\u0622|\u0623|\u0625|\u0627/.test(u[x])&&(w[x-1]=w[x]=t.R_H,x++);for(u[u.length-1]===t.DOT&&(w[u.length-1]=t.B),"‫"===u[0]&&(w[0]=t.RLE),x=0;x<f.length;x++)y[x]=w[f[x]];return{logicalFromVisual:f,bidiLevels:y}},t.hasBidiCharacters=function(e,t){for(var s=!1,i=0;i<e.length;i++)t[i]=g(e.charAt(i)),s||1!=t[i]&&7!=t[i]&&3!=t[i]||(s=!0);return s},t.getVisualFromLogicalIdx=function(e,t){for(var s=0;s<t.logicalFromVisual.length;s++)if(t.logicalFromVisual[s]==e)return s;return 0}},2001:(e,t)=>{t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var s;if(Array.isArray(t)){s=[];for(let i=0;i<t.length;i++)s[i]=e(t[i]);return s}if("[object Object]"!==Object.prototype.toString.call(t))return t;s={};for(let i in t)s[i]=e(t[i]);return s}},2228:(e,t)=>{t.q={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"}},215:(e,t,s)=>{"use strict";var i,r=s(6483);t.buildDom=function e(t,s,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return s&&s.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&s&&s.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var n=[],o=0;o<t.length;o++){var a=e(t[o],s,i);a&&n.push(a)}return n}var l=document.createElement(t[0]),h=t[1],c=1;for(h&&"object"==typeof h&&!Array.isArray(h)&&(c=2),o=c;o<t.length;o++)e(t[o],l,i);return 2==c&&Object.keys(h).forEach((function(e){var t=h[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),s&&s.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,s){t.hasCssClass(e,s)||(e.className+=" "+s)},t.removeCssClass=function(e,t){for(var s=e.className.split(/\s+/g);;){var i=s.indexOf(t);if(-1==i)break;s.splice(i,1)}e.className=s.join(" ")},t.toggleCssClass=function(e,t){for(var s=e.className.split(/\s+/g),i=!0;;){var r=s.indexOf(t);if(-1==r)break;i=!1,s.splice(r,1)}return i&&s.push(t),e.className=s.join(" "),i},t.setCssClass=function(e,s,i){i?t.addCssClass(e,s):t.removeCssClass(e,s)},t.hasCssString=function(e,t){var s,i=0;if(s=(t=t||document).querySelectorAll("style"))for(;i<s.length;)if(s[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var n=[];function o(){var e=n;n=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,s,r){if("undefined"!=typeof document){if(n)if(r)o();else if(!1===r)return n.push([e,s]);if(!i){var a=r;r&&r.getRootNode&&(a=r.getRootNode())&&a!=r||(a=document);var l=a.ownerDocument||a;if(s&&t.hasCssString(s,a))return null;s&&(e+="\n/*# sourceURL=ace/css/"+s+" */");var h=t.createElement("style");h.appendChild(l.createTextNode(e)),s&&(h.id=s),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(h,a.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?o():n||(n=[])},t.importCssString=a,t.importCssStylsheet=function(e,s){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(s))},t.scrollbarWidth=function(e){var s=t.createElement("ace_inner");s.style.width="100%",s.style.minWidth="0px",s.style.height="200px",s.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(s);var n=e&&e.documentElement||document&&document.documentElement;if(!n)return 0;n.appendChild(i);var o=s.offsetWidth;r.overflow="scroll";var a=s.offsetWidth;return o===a&&(a=i.clientWidth),n.removeChild(i),o-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,s){e[t]!==s&&(e[t]=s)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,s){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(s)+"px)"}:t.translate=function(e,t,s){e.style.top=Math.round(s)+"px",e.style.left=Math.round(t)+"px"}},2507:(e,t,s)=>{"use strict";var i,r=s(3679),n=s(6483),o=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return i={passive:!1},!0}})}catch(e){}}(),i}function h(e,t,s){this.elem=e,this.type=t,this.callback=s}h.prototype.destroy=function(){d(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=t.addListener=function(e,t,s,i){e.addEventListener(t,s,l()),i&&i.$toDestroy.push(new h(e,t,s))},d=t.removeListener=function(e,t,s){e.removeEventListener(t,s,l())};function u(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function p(){o=Object.create(null)}if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||n.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,s){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),s&&s(e),d(i,"mousemove",t),d(i,"mouseup",r),d(i,"dragstart",r)}return c(i,"mousemove",t),c(i,"mouseup",r),c(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,s){c(e,"wheel",(function(e){var s=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*s,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*s,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*s,e.wheelY=150*i}t(e)}),s)},t.addMultiMouseDownListener=function(e,s,i,r,o){var a,l,h,d=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?d=0:e.detail>1?++d>4&&(d=1):d=1,n.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;h&&!o||(d=1),h&&clearTimeout(h),h=setTimeout((function(){h=null}),s[d-1]||600),1==d&&(a=e.clientX,l=e.clientY)}if(e._clicks=d,i[r]("mousedown",e),d>4)d=0;else if(d>1)return i[r](u[d],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){c(e,"mousedown",p,o)}))},t.getModifierString=function(e){return r.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,s,i){var l=null;c(e,"keydown",(function(e){o[e.keyCode]=(o[e.keyCode]||0)+1;var t=function(e,t,s){var i=u(t);if(!s&&t.code&&(s=r.$codeToKeyCode[t.code]||s),!n.isMac&&o){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),o.altGr){if(!(3&~i))return;o.altGr=0}if(18===s||17===s){var l=t.location;17===s&&1===l?1==o[s]&&(a=t.timeStamp):18===s&&3===i&&2===l&&t.timeStamp-a<50&&(o.altGr=!0)}}if(s in r.MODIFIER_KEYS&&(s=-1),i||13!==s||3!==t.location||(e(t,i,-s),!t.defaultPrevented)){if(n.isChromeOS&&8&i){if(e(t,i,s),t.defaultPrevented)return;i&=-9}return!!(i||s in r.FUNCTION_KEYS||s in r.PRINTABLE_KEYS)&&e(t,i,s)}}(s,e,e.keyCode);return l=e.defaultPrevented,t}),i),c(e,"keypress",(function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),i),c(e,"keyup",(function(e){o[e.keyCode]=null}),i),o||(p(),c(window,"focus",p))},"object"==typeof window&&window.postMessage&&!n.isOldIE){var m=1;t.nextTick=function(e,s){s=s||window;var i="zero-timeout-message-"+m++,r=function(n){n.data==i&&(t.stopPropagation(n),d(s,"message",r),e())};c(s,"message",r),s.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,s){return setTimeout((function s(){t.$idleBlocked?setTimeout(s,100):e()}),s)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}},8770:(e,t)=>{"use strict";var s={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(s.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),s=s.slice();for(var o=0;o<s.length&&(s[o](t,this),!t.propagationStopped);o++);return n&&!t.defaultPrevented?n(t,this):void 0}},s._signal=function(e,t){var s=(this._eventRegistry||{})[e];if(s){s=s.slice();for(var i=0;i<s.length;i++)s[i](t,this)}},s.once=function(e,t){var s=this;if(this.on(e,(function i(){s.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},s.setDefaultHandler=function(e,t){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[e]){var i=s[e],r=s._disabled_[e];r||(s._disabled_[e]=r=[]),r.push(i);var n=r.indexOf(t);-1!=n&&r.splice(n,1)}s[e]=t},s.removeDefaultHandler=function(e,t){var s=this._defaultHandlers;if(s){var i=s._disabled_[e];if(s[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},s.on=s.addEventListener=function(e,t,s){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[s?"unshift":"push"](t),t},s.off=s.removeListener=s.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[e];if(s){var i=s.indexOf(t);-1!==i&&s.splice(i,1)}},s.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.b=s},3679:(e,t,s)=>{"use strict";for(var i=s(8297),r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},n={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},o=0;o<10;o++)n["Digit"+o]=48+o,n["Numpad"+o]=96+o,r.PRINTABLE_KEYS[48+o]=""+o,r.FUNCTION_KEYS[96+o]="Numpad"+o;for(o=65;o<91;o++){var a=String.fromCharCode(o+32);n["Key"+a.toUpperCase()]=o,r.PRINTABLE_KEYS[o]=a}for(o=1;o<13;o++)n["F"+o]=111+o,r.FUNCTION_KEYS[111+o]="F"+o;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var h in l)n[h]=n[h+"Left"]=n[h+"Right"]=l[h];for(var c in t.$codeToKeyCode=n,r.PRINTABLE_KEYS[173]="-",r.FUNCTION_KEYS){var d=r.FUNCTION_KEYS[c].toLowerCase();r[d]=parseInt(c,10)}for(var c in r.PRINTABLE_KEYS)d=r.PRINTABLE_KEYS[c].toLowerCase(),r[d]=parseInt(c,10);i.mixin(r,r.MODIFIER_KEYS),i.mixin(r,r.PRINTABLE_KEYS),i.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)r.KEY_MODS[t]=e.filter((function(e){return t&r.KEY_MODS[e]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",i.mixin(t,r),t.default=t,t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}},3927:(e,t,s)=>{"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var s="";t>0;)1&t&&(s+=e),(t>>=1)&&(e+=e);return s};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var s in e)t[s]=e[s];return t},t.copyArray=function(e){for(var t=[],s=0,i=e.length;s<i;s++)e[s]&&"object"==typeof e[s]?t[s]=this.copyObject(e[s]):t[s]=e[s];return t},t.deepCopy=s(2001).deepCopy,t.arrayToMap=function(e){for(var t={},s=0;s<e.length;s++)t[e[s]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var s in e)t[s]=e[s];return t},t.arrayRemove=function(e,t){for(var s=0;s<=e.length;s++)t===e[s]&&e.splice(s,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var s=[];return e.replace(t,(function(e){s.push({offset:arguments[arguments.length-2],length:e.length})})),s},t.deferredCall=function(e){var t=null,s=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(s,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var s=null,i=function(){s=null,e()},r=function(e){null==s&&(s=setTimeout(i,e||t))};return r.delay=function(e){s&&clearTimeout(s),s=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){s&&clearTimeout(s),s=null},r.isPending=function(){return s},r},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,s){return s&&e.codePointAt(t)>65535?2:1}},5700:(e,t,s)=>{"use strict";var i=s(215);t.get=function(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){4===s.readyState&&t(s.responseText)},s.send(null)},t.loadScript=function(e,t){var s=i.getDocumentHead(),r=document.createElement("script");r.src=e,s.appendChild(r),r.onload=r.onreadystatechange=function(e,s){!s&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,s||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}},8297:(e,t)=>{"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var s in t)e[s]=t[s];return e},t.implement=function(e,s){t.mixin(e,s)}},3536:(e,t)=>{t.N=function(e,t){var s=new Error(e);s.data=t,"object"==typeof console&&console.error&&console.error(s),setTimeout((function(){throw s}))}},6558:(e,t)=>{t.K=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}},6483:(e,t)=>{"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var s="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),r=s.userAgent||"",n=s.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==n||n.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=r.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(r.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isAndroid=r.indexOf("Android")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid},3175:(e,t,s)=>{"use strict";var i=s(215);t.G=class{constructor(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}getRowLength(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t}$getWidgetScreenLength(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e}$onChangeEditor(e){this.attach(e.editor)}attach(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))}detach(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}}updateOnFold(e,t){var s=t.lineWidgets;if(s&&e.action){for(var i=e.data,r=i.start.row,n=i.end.row,o="add"==e.action,a=r+1;a<n;a++)s[a]&&(s[a].hidden=o);s[n]&&(o?s[r]?s[n].hidden=o:s[r]=s[n]:(s[r]==s[n]&&(s[r]=void 0),s[n].hidden=o))}}updateOnChange(e){var t=this.session.lineWidgets;if(t){var s=e.start.row,i=e.end.row-s;if(0===i);else if("remove"==e.action){var r=t.splice(s+1,i);!t[s]&&r[r.length-1]&&(t[s]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var n=new Array(i);t[s]&&null!=t[s].column&&e.start.column>t[s].column&&s++,n.unshift(s,0),t.splice.apply(t,n),this.$updateRows()}}}$updateRows(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,s){if(e)for(t=!1,e.row=s;e.$oldWidget;)e.$oldWidget.row=s,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}}$registerLineWidget(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e}addLineWidget(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=i.createElement("div"),e.el.textContent=e.text),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&i.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var s=this.session.getFoldAt(e.row,0);if(e.$fold=s,s){var r=this.session.lineWidgets;e.row!=s.end.row||r[s.start.row]?e.hidden=!0:r[s.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e}removeLineWidget(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()}getWidgetsAtRow(e){for(var t=this.session.lineWidgets,s=t&&t[e],i=[];s;)i.push(s),s=s.$oldWidget;return i}onWidgetChanged(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()}measureWidgets(e,t){var s=this.session._changedWidgets,i=t.layerConfig;if(s&&s.length){for(var r=1/0,n=0;n<s.length;n++){var o=s[n];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}}renderWidgets(e,t){var s=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,s.firstRow),n=Math.max(this.lastRow,s.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,t.$cursorLayer.config=s;for(var o=r;o<=n;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=s.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-s.offset+"px";var h=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(h-=t.scrollLeft),a.el.style.left=h+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=s.width+2*s.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}},8104:(e,t)=>{"use strict";var s;(function(){this.add=function(e,t,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=s},this.addBehaviours=function(e){for(var t in e)for(var s in e[t])this.add(t,s,e[t][s])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var s=(new e).getBehaviours(t);else s=e.getBehaviours(t);this.addBehaviours(s)},this.getBehaviours=function(e){if(e){for(var t={},s=0;s<e.length;s++)this.$behaviours[e[s]]&&(t[e[s]]=this.$behaviours[e[s]]);return t}return this.$behaviours}}).call((s=function(){this.$behaviours={}}).prototype),t.Q=s},5801:(e,t,s)=>{"use strict";var i,r,n=s(8297),o=s(8104).Q,a=s(1871).TokenIterator,l=s(3927),h=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],d={},u={'"':'"',"'":"'"},p=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,d.rangeCount!=e.multiSelect.rangeCount&&(d={rangeCount:e.multiSelect.rangeCount})),d[t])return i=d[t];i=d[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(e,t,s,i){var r=e.end.row-e.start.row;return{text:s+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}};(r=function(e){e=e||{},this.add("braces","insertion",(function(t,s,n,o,a){var h=n.getCursorPosition(),c=o.doc.getLine(h.row);if("{"==a){p(n);var d=n.getSelectionRange(),u=o.doc.getTextRange(d),g=o.getTokenAt(h.row,h.column);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return m(d,u,"{","}");if(g&&/(?:string)\.quasi|\.xml/.test(g.type)){if([/tag\-(?:open|name)/,/attribute\-name/].some((e=>e.test(g.type)))||/(string)\.quasi/.test(g.type)&&"$"!==g.value[h.column-g.start-1])return;return r.recordAutoInsert(n,o,"}"),{text:"{}",selection:[1,1]}}if(r.isSaneInsertion(n,o))return/[\]\}\)]/.test(c[h.column])||n.inMultiSelectMode||e.braces?(r.recordAutoInsert(n,o,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(n,o,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(p(n),"}"==c.substring(h.column,h.column+1)&&null!==o.$findOpeningBracket("}",{column:h.column+1,row:h.row})&&r.isAutoInsertedClosing(h,c,a))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){p(n);var f="";if(r.isMaybeInsertedClosing(h,c)&&(f=l.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===c.substring(h.column,h.column+1)){var y=o.findMatchingBracket({row:h.row,column:h.column+1},"}");if(!y)return null;var w=this.$getIndent(o.getLine(y.row))}else{if(!f)return void r.clearMaybeInsertedClosing();w=this.$getIndent(c)}var x=w+o.getTabString();return{text:"\n"+x+"\n"+w+f,selection:[1,x.length,1,x.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,s,r,n){var o=r.doc.getTextRange(n);if(!n.isMultiLine()&&"{"==o){if(p(s),"}"==r.doc.getLine(n.start.row).substring(n.end.column,n.end.column+1))return n.end.column++,n;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,s,i,n){if("("==n){p(s);var o=s.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&s.getWrapBehavioursEnabled())return m(o,a,"(",")");if(r.isSaneInsertion(s,i))return r.recordAutoInsert(s,i,")"),{text:"()",selection:[1,1]}}else if(")"==n){p(s);var l=s.getCursorPosition(),h=i.doc.getLine(l.row);if(")"==h.substring(l.column,l.column+1)&&null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,h,n))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,s,i,r){var n=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==n&&(p(s),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,s,i,n){if("["==n){p(s);var o=s.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&s.getWrapBehavioursEnabled())return m(o,a,"[","]");if(r.isSaneInsertion(s,i))return r.recordAutoInsert(s,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==n){p(s);var l=s.getCursorPosition(),h=i.doc.getLine(l.row);if("]"==h.substring(l.column,l.column+1)&&null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,h,n))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,s,i,r){var n=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==n&&(p(s),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,s,i,r){var n=i.$mode.$quotes||u;if(1==r.length&&n[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;p(s);var o=r,a=s.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&n[l])&&s.getWrapBehavioursEnabled())return m(a,l,o,o);if(!l){var h=s.getCursorPosition(),c=i.doc.getLine(h.row),d=c.substring(h.column-1,h.column),g=c.substring(h.column,h.column+1),f=i.getTokenAt(h.row,h.column),y=i.getTokenAt(h.row,h.column+1);if("\\"==d&&f&&/escape/.test(f.type))return null;var w,x=f&&/string|escape/.test(f.type),v=!y||/string|escape/.test(y.type);if(g==o)(w=x!==v)&&/string\.end/.test(y.type)&&(w=!1);else{if(x&&!v)return null;if(x&&v)return null;var b=i.$mode.tokenRe;b.lastIndex=0;var C=b.test(d);b.lastIndex=0;var A=b.test(g),S=i.$mode.$pairQuotesAfter;if(!(S&&S[o]&&S[o].test(d))&&C||A)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var T=c[h.column-2];if(d==o&&(T==o||b.test(T)))return null;w=!0}return{text:w?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,s,i,r){var n=i.$mode.$quotes||u,o=i.doc.getTextRange(r);if(!r.isMultiLine()&&n.hasOwnProperty(o)&&(p(s),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,s,i,r){if("doc-start"===e&&("\n"===r||"\r\n"===r)&&s.selection.isEmpty()){var n=s.getCursorPosition(),o=i.doc.getLine(n.row),a=i.doc.getLine(n.row+1),l=this.$getIndent(o);if(/\s*\*/.test(a))return/^\s*\*/.test(o)?{text:r+l+"* ",selection:[1,3+l.length,1,3+l.length]}:{text:r+l+" * ",selection:[1,3+l.length,1,3+l.length]};if(/\/\*\*/.test(o.substring(0,n.column)))return{text:r+l+" * "+r+" "+l+"*/",selection:[1,4+l.length,1,4+l.length]}}}))}).isSaneInsertion=function(e,t){var s=e.getCursorPosition(),i=new a(t,s.row,s.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",h)){if(/[)}\]]/.test(e.session.getLine(s.row)[s.column]))return!0;var r=new a(t,s.row,s.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",h))return!1}return i.stepForward(),i.getCurrentTokenRow()!==s.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},r.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},r.recordAutoInsert=function(e,t,s){var r=e.getCursorPosition(),n=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,n,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=s+n.substr(r.column),i.autoInsertedBrackets++},r.recordMaybeInsert=function(e,t,s){var r=e.getCursorPosition(),n=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,n)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=n.substr(0,r.column)+s,i.maybeInsertedLineEnd=n.substr(r.column),i.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(e,t,s){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&s===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},n.inherits(r,o),t._=r},9860:(e,t,s)=>{"use strict";var i=s(8297);const{TokenIterator:r}=s(1871);var n=s(5801)._,o=s(1358).F,a=function(){var e=new o({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(e),this.inherit(n),this.add("autoclosing-fragment","insertion",(function(e,t,s,i,n){if(">"==n){var o=s.getSelectionRange().start,a=new r(i,o.row,o.column),l=a.getCurrentToken()||a.stepBackward();if(!l)return;if("<"==l.value)return{text:"></>",selection:[1,1]}}}))};i.inherits(a,n),t.d=a},1358:(e,t,s)=>{"use strict";var i=s(8297),r=s(8104).Q,n=s(1871).TokenIterator;function o(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var a=function(){this.add("string_dquotes","insertion",(function(e,t,s,i,r){if('"'==r||"'"==r){var a=r,l=i.doc.getTextRange(s.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&s.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var h=s.getCursorPosition(),c=i.doc.getLine(h.row).substring(h.column,h.column+1),d=new n(i,h.row,h.column),u=d.getCurrentToken();if(c==a&&(o(u,"attribute-value")||o(u,"string")))return{text:"",selection:[1,1]};if(u||(u=d.stepBackward()),!u)return;for(;o(u,"tag-whitespace")||o(u,"whitespace");)u=d.stepBackward();var p=!c||c.match(/\s/);if(o(u,"attribute-equals")&&(p||">"==c)||o(u,"decl-attribute-equals")&&(p||"?"==c))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,s,i,r){var n=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==n||"'"==n)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==n)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,s,i,r){if(">"==r){var a=s.getSelectionRange().start,l=new n(i,a.row,a.column),h=l.getCurrentToken()||l.stepBackward();if(!h||!(o(h,"tag-name")||o(h,"tag-whitespace")||o(h,"attribute-name")||o(h,"attribute-equals")||o(h,"attribute-value")))return;if(o(h,"reference.attribute-value"))return;if(o(h,"attribute-value")){var c=l.getCurrentTokenColumn()+h.value.length;if(a.column<c)return;if(a.column==c){var d=l.stepForward();if(d&&o(d,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(i.getLine(a.row).slice(a.column)))return;for(;!o(h,"tag-name");)if("<"==(h=l.stepBackward()).value){h=l.stepForward();break}var u=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(o(l.stepBackward(),"end-tag-open"))return;var m=h.value;if(u==a.row&&(m=m.substring(0,a.column-p)),this.voidElements&&this.voidElements.hasOwnProperty(m.toLowerCase()))return;return{text:"></"+m+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,s,i,r){if("\n"==r){var a=s.getCursorPosition(),l=i.getLine(a.row),h=new n(i,a.row,a.column),c=h.getCurrentToken();if(o(c,"")&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=h.stepBackward();if(!c)return;var d=c.value,u=h.getCurrentTokenRow();if(!(c=h.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[d]||!this.voidElements){var p=i.getTokenAt(a.row,a.column+1),m=(l=i.getLine(u),this.$getIndent(l)),g=m+i.getTabString();return p&&"</"===p.value?{text:"\n"+g+"\n"+m,selection:[1,g.length,1,g.length]}:{text:"\n"+g}}}}}))};i.inherits(a,r),t.F=a},4411:(e,t,s)=>{"use strict";var i=s(8297),r=s(4074).Q,n=s(6034).FoldMode,o=t.l=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(o,n),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,s){var i=e.getLine(s);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,s);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,s,i){var r,n=e.getLine(s);if(this.startRegionRe.test(n))return this.getCommentRegionBlock(e,n,s);if(r=n.match(this.foldingStartMarker)){var o=r.index;if(r[1])return this.openingBracketBlock(e,r[1],s,o);var a=e.getCommentFoldRange(s,o+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,s):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=n.match(this.foldingStopMarker))?(o=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],s,o):e.getCommentFoldRange(s,o,-1)):void 0},this.getSectionRange=function(e,t){for(var s=e.getLine(t),i=s.search(/\S/),n=t,o=s.length,a=t+=1,l=e.getLength();++t<l;){var h=(s=e.getLine(t)).search(/\S/);if(-1!==h){if(i>h)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=n)break;if(c.isMultiLine())t=c.end.row;else if(i==h)break}a=t}}return new r(n,o,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,s){for(var i=t.search(/\s*$/),n=e.getLength(),o=s,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++s<n;){t=e.getLine(s);var h=a.exec(t);if(h&&(h[1]?l--:l++,!l))break}if(s>o)return new r(o,i,s,t.length)}}.call(o.prototype)},6034:(e,t,s)=>{"use strict";var i=s(4074).Q,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,s){var i=e.getLine(s);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,s){return null},this.indentationBlock=function(e,t,s){var r=/\S/,n=e.getLine(t),o=n.search(r);if(-1!=o){for(var a=s||n.length,l=e.getLength(),h=t,c=t;++t<l;){var d=e.getLine(t).search(r);if(-1!=d){if(d<=o){var u=e.getTokenAt(t,0);if(!u||"string"!==u.type)break}c=t}}if(c>h){var p=e.getLine(c).length;return new i(h,a,c,p)}}},this.openingBracketBlock=function(e,t,s,r,n){var o={row:s,column:r+1},a=e.$findClosingBracket(t,o,n);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,s,r,n){var o={row:s,column:r},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,i.fromPoints(a,o)}}).call(r.prototype)},6826:(e,t,s)=>{"use strict";var i=s(8297),r=s(8524).l,n=s(4411).l,o=t.l=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end))),this.xmlFoldMode=new r};i.inherits(o,n),function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,s){return this.getFoldWidgetBase(e,t,s)||this.xmlFoldMode.getFoldWidget(e,t,s)},this.getFoldWidgetRange=function(e,t,s,i){return this.getFoldWidgetRangeBase(e,t,s,i)||this.xmlFoldMode.getFoldWidgetRange(e,t,s)}}.call(o.prototype)},8524:(e,t,s)=>{"use strict";var i=s(8297),r=s(4074).Q,n=s(6034).FoldMode,o=t.l=function(e,t){n.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(o,n);var a=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function l(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,s){var i=this._getFirstTagInLine(e,s);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"===t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,s,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,s)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var s=e.getTokens(t),i=new a,r=0;r<s.length;r++){var n=s[r];if(l(n,"tag-open")){if(i.end.column=i.start.column+n.value.length,i.closing=l(n,"end-tag-open"),!(n=s[++r]))return null;if(i.tagName=n.value,""===n.value){if(!(n=s[++r]))return null;i.tagName=n.value}for(i.end.column+=n.value.length,r++;r<s.length;r++)if(n=s[r],i.end.column+=n.value.length,l(n,"tag-close")){i.selfClosing="/>"==n.value;break}return i}if(l(n,"tag-close"))return i.selfClosing="/>"==n.value,i;i.start.column+=n.value.length}return null},this._findEndTagInLine=function(e,t,s,i){for(var r=e.getTokens(t),n=0,o=0;o<r.length;o++){var a=r[o];if(!((n+=a.value.length)<i-1)&&l(a,"end-tag-open")&&(l(a=r[o+1],"tag-name")&&""===a.value&&(a=r[o+2]),a&&a.value==s))return!0}return!1},this.getFoldWidgetRange=function(e,t,s){var i=e.getMatchingTags({row:s,column:0});return i?new r(i.openTag.end.row,i.openTag.end.column,i.closeTag.start.row,i.closeTag.start.column):this.getCommentFoldWidget(e,s)&&e.getCommentFoldRange(s,e.getLine(s).length)}}).call(o.prototype)},6968:(e,t,s)=>{"use strict";var i=s(8297),r=s(6044).K,n=s(4211).z,o=s(5274).G,a=s(6862).WorkerClient,l=s(9860).d,h=s(6826).l,c=function(){this.HighlightRules=n,this.$outdent=new o,this.$behaviour=new l,this.foldingRules=new h};i.inherits(c,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(e,t,s){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),n=r.tokens,o=r.state;if(n.length&&"comment"==n[n.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=s);else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,s){return this.$outdent.checkOutdent(t,s)},this.autoOutdent=function(e,t,s){this.$outdent.autoOutdent(t,s)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(c.prototype),t.K=c},4211:(e,t,s)=>{"use strict";var i=s(8297),r=s(9453).U,n=s(3151).r,o="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",a=function(e){var t={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},s=this.createKeywordMapper(t,"identifier"),i="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",n="(function)(\\s*)(\\*?)",a={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(t).join("|")+"\\b)"+o+")(\\s*)(\\()"};this.$rules={no_regex:[r.getStartRule("doc-start"),h("no_regex"),a,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)"+n+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)"+n+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+n+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:s,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:n+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),h("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[h("function_arguments"),{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,s){if(this.next="{"==e?this.nextState:"","{"==e&&s.length)s.unshift("start",t);else if("}"==e&&s.length&&(s.shift(),this.next=s.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:i},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+o+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=o.replace("\\d","\\d\\-"),t={onMatch:function(e,t,s){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?s.unshift(this.next,this.nextState,0):s.unshift(this.next),s[2]++):2==i&&t==this.nextState&&(s[1]--,(!s[1]||s[1]<0)&&(s.shift(),s.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?(?:"+e+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var s={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[s,t,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,s){return t==s[0]&&s.shift(),2==e.length&&(s[0]==this.nextState&&s[1]--,(!s[1]||s[1]<0)&&s.splice(0,2)),this.next=s[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},s,h("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function h(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,n),t.z=a},9453:(e,t,s)=>{"use strict";var i=s(8297),r=s(3151).r,n=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},n.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};i.inherits(n,r),n.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},n.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},n.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.U=n},5274:(e,t,s)=>{"use strict";var i=s(4074).Q,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var s=e.getLine(t).match(/^(\s*\})/);if(!s)return 0;var r=s[1].length,n=e.findMatchingBracket({row:t,column:r});if(!n||n.row==t)return 0;var o=this.$getIndent(e.getLine(n.row));e.replace(new i(t,0,t,r-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.G=r},6044:(e,t,s)=>{"use strict";var i,r=s(5133),n=s(9266)._,o=s(3151).r,a=s(5801)._,l=s(3196),h=s(3927),c=s(1871).TokenIterator,d=s(4074).Q;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,s,i){var r=t.doc,n=!0,o=!0,a=1/0,l=t.getTabSize(),c=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(h.escapeRegExp).join("|"),p=this.lineCommentStart[0]):(g=h.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),c=t.getUseSoftTabs(),w=function(e,t){var s=e.match(g);if(s){var i=s[1].length,n=s[0].length;u(e,i,n)||" "!=s[0][n-1]||n--,r.removeInLine(t,i,n)}};var d=p+" ",u=(y=function(e,t){n&&!/\S/.test(e)||(u(e,a,a)?r.insertInLine({row:t,column:a},d):r.insertInLine({row:t,column:a},p))},x=function(e,t){return g.test(e)},function(e,t,s){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%l!=0)return!1;for(i=0;" "==e.charAt(s++);)i++;return l>2?i%l!=l-1:i%l==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,m=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+h.escapeRegExp(p)+")"),f=new RegExp("(?:"+h.escapeRegExp(m)+")\\s*$"),y=function(e,t){x(e,t)||n&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},m),r.insertInLine({row:t,column:a},p))},w=function(e,t){var s;(s=e.match(f))&&r.removeInLine(t,e.length-s[0].length,e.length),(s=e.match(g))&&r.removeInLine(t,s[1].length,s[0].length)},x=function(e,s){if(g.test(e))return!0;for(var i=t.getTokens(s),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function v(e){for(var t=s;t<=i;t++)e(r.getLine(t),t)}var b=1/0;v((function(e,t){var s=e.search(/\S/);-1!==s?(s<a&&(a=s),o&&!x(e,t)&&(o=!1)):b>e.length&&(b=e.length)})),a==1/0&&(a=b,n=!1,o=!1),c&&a%l!=0&&(a=Math.floor(a/l)*l),v(o?w:y)},this.toggleBlockComment=function(e,t,s,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var n,o,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,u;a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(r.start))){var p=g.getCurrentTokenRow(),m=g.getCurrentTokenColumn()+f;h=new d(p,m,p,m+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var f;if(-1!=(f=a.value.indexOf(r.end))){p=g.getCurrentTokenRow(),m=g.getCurrentTokenColumn()+f,u=new d(p,m,p,m+r.end.length);break}a=g.stepForward()}u&&t.remove(u),h&&(t.remove(h),n=h.start.row,o=-r.start.length)}else o=r.start.length,n=s.start.row,t.insert(s.end,r.end),t.insert(s.start,r.start);l.start.row==n&&(l.start.column+=o),l.end.row==n&&(l.end.column+=o),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,s){return this.$getIndent(t)},this.checkOutdent=function(e,t,s){return!1},this.autoOutdent=function(e,t,s){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(let n in e)if(e[n]){var t=e[n],s=t.prototype.$id,i=r.$modes[s];i||(r.$modes[s]=i=new t),r.$modes[n]||(r.$modes[n]=i),this.$embeds.push(n),this.$modes[n]=i}var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(let e=0;e<n.length;e++)!function(t){var s=n[e],i=t[s];t[n[e]]=function(){return this.$delegator(s,arguments,i)}}(this)},this.$delegator=function(e,t,s){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(o=this.$modes[r])return o[e].apply(o,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var n=0;n<this.$embeds.length;n++)if(this.$modes[this.$embeds[n]]){var o,a=i.split(this.$embeds[n]);if(!a[0]&&a[1])return t[0]=a[1],(o=this.$modes[this.$embeds[n]])[e].apply(o,t)}var l=s.apply(this,t);return s?l:void 0},this.transformAction=function(e,t,s,i,r){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var o in n)if(n[o][t]){var a=n[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,s=[];for(var i in t)for(var r=t[i],n=0,o=r.length;n<o;n++)if("string"==typeof r[n].token)/keyword|support|storage/.test(r[n].token)&&s.push(r[n].regex);else if("object"==typeof r[n].token)for(var a=0,l=r[n].token.length;a<l;a++)/keyword|support|storage/.test(r[n].token[a])&&(i=r[n].regex.match(/\(.+?\)/g)[a],s.push(i.substr(1,i.length-2)));this.completionKeywords=s}return e?s.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,s,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((i=function(){this.HighlightRules=o}).prototype),t.K=i},3151:(e,t,s)=>{"use strict";const i=s(2001).deepCopy;var r;(function(){this.addRules=function(e,t){if(t)for(var s in e){for(var i=e[s],r=0;r<i.length;r++){var n=i[r];(n.next||n.onMatch)&&("string"==typeof n.next&&0!==n.next.indexOf(t)&&(n.next=t+n.next),n.nextState&&0!==n.nextState.indexOf(t)&&(n.nextState=t+n.nextState))}this.$rules[t+s]=i}else for(var s in e)this.$rules[s]=e[s]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,s,r,n){var o="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],o)r.push(t+l);if(this.addRules(o,t),s){var h=Array.prototype[n?"push":"unshift"];for(a=0;a<r.length;a++)h.apply(this.$rules[r[a]],i(s))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var s=0,i=this.$rules;Object.keys(i).forEach((function r(n){var o=i[n];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],h=null;Array.isArray(l)&&(h=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var d=l.stateName;d||("string"!=typeof(d=l.token)&&(d=d[0]||""),i[d]&&(d+=s++)),i[d]=c,l.next=d,r(d)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var u in l.rules)i[u]?i[u].push&&i[u].push.apply(i[u],l.rules[u]):i[u]=l.rules[u];var p="string"==typeof l?l:l.include;if(p&&("$self"===p&&(p="start"),h=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),h){var m=[a,1].concat(h);l.noEscape&&(m=m.filter((function(e){return!e.next}))),o.splice.apply(o,m),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,s,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var n=e[t].split(i||"|"),o=n.length;o--;){var a=n[o];this.$keywordList.push(a),s&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,s?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.r=r},984:(e,t,s)=>{"use strict";var i=s(8297),r=s(6968).K,n=s(6563).n,o=s(4411).l,a=s(5274).G,l=function(){this.HighlightRules=n,this.$outdent=new a,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new o};i.inherits(l,r),function(){this.createWorker=function(e){return null},this.$id="ace/mode/typescript"}.call(l.prototype),t.K=l},6563:(e,t,s)=>{"use strict";var i=s(8297),r=s(4211).z,n=function(e){var t=new r({jsx:1==(e&&e.jsx)}).getRules();t.no_regex=[{token:["storage.type","text","entity.name.function.ts"],regex:"(function)(\\s+)([a-zA-Z0-9$_¡-￿][a-zA-Z0-9d$_¡-￿]*)"},{token:"keyword",regex:"(?:\\b(constructor|declare|interface|as|AS|public|private|extends|export|super|readonly|module|namespace|abstract|implements)\\b)"},{token:["keyword","storage.type.variable.ts"],regex:"(class|type)(\\s+[a-zA-Z0-9_?.$][\\w?.$]*)"},{token:"keyword",regex:"\\b(?:super|export|import|keyof|infer)\\b"},{token:["storage.type.variable.ts"],regex:"(?:\\b(this\\.|string\\b|bool\\b|boolean\\b|number\\b|true\\b|false\\b|undefined\\b|any\\b|null\\b|(?:unique )?symbol\\b|object\\b|never\\b|enum\\b))"}].concat(t.no_regex),this.$rules=t};i.inherits(n,r),t.n=n},1689:(e,t,s)=>{"use strict";var i=s(215),r=s(2507),n=s(2980).m_,o=s(5133).nls;t.Y=function(e){var t,s,n=e.editor,o=n.renderer.$gutterLayer,l=new a(n);function h(){t&&(t=clearTimeout(t)),l.isOpen&&(l.hideTooltip(),n.off("mousewheel",h))}function c(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(n.isFocused()&&0==t.getButton()&&"foldWidgets"!=o.getRegion(t)){var s=t.getDocumentPosition().row,i=n.session.selection;if(t.getShiftKey())i.selectTo(s,0);else{if(2==t.domEvent.detail)return n.selectAll(),t.preventDefault();e.$clickSelection=n.selection.getLineRange(s)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(r){var a=r.domEvent.target||r.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return h();l.isOpen&&e.$tooltipFollowsMouse&&c(r),s=r,t||(t=setTimeout((function(){t=null,s&&!e.isMousePressed?function(){var t=s.getDocumentPosition().row;if(t==n.session.getLength()){var i=n.renderer.pixelToScreenCoordinates(0,s.y).row,r=s.$pos;if(i>n.session.documentToScreenRow(r.row,r.column))return h()}if(l.showTooltip(t),l.isOpen)if(n.on("mousewheel",h),e.$tooltipFollowsMouse)c(s);else{var a=s.getGutterRow(),d=o.$lines.get(a);if(d){var u=d.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),p=l.getElement().style;p.left=u.right+"px",p.top=u.bottom+"px"}else c(s)}}():h()}),50))})),r.addListener(n.renderer.$gutter,"mouseout",(function(e){s=null,l.isOpen&&!t&&(t=setTimeout((function(){t=null,h()}),50))}),n),n.on("changeSession",h),n.on("input",h)};class a extends n{constructor(e){super(e.container),this.editor=e}setPosition(e,t){var s=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>s&&(e-=e+r-s),(t+=15)+o>i&&(t-=20+o),n.prototype.setPosition.call(this,e,t)}static get annotationLabels(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")}}}showTooltip(e){var t,s=this.editor.renderer.$gutterLayer,i=s.$annotations[e];t=i?{text:Array.from(i.text),type:Array.from(i.type)}:{text:[],type:[]};var r=s.session.getFoldLine(e);if(r&&s.$showFoldedAnnotations){var n,o={error:[],warning:[],info:[]};for(let t=e+1;t<=r.end.row;t++)if(s.$annotations[t])for(var l=0;l<s.$annotations[t].text.length;l++){var h=s.$annotations[t].type[l];o[h].push(s.$annotations[t].text[l]),"error"!==h?"warning"!==h||(n="warning_fold"):n="error_fold"}if("error_fold"===n||"warning_fold"===n){var c=`${a.annotationsToSummaryString(o)} in folded code.`;t.text.push(c),t.type.push(n)}}if(0===t.text.length)return this.hide();var d={error:[],warning:[],info:[]},u=s.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(let e=0;e<t.text.length;e++){var p=`<span class='ace_${t.type[e]} ${u}' aria-label='${a.annotationLabels[t.type[e].replace("_fold","")].singular}' role=img> </span> ${t.text[e]}`;d[t.type[e].replace("_fold","")].push(p)}var m=[].concat(d.error,d.warning,d.info).join("<br>");this.setHtml(m),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)}hideTooltip(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)}static annotationsToSummaryString(e){const t=[],s=["error","warning","info"];for(const i of s){if(!e[i].length)continue;const s=1===e[i].length?a.annotationLabels[i].singular:a.annotationLabels[i].plural;t.push(`${e[i].length} ${s}`)}return t.join(", ")}}t.Z=a},8636:(e,t,s)=>{"use strict";var i=s(6483);class r{constructor(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}onMouseDown(e){var t=e.inSelection(),s=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,n=e.getButton();return 0!==n?((r.getSelectionRange().isEmpty()||1==n)&&r.selection.moveToPosition(s),void(2==n&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(s,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))}startSelect(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var s=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?s.selection.selectToPosition(e):t||s.selection.moveToPosition(e),t||this.select(),s.setStyle("ace_selecting"),this.setState("select"))}select(){var e,t=this.editor,s=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(s);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=n(this.$clickSelection,s);s=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(s),t.renderer.scrollCursorIntoView()}extendSelectionBy(e){var t,s=this.editor,i=s.renderer.screenToTextCoordinates(this.x,this.y),r=s.selection[e](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==o&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&o>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==o&&1==a)i=r.end,t=r.start;else{var l=n(this.$clickSelection,i);i=l.cursor,t=l.anchor}s.selection.setSelectionAnchor(t.row,t.column)}s.selection.selectToPosition(i),s.renderer.scrollCursorIntoView()}selectByLinesEnd(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")}focusWait(){var e,t,s,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,s=this.x,i=this.y,Math.sqrt(Math.pow(s-e,2)+Math.pow(i-t,2))),n=Date.now();(r>0||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())}onDoubleClick(e){var t=e.getDocumentPosition(),s=this.editor,i=s.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=s.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()}onTripleClick(e){var t=e.getDocumentPosition(),s=this.editor;this.setState("selectByLines");var i=s.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=s.selection.getLineRange(i.start.row),this.$clickSelection.end=s.selection.getLineRange(i.end.row).end):this.$clickSelection=s.selection.getLineRange(t.row),this.select()}onQuadClick(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")}onMouseWheel(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var s=this.$lastScroll,i=e.domEvent.timeStamp,r=i-s.t,n=r?e.wheelX/r:s.vx,o=r?e.wheelY/r:s.vy;r<550&&(n=(n+s.vx)/2,o=(o+s.vy)/2);var a=Math.abs(n/o),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?s.allowed=i:i-s.allowed<550&&(Math.abs(n)<=1.5*Math.abs(s.vx)&&Math.abs(o)<=1.5*Math.abs(s.vy)?(l=!0,s.allowed=i):s.allowed=0),s.t=i,s.vx=n,s.vy=o,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}function n(e,t){if(e.start.row==e.end.row)var s=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)s=2*t.row-e.start.row-e.end.row;else s=t.column-4;return s<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}r.prototype.selectEnd=r.prototype.selectByLinesEnd,r.prototype.selectAllEnd=r.prototype.selectByLinesEnd,r.prototype.selectByWordsEnd=r.prototype.selectByLinesEnd,t.J=r},5323:(e,t,s)=>{"use strict";var i=s(215),r=s(2507),n=s(6483);function o(e){var t=e.editor,s=i.createElement("div");s.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",s.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var o,l,h,c,d,u,p,m,g,f,y,w=t.container,x=0;function v(){var e=u;(function(e,s){var i=Date.now(),r=!s||e.row!=s.row,n=!s||e.column!=s.column;!f||r||n?(t.moveCursorToPosition(e),f=i,y={x:l,y:h}):a(y.x,y.y,l,h)>5?f=null:i-f>=200&&(t.renderer.scrollCursorIntoView(),f=null)})(u=t.renderer.screenToTextCoordinates(l,h),e),function(e,s){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,n=t.renderer.layerConfig.characterWidth,o=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-o.left,right:o.right-l},y:{top:h-o.top,bottom:o.bottom-h}},c=Math.min(a.x.left,a.x.right),d=Math.min(a.y.top,a.y.bottom),u={row:e.row,column:e.column};c/n<=2&&(u.column+=a.x.left<a.x.right?-3:2),d/r<=1&&(u.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=u.row,m=e.column!=u.column,f=!s||e.row!=s.row;p||m&&!f?g?i-g>=200&&t.renderer.scrollCursorIntoView(u):g=i:g=null}(u,e)}function b(){d=t.selection.toOrientedRange(),o=t.session.addMarker(d,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),v(),c=setInterval(v,20),x=0,r.addListener(document,"mousemove",S)}function C(){clearInterval(c),t.session.removeMarker(o),o=null,t.selection.fromOrientedRange(d),t.isFocused()&&!m&&t.$resetCursorStyle(),d=null,u=null,x=0,g=null,f=null,r.removeListener(document,"mousemove",S)}this.onDragStart=function(e){if(this.cancelDrag||!w.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}d=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(s),r.setDragImage&&r.setDragImage(s,0,0),setTimeout((function(){t.container.removeChild(s)})),r.clearData(),r.setData("Text",t.session.getTextRange()),m=!0,this.setState("drag")},this.onDragEnd=function(e){if(w.draggable=!1,m=!1,this.setState(null),!t.getReadOnly()){var s=e.dataTransfer.dropEffect;p||"move"!=s||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&T(e.dataTransfer))return l=e.clientX,h=e.clientY,o||b(),x++,e.dataTransfer.dropEffect=p=k(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&T(e.dataTransfer))return l=e.clientX,h=e.clientY,o||(b(),x++),null!==A&&(A=null),e.dataTransfer.dropEffect=p=k(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--x<=0&&o)return C(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(u){var s=e.dataTransfer;if(m)switch(p){case"move":d=d.contains(u.row,u.column)?{start:u,end:u}:t.moveText(d,u);break;case"copy":d=t.moveText(d,u,!0)}else{var i=s.getData("Text");d={start:u,end:t.session.insert(u,i)},t.focus(),p=null}return C(),r.preventDefault(e)}},r.addListener(w,"dragstart",this.onDragStart.bind(e),t),r.addListener(w,"dragend",this.onDragEnd.bind(e),t),r.addListener(w,"dragenter",this.onDragEnter.bind(e),t),r.addListener(w,"dragover",this.onDragOver.bind(e),t),r.addListener(w,"dragleave",this.onDragLeave.bind(e),t),r.addListener(w,"drop",this.onDrop.bind(e),t);var A=null;function S(){null==A&&(A=setTimeout((function(){null!=A&&o&&C()}),20))}function T(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function k(e){var t=["copy","copymove","all","uninitialized"],s=n.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return s&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,s,i){return Math.sqrt(Math.pow(s-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=n.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;n.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,s=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&s){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(n.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(o.prototype),t.O=o},3939:(e,t,s)=>{"use strict";var i=s(215);t.e=class{constructor(e){e.on("click",(function(t){var s=t.getDocumentPosition(),r=e.session,n=r.getFoldAt(s.row,s.column,1);n&&(t.getAccelKey()?r.removeFold(n):r.expandFold(n),t.stop());var o=t.domEvent&&t.domEvent.target;o&&i.hasCssClass(o,"ace_inline_button")&&i.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var s=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[s]&&e.session.onFoldWidgetClick(s,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var s=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(s,!0),n=r.range||r.firstRange;if(n){s=n.start.row;var o=i.getFoldAt(s,i.getLine(s).length,1);o?i.removeFold(o):(i.addFold("...",n),e.renderer.scrollCursorIntoView({row:n.start.row,column:0}))}t.stop()}}))}}},6475:(e,t,s)=>{"use strict";var i=s(2507),r=s(6483);t.C=class{constructor(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}stopPropagation(){i.stopPropagation(this.domEvent),this.propagationStopped=!0}preventDefault(){i.preventDefault(this.domEvent),this.defaultPrevented=!0}stop(){this.stopPropagation(),this.preventDefault()}getDocumentPosition(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos}getGutterRow(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)}inSelection(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection}getButton(){return i.getButton(this.domEvent)}getShiftKey(){return this.domEvent.shiftKey}getAccelKey(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey}}},423:(e,t,s)=>{"use strict";var i=s(2507),r=s(6483),n=s(8636).J,o=s(1689).Y,a=s(6475).C,l=s(5323).O,h=s(6011).A,c=s(5133);class d{constructor(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var t=this;this.editor=e,new n(this),new o(this),new l(this);var s=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),h(e.container,e);var c=e.renderer.$gutter;i.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",s,e),i.addListener(c,"mousedown",s,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",s,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",s,e)),e.on("mousemove",(function(s){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(s.x,s.y),r=e.session.selection.getRange(),n=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?n.setCursorStyle("default"):n.setCursorStyle("")}}),e)}onMouseEvent(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))}onMouseMove(e,t){var s=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;s&&s.length&&this.editor._emit(e,new a(t,this.editor))}onMouseWheel(e,t){var s=new a(t,this.editor);s.speed=2*this.$scrollSpeed,s.wheelX=t.wheelX,s.wheelY=t.wheelY,this.editor._emit(e,s)}setState(e){this.state=e}captureMouse(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var s=this.editor,n=this.editor.renderer;n.$isMousePressed=!0;var o=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},h=function(e){s.off("beforeEndOperation",d),clearInterval(u),s.session&&c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",o.isMousePressed=n.$isMousePressed=!1,n.$keepTextAreaAtCursor&&n.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e),s.endOperation()},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){h(e)}));var d=function(e){o.releaseMouse&&s.curOp.command.name&&s.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};s.on("beforeEndOperation",d),s.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=l,o.releaseMouse=i.capture(this.editor.container,l,h);var u=setInterval(c,20)}cancelContextMenu(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}destroy(){this.releaseMouse&&this.releaseMouse()}}d.prototype.releaseMouse=null,c.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.e=d},4774:(e,t,s)=>{var i=s(2507),r=s(6483);function n(e,t){return e.row==t.row&&e.column==t.column}t.r=function(e){var t=e.domEvent,s=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),h=e.getButton();if(a&&r.isMac&&(h=t.button),e.editor.inMultiSelectMode&&2==h)e.editor.textInput.onContextMenu(e.domEvent);else if(a||s||l){if(0===h){var c,d=e.editor,u=d.selection,p=d.inMultiSelectMode,m=e.getDocumentPosition(),g=u.getCursor(),f=e.inSelection()||u.isEmpty()&&n(m,g),y=e.x,w=e.y,x=d.session,v=d.renderer.pixelToScreenCoordinates(y,w),b=v;if(d.$mouseHandler.$enableJumpToDef)a&&s||l&&s?c=o?"block":"add":s&&d.$blockSelectEnabled&&(c="block");else if(l&&!s){if(c="add",!p&&o)return}else s&&d.$blockSelectEnabled&&(c="block");if(c&&r.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==c){if(!p&&f)return;if(!p){var C=u.toOrientedRange();d.addSelectionMarker(C)}var A=u.rangeList.rangeAtPoint(m);d.inVirtualSelectionMode=!0,o&&(A=null,C=u.ranges[0]||C,d.removeSelectionMarker(C)),d.once("mouseup",(function(){var e=u.toOrientedRange();A&&e.isEmpty()&&n(A.cursor,e.cursor)?u.substractPoint(e.cursor):(o?u.substractPoint(C.cursor):C&&(d.removeSelectionMarker(C),u.addRange(C)),u.addRange(e)),d.inVirtualSelectionMode=!1}))}else if("block"==c){var S;e.stop(),d.inVirtualSelectionMode=!0;var T=[],k=function(){var e=d.renderer.pixelToScreenCoordinates(y,w),t=x.screenToDocumentPosition(e.row,e.column,e.offsetX);n(b,e)&&n(t,u.lead)||(b=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(T),T=u.rectangularRangeBlock(b,v),d.$mouseHandler.$clickSelection&&1==T.length&&T[0].isEmpty()&&(T[0]=d.$mouseHandler.$clickSelection.clone()),T.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};p&&!l?u.toSingleRange():!p&&l&&(S=u.toOrientedRange(),d.addSelectionMarker(S)),o?v=x.documentToScreenPosition(u.lead):u.moveToPosition(m),b={row:-1,column:-1};var E=k;i.capture(d.container,(function(e){y=e.clientX,w=e.clientY}),(function(e){k(),clearInterval($),d.removeSelectionMarkers(T),T.length||(T=[u.toOrientedRange()]),S&&(d.removeSelectionMarker(S),u.toSingleRange(S));for(var t=0;t<T.length;t++)u.addRange(T[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null}));var $=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===h&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}},6011:(e,t,s)=>{"use strict";var i=s(6475).C,r=s(2507),n=s(215);t.A=function(e,t){var s,o,a,l,h,c,d,u,p,m="scroll",g=0,f=0,y=0,w=0;function x(){var e,s,i;p||(e=window.navigator&&window.navigator.clipboard,s=!1,i=function(i){var r,o,a=i.target.getAttribute("action");if("more"==a||!s)return s=!s,r=t.getCopyText(),o=t.session.getUndoManager().hasUndo(),void p.replaceChild(n.buildDom(s?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),p.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),p.firstChild.style.display="none",s=!1,"openCommandPalette"!=a&&t.focus()},p=n.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){m="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var r=t.selection.cursor,o=t.renderer.textToScreenCoordinates(r.row,r.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,h=t.container.getBoundingClientRect();p.style.top=o.pageY-h.top-3+"px",o.pageX-h.left<h.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=a+l-h.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",v)}function v(e){p&&(p.style.display="none"),t.off("input",v)}function b(){h=null,clearTimeout(h);var e=t.selection.getRange(),s=e.contains(d.row,d.column);!e.isEmpty()&&s||(t.selection.moveToPosition(d),t.selection.selectWord()),m="wait",x()}r.addListener(e,"contextmenu",(function(e){u&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(h||r.length>1)return clearTimeout(h),h=null,a=-1,void(m="zoom");u=t.$mouseHandler.isMousePressed=!0;var n=t.renderer.layerConfig.lineHeight,c=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var x=r[0],v=x.clientX,C=x.clientY;Math.abs(s-v)+Math.abs(o-C)>n&&(a=-1),s=e.clientX=v,o=e.clientY=C,y=w=0;var A=new i(e,t);if(d=A.getDocumentPosition(),p-a<500&&1==r.length&&!g)f++,e.preventDefault(),e.button=0,function(){h=null,clearTimeout(h),t.selection.moveToPosition(d);var e=f>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),m="wait"}();else{f=0;var S=t.selection.cursor,T=t.selection.isEmpty()?S:t.selection.anchor,k=t.renderer.$cursorLayer.getPixelPosition(S,!0),E=t.renderer.$cursorLayer.getPixelPosition(T,!0),$=t.renderer.scroller.getBoundingClientRect(),P=t.renderer.layerConfig.offset,L=t.renderer.scrollLeft,I=function(e,t){return(e/=c)*e+(t=t/n-.75)*t};if(e.clientX<$.left)return void(m="zoom");var M=I(e.clientX-$.left-k.left+L,e.clientY-$.top-k.top+P),N=I(e.clientX-$.left-E.left+L,e.clientY-$.top-E.top+P);M<3.5&&N<3.5&&(m=M>N?"cursor":"anchor"),m=N<3.5?"anchor":M<3.5?"cursor":"scroll",h=setTimeout(b,450)}a=p}),t),r.addListener(e,"touchend",(function(e){u=t.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),"zoom"==m?(m="",g=0):h?(t.selection.moveToPosition(d),g=0,x()):"scroll"==m?(g+=60,c=setInterval((function(){g--<=0&&(clearInterval(c),c=null),Math.abs(y)<.01&&(y=0),Math.abs(w)<.01&&(w=0),g<20&&(y*=.9),g<20&&(w*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*y,10*w),e==t.session.getScrollTop()&&(g=0)}),10),v()):x(),clearTimeout(h),h=null}),t),r.addListener(e,"touchmove",(function(e){h&&(clearTimeout(h),h=null);var r=e.touches;if(!(r.length>1||"zoom"==m)){var n=r[0],a=s-n.clientX,c=o-n.clientY;if("wait"==m){if(!(a*a+c*c>4))return e.preventDefault();m="cursor"}s=n.clientX,o=n.clientY,e.clientX=n.clientX,e.clientY=n.clientY;var d=e.timeStamp,u=d-l;if(l=d,"scroll"==m){var p=new i(e,t);p.speed=1,p.wheelX=a,p.wheelY=c,10*Math.abs(a)<Math.abs(c)&&(a=0),10*Math.abs(c)<Math.abs(a)&&(c=0),0!=u&&(y=a/u,w=c/u),t._emit("mousewheel",p),p.propagationStopped||(y=w=0)}else{var g=new i(e,t).getDocumentPosition();"cursor"==m?t.selection.moveCursorToPosition(g):"anchor"==m&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}},6981:(e,t,s)=>{var i=s(9537).U,r=s(4074).Q,n=s(3933).L,o=s(4774).r,a=s(2507),l=s(3927),h=s(8675);t.commands=h.defaultCommands.concat(h.multiSelectCommands);var c=new(0,s(1143).v),d=s(9276).f;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var s=this.toOrientedRange();if(this.rangeList.add(s),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(s),this.$onAddRange(s)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var s=e.length;s--;){var i=this.ranges.indexOf(e[s]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],s=0;s<e.length;s++){var i=e[s],n=i.start.row,o=i.end.row;if(n===o)t.push(i.clone());else{for(t.push(new r(n,i.start.column,n,this.session.getLine(n).length));++n<o;)t.push(this.getLineRange(n,!0));t.push(new r(o,0,o,i.end.column))}0!=s||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),s=t.length;s--;)this.addRange(t[s])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],s=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(s,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],s=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(s,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),n=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,n).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,s){var i=[],n=e.column<t.column;if(n)var o=e.column,a=t.column,l=e.offsetX,h=t.offsetX;else o=t.column,a=e.column,l=t.offsetX,h=e.offsetX;var c,d,u,p=e.row<t.row;if(p)var m=e.row,g=t.row;else m=t.row,g=e.row;o<0&&(o=0),m<0&&(m=0),m==g&&(s=!0);for(var f=m;f<=g;f++){var y=r.fromPoints(this.session.screenToDocumentPosition(f,o,l),this.session.screenToDocumentPosition(f,a,h));if(y.isEmpty()){if(c&&(u=c,(d=y.end).row==u.row&&d.column==u.column))break;c=y.end}y.cursor=n?y.start:y.end,i.push(y)}if(p&&i.reverse(),!s){for(var w=i.length-1;i[w].isEmpty()&&w>0;)w--;if(w>0)for(var x=0;i[x].isEmpty();)x++;for(var v=w;v>=x;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(n.prototype);var u=s(4342).K;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(h.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),s=!1;a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?s||(e.renderer.setMouseCursor("crosshair"),s=!0):s&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){s&&(e.renderer.setMouseCursor(""),s=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,s=e.length;s--;){var i=e[s];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,s=e.editor;if(s.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=s.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=s.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(s.exitMultiSelectMode(),i=t.exec(s,e.args||{})):i=t.multiSelectAction(s,e.args||{});else{var i=t.exec(s,e.args||{});s.multiSelect.addRange(s.multiSelect.toOrientedRange()),s.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,s){if(!this.inVirtualSelectionMode){var i,r=s&&s.keepOrder,o=1==s||s&&s.$byLines,a=this.session,l=this.selection,h=l.rangeList,c=(r?l:h).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var u=new n(a);this.inVirtualSelectionMode=!0;for(var p=c.length;p--;){if(o)for(;p>0&&c[p].start.row==c[p-1].end.row;)p--;u.fromOrientedRange(c[p]),u.index=p,this.selection=a.selection=u;var m=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===m||(i=m),u.toOrientedRange(c[p])}u.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,s=[],i=0;i<t.length;i++)s.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=s.join(r)).length==(s.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var s=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?s.cursor==s.start?s.end:s.start:s.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,s){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var n=this.multiSelect;s||n.toSingleRange(r[0]);for(var o=r.length;o--;)n.addRange(r[o],!0);return i&&n.rangeList.rangeAtPoint(i.start)&&n.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var s=this.selection.toOrientedRange(),i=s.cursor==s.end,n=this.session.documentToScreenPosition(s.cursor);this.selection.$desiredColumn&&(n.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(n.row+e,n.column);if(s.isEmpty())h=a;else var l=this.session.documentToScreenPosition(i?s.end:s.start),h=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(o=r.fromPoints(a,h)).cursor=o.start:(o=r.fromPoints(h,a)).cursor=o.end,o.desiredColumn=n.column,this.selection.inMultiSelectMode){if(t)var c=s.cursor}else this.selection.addRange(s);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,s=t.multiSelect,i=s.ranges,r=i.length;r--;)if((o=i[r]).isEmpty()){let e=t.getWordRange(o.start.row,o.start.column);o.start.row=e.start.row,o.start.column=e.start.column,o.end.row=e.end.row,o.end.column=e.end.column}s.mergeOverlappingRanges();var n=[];for(r=i.length;r--;){var o=i[r];n.unshift(t.getTextRange(o))}for(e<0?n.unshift(n.pop()):n.push(n.shift()),r=i.length;r--;){var a=(o=i[r]).clone();t.replace(o,n[r]),o.start.row=a.start.row,o.start.column=a.start.column}s.fromOrientedRange(s.ranges[0])},this.selectMore=function(e,t,s){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!s)){var n=i.getTextRange(r),o=function(e,t,s){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==s,c.find(e)}(i,n,e);o&&(o.cursor=-1==e?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,s=t.ranges,i=-1,n=s.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(s.length&&n.length!=s.length-1){n.forEach((function(e){t.substractPoint(e.cursor)}));var o=0,a=1/0,h=s.map((function(t){var s=t.cursor,i=e.getLine(s.row).substr(s.column).search(/\S/g);return-1==i&&(i=0),s.column>o&&(o=s.column),i<a&&(a=i),i}));s.forEach((function(t,s){var i=t.cursor,n=o-i.column,c=h[s]-a;n>c?e.insert(i,l.stringRepeat(" ",n-c)):e.remove(new r(i.row,i.column,i.row,i.column-n+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(s[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),d=c.start.row,u=c.end.row,p=d==u;if(p){var m,g=this.session.getLength();do{m=this.session.getLine(u)}while(/[=:]/.test(m)&&++u<g);do{m=this.session.getLine(d)}while(/[=:]/.test(m)&&--d>0);d<0&&(d=0),u>=g&&(u=g-1)}var f=this.session.removeFullLines(d,u);f=this.$reAlignText(f,p),this.session.insert({row:d,column:0},f.join("\n")+"\n"),p||(c.start.column=0,c.end.column=f[f.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){var s,i,r,n=!0,o=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,i=t[2].length,r=t[3].length,t):(s+i+r!=t[1].length+t[2].length+t[3].length&&(o=!1),s!=t[1].length&&(n=!1),s>t[1].length&&(s=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?h:n?o?function(e){return e[2]?a(s+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:h:function(e){return e[2]?a(s)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function h(e){return e[2]?a(s)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(u.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var s=e.oldSession;s&&(s.multiSelect.off("addRange",this.$onAddRange),s.multiSelect.off("removeRange",this.$onRemoveRange),s.multiSelect.off("multiSelect",this.$onMultiSelect),s.multiSelect.off("singleSelect",this.$onSingleSelect),s.multiSelect.lead.off("change",this.$checkMultiselectChange),s.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,s(5133).defineOptions(u.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})},9818:(e,t,s)=>{"use strict";var i=s(4074).Q,r=s(8770).b,n=s(8297);class o{constructor(e,t,s,i,r,n){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=n,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=s;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}setup(){var e=this,t=this.doc,s=this.session;this.selectionBefore=s.selection.toJSON(),s.selection.inMultiSelectMode&&s.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=s.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(s){var i=t.createAnchor(s.row,s.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),s.setUndoSelect(!1)}showOtherMarkers(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(s){s.markerId=e.addMarker(new i(s.row,s.column,s.row,s.column+t.length),t.othersClass,null,!1)}))}}hideOtherMarkers(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}}onUpdate(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var s="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,n=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=s),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a={row:(l=this.others[o]).row,column:l.column+n};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var l;a={row:(l=this.others[o]).row,column:l.column+n},this.doc.remove(new i(a.row,a.column,a.row,a.column-s))}this.$updating=!1,this.updateMarkers()}}updateAnchors(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()}updateMarkers(){if(!this.$updating){var e=this,t=this.session,s=function(s,r){t.removeMarker(s.markerId),s.markerId=t.addMarker(new i(s.row,s.column,s.row,s.column+e.length),r,null,!1)};s(this.pos,this.mainClass);for(var r=this.others.length;r--;)s(this.others[r],this.othersClass)}}onCursorChange(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}}detach(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null}cancel(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,s=0;s<t;s++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}n.implement(o.prototype,r),t.PlaceHolder=o},4074:(e,t)=>{"use strict";class s{constructor(e,t,s,i){this.start={row:e,column:t},this.end={row:s,column:i}}isEqual(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column}toString(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"}contains(e,t){return 0==this.compare(e,t)}compareRange(e){var t,s=e.end,i=e.start;return 1==(t=this.compare(s.row,s.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0}comparePoint(e){return this.compare(e.row,e.column)}containsRange(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)}intersects(e){var t=this.compareRange(e);return-1==t||0==t||1==t}isEnd(e,t){return this.end.row==e&&this.end.column==t}isStart(e,t){return this.start.row==e&&this.start.column==t}setStart(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)}setEnd(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)}inside(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)}insideStart(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)}insideEnd(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)}compare(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0}compareStart(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}compareEnd(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)}compareInside(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}clipRows(e,t){if(this.end.row>t)var i={row:t+1,column:0};else this.end.row<e&&(i={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return s.fromPoints(r||this.start,i||this.end)}extend(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var r={row:e,column:t};else var n={row:e,column:t};return s.fromPoints(r||this.start,n||this.end)}isEmpty(){return this.start.row===this.end.row&&this.start.column===this.end.column}isMultiLine(){return this.start.row!==this.end.row}clone(){return s.fromPoints(this.start,this.end)}collapseRows(){return 0==this.end.column?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)}toScreenRange(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new s(t.row,t.column,i.row,i.column)}moveBy(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}s.fromPoints=function(e,t){return new s(e.row,e.column,t.row,t.column)},s.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Q=s},9537:(e,t,s)=>{"use strict";var i=s(4074).Q.comparePoints;class r{constructor(){this.ranges=[],this.$bias=1}pointIndex(e,t,s){for(var r=this.ranges,n=s||0;n<r.length;n++){var o=r[n],a=i(e,o.end);if(!(a>0)){var l=i(e,o.start);return 0===a?t&&0!==l?-n-2:n:l>0||0===l&&!t?n:-n-1}}return-n-1}add(e){var t=!e.isEmpty(),s=this.pointIndex(e.start,t);s<0&&(s=-s-1);var i=this.pointIndex(e.end,t,s);return i<0?i=-i-1:i++,this.ranges.splice(s,i-s,e)}addList(e){for(var t=[],s=e.length;s--;)t.push.apply(t,this.add(e[s]));return t}substractPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)}merge(){for(var e,t=[],s=this.ranges,r=(s=s.sort((function(e,t){return i(e.start,t.start)})))[0],n=1;n<s.length;n++){e=r,r=s[n];var o=i(e.end,r.start);o<0||(0!=o||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),s.splice(n,1),t.push(r),r=e,n--)}return this.ranges=s,t}contains(e,t){return this.pointIndex({row:e,column:t})>=0}containsPoint(e){return this.pointIndex(e)>=0}rangeAtPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]}clipRows(e,t){var s=this.ranges;if(s[0].start.row>t||s[s.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var n=[],o=i;o<r;o++)n.push(s[o]);return n}removeAll(){return this.ranges.splice(0,this.ranges.length)}attach(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)}detach(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)}$onChange(e){for(var t=e.start,s=e.end,i=t.row,r=s.row,n=this.ranges,o=0,a=n.length;o<a&&!((c=n[o]).end.row>=i);o++);if("insert"==e.action){for(var l=r-i,h=-t.column+s.column;o<a&&!((c=n[o]).start.row>i);o++)if(c.start.row==i&&c.start.column>=t.column&&(c.start.column==t.column&&this.$bias<=0||(c.start.column+=h,c.start.row+=l)),c.end.row==i&&c.end.column>=t.column){if(c.end.column==t.column&&this.$bias<0)continue;c.end.column==t.column&&h>0&&o<a-1&&c.end.column>c.start.column&&c.end.column==n[o+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=i-r,h=t.column-s.column;o<a&&!((c=n[o]).start.row>r);o++)c.end.row<r&&(i<c.end.row||i==c.end.row&&t.column<c.end.column)?(c.end.row=i,c.end.column=t.column):c.end.row==r?c.end.column<=s.column?(l||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=h,c.end.row+=l):c.end.row>r&&(c.end.row+=l),c.start.row<r&&(i<c.start.row||i==c.start.row&&t.column<c.start.column)?(c.start.row=i,c.start.column=t.column):c.start.row==r?c.start.column<=s.column?(l||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=h,c.start.row+=l):c.start.row>r&&(c.start.row+=l);if(0!=l&&o<a)for(;o<a;o++){var c;(c=n[o]).start.row+=l,c.end.row+=l}}}r.prototype.comparePoints=i,t.U=r},1197:(e,t,s)=>{"use strict";var i=s(2507);t.x=class{constructor(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var s=this;this._flush=function(e){s.pending=!1;var t=s.changes;if(t&&(i.blockIdle(100),s.changes=0,s.onRender(t)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}schedule(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)}clear(e){var t=this.changes;return this.changes=0,t}}},5405:(e,t,s)=>{"use strict";var i=s(8297),r=s(215),n=s(2507),o=s(8770).b,a=32768;class l{constructor(e,t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,n.addListener(this.element,"scroll",this.onScroll.bind(this)),n.addListener(this.element,"mousedown",n.preventDefault)}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}i.implement(l.prototype,o);class h extends l{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}onScroll(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.element.style.height=e+"px"}setScrollHeight(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"}setScrollTop(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}h.prototype.setInnerHeight=h.prototype.setScrollHeight;t.vB=h,t.V1=class extends l{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"}onScroll(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1}getHeight(){return this.isVisible?this.height:0}setWidth(e){this.element.style.width=e+"px"}setInnerWidth(e){this.inner.style.width=e+"px"}setScrollWidth(e){this.inner.style.width=e+"px"}setScrollLeft(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}},2083:(e,t,s)=>{"use strict";var i=s(8297),r=s(215),n=s(2507),o=s(8770).b;r.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);class a{constructor(e,t){this.element=r.createElement("div"),this.element.className="ace_sb"+t,this.inner=r.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,n.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}i.implement(a.prototype,o);class l extends a{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0}onMouseDown(e,t){if("mousedown"===e&&0===n.getButton(t)&&2!==t.detail){if(t.target===this.inner){var s=this,i=t.clientY,r=t.clientY,o=this.thumbTop;n.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=s.scrollTopFromThumbTop(o+i-r);e!==s.scrollTop&&s._emit("scroll",{data:e})}}),20);return n.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),n.preventDefault(t)}}getHeight(){return this.height}scrollTopFromThumbTop(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t|=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)}setScrollHeight(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))}setScrollTop(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}l.prototype.setInnerHeight=l.prototype.setScrollHeight;class h extends a{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t}onMouseDown(e,t){if("mousedown"===e&&0===n.getButton(t)&&2!==t.detail){if(t.target===this.inner){var s=this,i=t.clientX,r=t.clientX,o=this.thumbLeft;n.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=s.scrollLeftFromThumbLeft(o+i-r);e!==s.scrollLeft&&s._emit("scroll",{data:e})}}),20);return n.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),n.preventDefault(t)}}getHeight(){return this.isVisible?this.height:0}scrollLeftFromThumbLeft(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t|=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t}setWidth(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)}setScrollWidth(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))}setScrollLeft(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}h.prototype.setInnerWidth=h.prototype.setScrollWidth,t.vB=l,t.V1=h},1143:(e,t,s)=>{"use strict";var i=s(3927),r=s(8297),n=s(4074).Q;t.v=class{constructor(){this.$options={}}set(e){return r.mixin(this.$options,e),this}getOptions(){return i.copyObject(this.$options)}setOptions(e){this.$options=e}find(e){var t=this.$options,s=this.$matchIterator(e,t);if(!s)return!1;var i=null;return s.forEach((function(e,s,r,o){return i=new n(e,s,r,o),!(s==o&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i}findAll(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var s=t.range,r=s?e.getLines(s.start.row,s.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,h=a.length,c=r.length-h;e:for(var d=a.offset||0;d<=c;d++){for(var u=0;u<h;u++)if(-1==r[d+u].search(a[u]))continue e;var p=r[d],m=r[d+h-1],g=p.length-p.match(a[0])[0].length,f=m.match(a[h-1])[0].length;l&&l.end.row===d&&l.end.column>g||(o.push(l=new n(d,g,d+h-1,f)),h>2&&(d=d+h-2))}}else for(var y=0;y<r.length;y++){var w=i.getMatchOffsets(r[y],a);for(u=0;u<w.length;u++){var x=w[u];o.push(new n(y,x.offset,y,x.offset+x.length))}}if(s){var v=s.start.column,b=s.end.column;for(y=0,u=o.length-1;y<u&&o[y].start.column<v&&0==o[y].start.row;)y++;for(var C=s.end.row-s.start.row;y<u&&o[u].end.column>b&&o[u].end.row==C;)u--;for(o=o.slice(y,u+1),y=0,u=o.length;y<u;y++)o[y].start.row+=s.start.row,o[y].end.row+=s.start.row}return o}replace(e,t){var s=this.$options,i=this.$assembleRegExp(s);if(s.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(s.regExp||(t=t.replace(/\$/g,"$$$$")),t=e.replace(i,t),s.preserveCase){t=t.split("");for(var n=Math.min(e.length,e.length);n--;){var o=e[n];o&&o.toLowerCase()!=o?t[n]=t[n].toUpperCase():t[n]=t[n].toLowerCase()}t=t.join("")}return t}}$assembleRegExp(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var s=e.needle;if(!e.needle)return e.re=!1;e.regExp||(s=i.escapeRegExp(s));var r=e.caseSensitive?"gm":"gmi";try{new RegExp(s,"u"),e.$supportsUnicodeFlag=!0,r+="u"}catch(t){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(s=function(e,t){let s=i.supportsLookbehind();function r(e,i=!0){return(s&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?s&&t.$supportsUnicodeFlag?i?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}let n=Array.from(e),o=n[0],a=n[n.length-1];return r(o)+e+r(a,!1)}(s,e)),e.$isMultiLine=!t&&/[\n\r]/.test(s),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(s,r);try{var n=new RegExp(s,r)}catch(e){n=!1}return e.re=n}$assembleMultilineRegExp(e,t){for(var s=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<s.length;r++)try{i.push(new RegExp(s[r],t))}catch(e){return!1}return i}$matchIterator(e,t){var s=this.$assembleRegExp(t);if(!s)return!1;var r=1==t.backwards,n=0!=t.skipCurrent,o=s.unicode,a=t.range,l=t.start;l||(l=a?a[r?"end":"start"]:e.selection.getRange()),l.start&&(l=l[n!=r?"end":"start"]);var h=a?a.start.row:0,c=a?a.end.row:e.getLength()-1;if(r)var d=function(e){var s=l.row;if(!p(s,l.column,e)){for(s--;s>=h;s--)if(p(s,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(s=c,h=l.row;s>=h;s--)if(p(s,Number.MAX_VALUE,e))return}};else d=function(e){var s=l.row;if(!p(s,l.column,e)){for(s+=1;s<=c;s++)if(p(s,0,e))return;if(0!=t.wrap)for(s=h,c=l.row;s<=c;s++)if(p(s,0,e))return}};if(t.$isMultiLine)var u=s.length,p=function(t,i,n){var o=r?t-u+1:t;if(!(o<0||o+u>e.getLength())){var a=e.getLine(o),l=a.search(s[0]);if(!(!r&&l<i||-1===l)){for(var h=1;h<u;h++)if(-1==(a=e.getLine(o+h)).search(s[h]))return;var c=a.match(s[u-1])[0].length;if(!(r&&c>i))return!!n(o,l,o+u-1,c)||void 0}}};else p=r?function(t,r,n){var a,l=e.getLine(t),h=[],c=0;for(s.lastIndex=0;a=s.exec(l);){var d=a[0].length;if(c=a.index,!d){if(c>=l.length)break;s.lastIndex=c+=i.skipEmptyMatch(l,c,o)}if(a.index+d>r)break;h.push(a.index,d)}for(var u=h.length-1;u>=0;u-=2){var p=h[u-1];if(n(t,p,t,p+(d=h[u])))return!0}}:function(t,r,n){var a,l,h=e.getLine(t);for(s.lastIndex=r;l=s.exec(h);){var c=l[0].length;if(n(t,a=l.index,t,a+c))return!0;if(!c&&(s.lastIndex=a+=i.skipEmptyMatch(h,a,o),a>=h.length))return!1}};return{forEach:d}}}},8748:(e,t,s)=>{"use strict";var i=s(3927),r=s(4074).Q;class n{constructor(e,t,s="text"){this.setRegexp(e),this.clazz=t,this.type=s}setRegexp(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])}update(e,t,s,n){if(this.regExp)for(var o=n.firstRow,a=n.lastRow,l={},h=o;h<=a;h++){var c=this.cache[h];null==c&&((c=i.getMatchOffsets(s.getLine(h),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new r(h,e.offset,h,e.offset+e.length)})),this.cache[h]=c.length?c:"");for(var d=c.length;d--;){var u=c[d].toScreenRange(s),p=u.toString();l[p]||(l[p]=!0,t.drawSingleLineMarker(e,u,this.clazz,n))}}}}n.prototype.MAX_RANGES=500,t.V=n},3933:(e,t,s)=>{"use strict";var i=s(8297),r=s(3927),n=s(8770).b,o=s(4074).Q;class a{constructor(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}isEmpty(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column}isMultiLine(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row}getCursor(){return this.lead.getPosition()}setAnchor(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)}getAnchor(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()}getSelectionLead(){return this.lead.getPosition()}isBackwards(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column}getRange(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)}clearSelection(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))}selectAll(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)}setRange(e,t){var s=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(s.row,s.column,i.row,i.column)}$setSelection(e,t,s,i){if(!this.$silent){var r=this.$isEmpty,n=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(s,i),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||n)&&this._emit("changeSelection")}}$moveSelection(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)}selectTo(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))}selectToPosition(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))}moveTo(e,t){this.clearSelection(),this.moveCursorTo(e,t)}moveToPosition(e){this.clearSelection(),this.moveCursorToPosition(e)}selectUp(){this.$moveSelection(this.moveCursorUp)}selectDown(){this.$moveSelection(this.moveCursorDown)}selectRight(){this.$moveSelection(this.moveCursorRight)}selectLeft(){this.$moveSelection(this.moveCursorLeft)}selectLineStart(){this.$moveSelection(this.moveCursorLineStart)}selectLineEnd(){this.$moveSelection(this.moveCursorLineEnd)}selectFileEnd(){this.$moveSelection(this.moveCursorFileEnd)}selectFileStart(){this.$moveSelection(this.moveCursorFileStart)}selectWordRight(){this.$moveSelection(this.moveCursorWordRight)}selectWordLeft(){this.$moveSelection(this.moveCursorWordLeft)}getWordRange(e,t){if(void 0===t){var s=e||this.lead;e=s.row,t=s.column}return this.session.getWordRange(e,t)}selectWord(){this.setSelectionRange(this.getWordRange())}selectAWord(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)}getLineRange(e,t){var s,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,s=r.end.row):s=i,!0===t?new o(i,0,s,this.session.getLine(s).length):new o(i,0,s+1,0)}selectLine(){this.setSelectionRange(this.getLineRange())}moveCursorUp(){this.moveCursorBy(-1,0)}moveCursorDown(){this.moveCursorBy(1,0)}wouldMoveIntoSoftTab(e,t,s){var i=e.column,r=e.column+t;return s<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t}moveCursorLeft(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var s=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,s,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-s):this.moveCursorBy(0,-1)}}moveCursorRight(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var s=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,s,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,s):this.moveCursorBy(0,1)}}moveCursorLineStart(){var e=this.lead.row,t=this.lead.column,s=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(s,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)}moveCursorLineEnd(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var s=this.session.getLine(t.row);if(t.column==s.length){var i=s.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)}moveCursorFileEnd(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)}moveCursorFileStart(){this.moveCursorTo(0,0)}moveCursorLongWordRight(){var e=this.lead.row,t=this.lead.column,s=this.doc.getLine(e),i=s.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=s.substring(t)),t>=s.length)return this.moveCursorTo(e,s.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}}moveCursorLongWordLeft(){var e,t=this.lead.row,s=this.lead.column;if(e=this.session.getFoldAt(t,s,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,s,-1);null==i&&(i=this.doc.getLine(t).substring(0,s));var n=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(n)&&(s-=this.session.nonTokenRe.lastIndex,n=n.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),s<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(n)&&(s-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,s)}}$shortWordEndIndex(e){var t,s=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))s=this.session.tokenRe.lastIndex;else{for(;(t=e[s])&&i.test(t);)s++;if(s<1)for(r.lastIndex=0;(t=e[s])&&!r.test(t);)if(r.lastIndex=0,s++,i.test(t)){if(s>2){s--;break}for(;(t=e[s])&&i.test(t);)s++;if(s>2)break}}return r.lastIndex=0,s}moveCursorShortWordRight(){var e=this.lead.row,t=this.lead.column,s=this.doc.getLine(e),i=s.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==s.length){var n=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<n&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)}moveCursorShortWordLeft(){var e,t=this.lead.row,s=this.lead.column;if(e=this.session.getFoldAt(t,s,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,s);if(0===s){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));s=i.length,/\s+$/.test(i)||(i="")}var n=r.stringReverse(i),o=this.$shortWordEndIndex(n);return this.moveCursorTo(t,s-o)}moveCursorWordRight(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()}moveCursorWordLeft(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()}moveCursorBy(e,t){var s,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(s=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(s/this.session.$bidiHandler.charWidths[0])):s=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var n=this.session.screenToDocumentPosition(i.row+e,i.column,s);0!==e&&0===t&&n.row===this.lead.row&&(n.column,this.lead.column),this.moveCursorTo(n.row,n.column+t,0===t)}moveCursorToPosition(e){this.moveCursorTo(e.row,e.column)}moveCursorTo(e,t,s){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,s||(this.$desiredColumn=null)}moveCursorToScreen(e,t,s){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,s)}detach(){this.lead.detach(),this.anchor.detach()}fromOrientedRange(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn}toOrientedRange(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e}getRangeOfMovements(e){var t=this.getCursor();try{e(this);var s=this.getCursor();return o.fromPoints(t,s)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}}toJSON(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e}fromJSON(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var s=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(s.cursor=s.start),this.addRange(s,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)}isEqual(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}a.prototype.setSelectionAnchor=a.prototype.setAnchor,a.prototype.getSelectionAnchor=a.prototype.getAnchor,a.prototype.setSelectionRange=a.prototype.setRange,i.implement(a.prototype,n),t.L=a},2241:e=>{e.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'},4707:(e,t,s)=>{"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=s(2241),t.$id="ace/theme/textmate",s(215).importCssString(t.cssText,t.cssClass,!1)},1871:(e,t,s)=>{"use strict";var i=s(4074).Q;t.TokenIterator=class{constructor(e,t,s){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,s);this.$tokenIndex=i?i.index:-1}stepBackward(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]}stepForward(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]}getCurrentToken(){return this.$rowTokens[this.$tokenIndex]}getCurrentTokenRow(){return this.$row}getCurrentTokenColumn(){var e=this.$rowTokens,t=this.$tokenIndex,s=e[t].start;if(void 0!==s)return s;for(s=0;t>0;)s+=e[t-=1].value.length;return s}getCurrentTokenPosition(){return{row:this.$row,column:this.getCurrentTokenColumn()}}getCurrentTokenRange(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}},9266:(e,t,s)=>{"use strict";const i=s(3536).N;var r=2e3;class n{constructor(e){for(var t in this.splitRegex,this.states=e,this.regExps={},this.matchMappings={},this.states){for(var s=this.states[t],i=[],r=0,n=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<s.length;l++){var h=s[l];if(h.defaultToken&&(n.defaultToken=h.defaultToken),h.caseInsensitive&&-1===o.indexOf("i")&&(o+="i"),h.unicode&&-1===o.indexOf("u")&&(o+="u"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,d=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(h.token)?1==h.token.length||1==d?h.token=h.token[0]:d-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:d-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"!=typeof h.token||h.onMatch||(h.onMatch=d>1?this.$applyToken:h.token),d>1&&(/\\\d/.test(h.regex)?c=h.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(d=1,c=this.removeCapturingGroups(h.regex)),h.splitRegex||"string"==typeof h.token||a.push(h)),n[r]=l,r+=d,i.push(c),h.onMatch||(h.onMatch=null)}}i.length||(n[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}}$setMaxTokenCount(e){r=0|e}$applyToken(e){var t=this.splitRegex.exec(e).slice(1),s=this.token.apply(this,t);if("string"==typeof s)return[{type:s,value:e}];for(var i=[],r=0,n=s.length;r<n;r++)t[r]&&(i[i.length]={type:s[r],value:t[r]});return i}$arrayTokens(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var s=[],i=this.tokenArray,r=0,n=i.length;r<n;r++)t[r+1]&&(s[s.length]={type:i[r],value:t[r+1]});return s}removeCapturingGroups(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))}createSplitterRegexp(e,t){if(-1!=e.indexOf("(?=")){var s=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,n,o,a,l){return i?i="]"!=a:a?i=!0:o?(s==r.stack&&(r.end=l+1,r.stack=-1),s--):n&&(s++,1!=n.length&&(r.stack=s,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))}getLineTokens(e,t){if(t&&"string"!=typeof t){var s=t.slice(0);"#tmp"===(t=s[0])&&(s.shift(),t=s.shift())}else s=[];var i=t||"start",n=this.states[i];n||(i="start",n=this.states[i]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,h=[],c=0,d=0,u={type:null,value:""};l=a.exec(e);){var p=o.defaultToken,m=null,g=l[0],f=a.lastIndex;if(f-g.length>c){var y=e.substring(c,f-g.length);u.type==p?u.value+=y:(u.type&&h.push(u),u={type:p,value:y})}for(var w=0;w<l.length-2;w++)if(void 0!==l[w+1]){p=(m=n[o[w]]).onMatch?m.onMatch(g,i,s,e):m.token,m.next&&(i="string"==typeof m.next?m.next:m.next(i,s),(n=this.states[i])||(this.reportError("state doesn't exist",i),i="start",n=this.states[i]),o=this.matchMappings[i],c=f,(a=this.regExps[i]).lastIndex=f),m.consumeLineEnd&&(c=f);break}if(g)if("string"==typeof p)m&&!1===m.merge||u.type!==p?(u.type&&h.push(u),u={type:p,value:g}):u.value+=g;else if(p)for(u.type&&h.push(u),u={type:null,value:""},w=0;w<p.length;w++)h.push(p[w]);if(c==e.length)break;if(c=f,d++>r){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)u.type&&h.push(u),u={value:e.substring(c,c+=500),type:"overflow"};i="start",s=[];break}}return u.type&&h.push(u),s.length>1&&s[0]!==i&&s.unshift("#tmp",i),{tokens:h,state:s.length?s:i}}}n.prototype.reportError=i,t._=n},2980:(e,t,s)=>{"use strict";var i=s(215),r=(s(2507),s(4074).Q,s(6558).K,"ace_tooltip");new class{constructor(){this.popups=[]}addPopup(e){this.popups.push(e),this.updatePopups()}removePopup(e){const t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())}updatePopups(){this.popups.sort(((e,t)=>t.priority-e.priority));let e=[];for(let t of this.popups){let s=!0;for(let i of e)if(this.doPopupsOverlap(i,t)){s=!1;break}s?e.push(t):t.hide()}}doPopupsOverlap(e,t){const s=e.getElement().getBoundingClientRect(),i=t.getElement().getBoundingClientRect();return s.left<i.right&&s.right>i.left&&s.top<i.bottom&&s.bottom>i.top}};t.m_=class{constructor(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}$init(){return this.$element=i.createElement("div"),this.$element.className=r,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element}getElement(){return this.$element||this.$init()}setText(e){this.getElement().textContent=e}setHtml(e){this.getElement().innerHTML=e}setPosition(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"}setClassName(e){i.addCssClass(this.getElement(),e)}setTheme(e){this.$element.className=r+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")}show(e,t,s){null!=e&&this.setText(e),null!=t&&null!=s&&this.setPosition(t,s),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)}hide(e){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=r,this.isOpen=!1)}getHeight(){return this.getElement().offsetHeight}getWidth(){return this.getElement().offsetWidth}destroy(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}},258:(e,t,s)=>{"use strict";class i{constructor(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}addSession(e){this.$session=e}add(e,t,s){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}}addSelection(e,t){this.selections.push({value:e,rev:t||this.$rev})}startNewGroup(){return this.lastDeltas=null,this.$rev}markIgnored(e,t){null==t&&(t=this.$rev+1);for(var s=this.$undoStack,i=s.length;i--;){var r=s[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null}getSelection(e,t){for(var s=this.selections,i=s.length;i--;){var r=s[i];if(r.rev<e)return t&&(r=s[i+1]),r}}getRevision(){return this.$rev}getDeltas(e,t){null==t&&(t=this.$rev+1);for(var s=this.$undoStack,i=null,r=0,n=s.length;n--;){var o=s[n][0];if(o.id<t&&!i&&(i=n+1),o.id<=e){r=n+1;break}}return s.slice(r,i)}getChangedRanges(e,t){null==t&&(t=this.$rev+1)}getChangedLines(e,t){null==t&&(t=this.$rev+1)}undo(e,t){this.lastDeltas=null;var s=this.$undoStack;if(function(e,t){for(var s=t;s--;){var i=e[s];if(i&&!i[0].ignore){for(;s<t-1;){var r=c(e[s],e[s+1]);e[s]=r[0],e[s+1]=r[1],s++}return!0}}}(s,s.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=s.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}}redo(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var s=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var s=0;s<t.length;s++)for(var i=t[s],r=0;r<i.length;r++)g(e,i[r])}(this.$redoStack,s),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}$syncRev(){var e=this.$undoStack,t=e[e.length-1],s=t&&t[0].id||0;this.$redoStackBaseRev=s,this.$rev=s}reset(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]}canUndo(){return this.$undoStack.length>0}canRedo(){return this.$redoStack.length>0}bookmark(e){null==e&&(e=this.$rev),this.mark=e}isAtBookmark(){return this.$rev===this.mark}toJSON(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}}fromJSON(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack}$prettyPrint(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}i.prototype.hasUndo=i.prototype.canUndo,i.prototype.hasRedo=i.prototype.canRedo,i.prototype.isClean=i.prototype.isAtBookmark,i.prototype.markClean=i.prototype.bookmark;var r=s(4074).Q,n=r.comparePoints;function o(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function h(e,t){var s="insert"==e.action,i="insert"==t.action;if(s&&i)if(n(t.start,e.end)>=0)u(t,e,-1);else{if(!(n(t.start,e.start)<=0))return null;u(e,t,1)}else if(s&&!i)if(n(t.start,e.end)>=0)u(t,e,-1);else{if(!(n(t.end,e.start)<=0))return null;u(e,t,-1)}else if(!s&&i)if(n(t.start,e.start)>=0)u(t,e,1);else{if(!(n(t.start,e.start)<=0))return null;u(e,t,1)}else if(!s&&!i)if(n(t.start,e.start)>=0)u(t,e,1);else{if(!(n(t.end,e.start)<=0))return null;u(e,t,-1)}return[t,e]}function c(e,t){for(var s=e.length;s--;)for(var i=0;i<t.length;i++)if(!h(e[s],t[i])){for(;s<e.length;){for(;i--;)h(t[i],e[s]);i=t.length,s++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function d(e,t){var s="insert"==e.action,i="insert"==t.action;if(s&&i)n(e.start,t.start)<0?u(t,e,1):u(e,t,1);else if(s&&!i)n(e.start,t.end)>=0?u(e,t,-1):(n(e.start,t.start)<=0||u(e,r.fromPoints(t.start,e.start),-1),u(t,e,1));else if(!s&&i)n(t.start,e.end)>=0?u(t,e,-1):(n(t.start,e.start)<=0||u(t,r.fromPoints(e.start,t.start),-1),u(e,t,1));else if(!s&&!i)if(n(t.start,e.end)>=0)u(t,e,-1);else{var o,a;if(!(n(t.end,e.start)<=0))return n(e.start,t.start)<0&&(o=e,e=m(e,t.start)),n(e.end,t.end)>0&&(a=m(e,t.end)),p(t.end,e.start,e.end,-1),a&&!o&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,o,a].filter(Boolean);u(e,t,-1)}return[t,e]}function u(e,t,s){p(e.start,t.start,t.end,s),p(e.end,t.start,t.end,s)}function p(e,t,s,i){e.row==(1==i?t:s).row&&(e.column+=i*(s.column-t.column)),e.row+=i*(s.row-t.row)}function m(e,t){var s=e.lines,i=e.end;e.end=o(t);var r=e.end.row-e.start.row,n=s.splice(r,s.length),a=r?t.column:t.column-e.start.column;return s.push(n[0].substring(0,a)),n[0]=n[0].substr(a),{start:o(t),end:i,lines:n,action:e.action}}function g(e,t){t=function(e){return{start:o(e.start),end:o(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var s=e.length;s--;){for(var i=e[s],r=0;r<i.length;r++){var n=d(i[r],t);t=n[0],2!=n.length&&(n[2]?(i.splice(r+1,1,n[1],n[2]),r++):n[1]||(i.splice(r,1),r--))}i.length||e.splice(s,1)}return e}r.comparePoints,t.a=i},3196:(e,t)=>{"use strict";for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,r=[],n=0;n<s.length;n+=2)r.push(i+=s[n]),s[n+1]&&r.push(45,i+=s[n+1]);t.wordChars=String.fromCharCode.apply(null,r)},916:(e,t,s)=>{"use strict";var i=s(8297),r=s(215),n=s(3927),o=s(5133),a=s(4226).W,l=s(3631).p,h=s(3698).E,c=s(3655).b,d=s(5405).V1,u=s(5405).vB,p=s(2083).V1,m=s(2083).vB,g=s(1197).x,f=s(5722).X,y=s(8770).b,w=s(2364),x=s(4227).K,v=s(6483);r.importCssString(w,"ace_editor.css",!1);class b{constructor(e,t){var s=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new h(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.on("scroll",(function(e){s.$scrollAnimation||s.session.setScrollTop(e.data-s.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){s.$scrollAnimation||s.session.setScrollLeft(e.data-s.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){s.updateCharacterSize(),s.onResize(!0,s.gutterWidth,s.$size.width,s.$size.height),s._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!v.isIOS,this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}updateCharacterSize(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")}setSession(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))}updateLines(e,t,s){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!s)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)}onChangeNewLineMode(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)}onChangeTabSize(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()}updateText(){this.$loop.schedule(this.CHANGE_TEXT)}updateFull(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)}updateFontSize(){this.$textLayer.checkForSizeChanges()}$updateSizeAsync(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()}onResize(e,t,s,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),s||(s=r.clientWidth||r.scrollWidth);var n=this.$updateCachedSize(e,t,s,i);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!s&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(n|this.$changes,!0):this.$loop.schedule(n|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}}$updateCachedSize(e,t,s,i){i-=this.$extraHeight||0;var n=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if(i&&(e||o.height!=i)&&(o.height=i,n|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",n|=this.CHANGE_SCROLL),s&&(e||o.width!=s)){n|=this.CHANGE_SIZE,o.width=s,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,s-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(n|=this.CHANGE_FULL)}return o.$dirty=!s||!i,n&&this._signal("resize",a),n}onGutterResize(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()}adjustWrapLimit(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)}setAnimatedScroll(e){this.setOption("animatedScroll",e)}getAnimatedScroll(){return this.$animatedScroll}setShowInvisibles(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)}getShowInvisibles(){return this.getOption("showInvisibles")}getDisplayIndentGuides(){return this.getOption("displayIndentGuides")}setDisplayIndentGuides(e){this.setOption("displayIndentGuides",e)}getHighlightIndentGuides(){return this.getOption("highlightIndentGuides")}setHighlightIndentGuides(e){this.setOption("highlightIndentGuides",e)}setShowPrintMargin(e){this.setOption("showPrintMargin",e)}getShowPrintMargin(){return this.getOption("showPrintMargin")}setPrintMarginColumn(e){this.setOption("printMarginColumn",e)}getPrintMarginColumn(){return this.getOption("printMarginColumn")}getShowGutter(){return this.getOption("showGutter")}setShowGutter(e){return this.setOption("showGutter",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}$updatePrintMargin(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}}getContainerElement(){return this.container}getMouseEventTarget(){return this.scroller}getTextAreaContainer(){return this.container}$moveTextAreaToCursor(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var s=this.$cursorLayer.$pixelPos;if(s){t&&t.markerRange&&(s=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,n=s.top,o=s.left;n-=i.offset;var a=t&&t.useTextareaForIME||v.isMobile?this.lineHeight:1;if(n<0||n>i.height-a)r.translate(this.textarea,0,0);else{var l=1,h=this.$size.height-a;if(t)if(t.useTextareaForIME){var c=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(c)[0]}else n+=this.lineHeight+2;else n+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(n,h))}}}else r.translate(this.textarea,-100,0)}}getFirstVisibleRow(){return this.layerConfig.firstRow}getFirstFullyVisibleRow(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)}getLastFullyVisibleRow(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t}getLastVisibleRow(){return this.layerConfig.lastRow}setPadding(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()}setScrollMargin(e,t,s,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|s,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()}setMargin(e,t,s,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|s,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()}getHScrollBarAlwaysVisible(){return this.$hScrollBarAlwaysVisible}setHScrollBarAlwaysVisible(e){this.setOption("hScrollBarAlwaysVisible",e)}getVScrollBarAlwaysVisible(){return this.$vScrollBarAlwaysVisible}setVScrollBarAlwaysVisible(e){this.setOption("vScrollBarAlwaysVisible",e)}$updateScrollBarV(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)}$updateScrollBarH(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)}freeze(){this.$frozen=!0}unfreeze(){this.$frozen=!1}$renderChanges(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var s=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),s.firstRow!=this.layerConfig.firstRow&&s.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(s.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}s=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-s.offset);var n=s.width+2*this.$padding+"px",o=s.minHeight+"px";r.setStyle(this.content.style,"width",n),r.setStyle(this.content.style,"height",o)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-s.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(s):this.$textLayer.scrollLines(s),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(s):this.$gutterLayer.scrollLines(s)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(s),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(s),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(s),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(s)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(s),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(s),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(s),this._signal("afterRender",e)}else this.$changes|=e}$autosize(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,s=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(s+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&s>this.$maxPixelHeight&&(s=this.$maxPixelHeight);var i=!(s<=2*this.lineHeight)&&e>t;if(s!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=s+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,s),this.desiredHeight=s,this._signal("autosize")}}$computeLayerConfig(){var e=this.session,t=this.$size,s=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),n=!s&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==n;o&&(this.$horizScroll=n,this.scrollBarH.setVisible(n));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=h;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,i-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+c.right)));var d=!s&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+h<0||this.scrollTop>c.top),u=a!==d;u&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,m,g=this.scrollTop%this.lineHeight,f=Math.ceil(l/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),w=y+f,x=this.lineHeight;y=e.screenToDocumentRow(y,0);var v=e.getFoldLine(y);v&&(y=v.start.row),p=e.documentToScreenRow(y,0),m=e.getRowLength(y)*x,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(w)*x+m,g=this.scrollTop-p*x;var b=0;return(this.layerConfig.width!=r||o)&&(b=this.CHANGE_H_SCROLL),(o||u)&&(b|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),u&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:y,firstRowScreen:p,lastRow:w,lineHeight:x,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:x?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/x)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),b}$updateLines(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var s=this.layerConfig;if(!(e>s.lastRow+1||t<s.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(s),void this.$textLayer.update(s)):(this.$textLayer.updateLines(s,e,t),!0)}}$getLongestLine(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))}updateFrontMarkers(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)}updateBackMarkers(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)}addGutterDecoration(e,t){this.$gutterLayer.addGutterDecoration(e,t)}removeGutterDecoration(e,t){this.$gutterLayer.removeGutterDecoration(e,t)}updateBreakpoints(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)}setAnnotations(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)}updateCursor(){this.$loop.schedule(this.CHANGE_CURSOR)}hideCursor(){this.$cursorLayer.hideCursor()}showCursor(){this.$cursorLayer.showCursor()}scrollSelectionIntoView(e,t,s){this.scrollCursorIntoView(e,s),this.scrollCursorIntoView(t,s)}scrollCursorIntoView(e,t,s){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,n=i.top,o=s&&s.top||0,a=s&&s.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>n?(t&&l+o>n+this.lineHeight&&(n-=t*this.$size.scrollerHeight),0===n&&(n=-this.scrollMargin.top),this.session.setScrollTop(n)):l+this.$size.scrollerHeight-a<n+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<n-this.lineHeight&&(n+=t*this.$size.scrollerHeight),this.session.setScrollTop(n+this.lineHeight+a-this.$size.scrollerHeight));var h=this.scrollLeft,c=2*this.layerConfig.characterWidth;r-c<h?((r-=c)<this.$padding+c&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):(r+=c,h+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&r-h<this.characterWidth&&this.session.setScrollLeft(0))}}getScrollTop(){return this.session.getScrollTop()}getScrollLeft(){return this.session.getScrollLeft()}getScrollTopRow(){return this.scrollTop/this.lineHeight}getScrollBottomRow(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)}scrollToRow(e){this.session.setScrollTop(e*this.lineHeight)}alignCursor(e,t){"number"==typeof e&&(e={row:e,column:0});var s=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=s.top-i*(t||0);return this.session.setScrollTop(r),r}$calcSteps(e,t){var s,i,r=0,n=this.STEPS,o=[];for(r=0;r<n;++r)o.push((s=r/this.STEPS,i=e,(t-e)*(Math.pow(s-1,3)+1)+i));return o}scrollToLine(e,t,s,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var n=this.scrollTop;this.session.setScrollTop(r),!1!==s&&this.animateScrolling(n,i)}animateScrolling(e,t){var s=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=s){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==s)return}var n=i.$calcSteps(e,s);this.$scrollAnimation={from:e,to:s,steps:n},clearInterval(this.$timer),i.session.setScrollTop(n.shift()),i.session.$scrollTop=s,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(n.length?(i.session.setScrollTop(n.shift()),i.session.$scrollTop=s):null!=s?(i.session.$scrollTop=-1,i.session.setScrollTop(s),s=null):o()):clearInterval(i.$timer);o()}),10)}}function o(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}}scrollToY(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)}scrollToX(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)}scrollTo(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)}scrollBy(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)}isScrollableBy(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0}pixelToScreenCoordinates(e,t){var s;if(this.$hasCssTransforms){s={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else s=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-s.left-this.$padding,n=r/this.characterWidth,o=Math.floor((t+this.scrollTop-s.top)/this.lineHeight),a=this.$blockCursor?Math.floor(n):Math.round(n);return{row:o,column:a,side:n-a>0?1:-1,offsetX:r}}screenToTextCoordinates(e,t){var s;if(this.$hasCssTransforms){s={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else s=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-s.left-this.$padding,n=r/this.characterWidth,o=this.$blockCursor?Math.floor(n):Math.round(n),a=Math.floor((t+this.scrollTop-s.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),r)}textToScreenCoordinates(e,t){var s=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),n=i.row*this.lineHeight;return{pageX:s.left+r-this.scrollLeft,pageY:s.top+n-this.scrollTop}}visualizeFocus(){r.addCssClass(this.container,"ace_focus")}visualizeBlur(){r.removeCssClass(this.container,"ace_focus")}showComposition(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")}setCompositionText(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()}hideComposition(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}}setGhostText(e,t){var s=this.session.selection.cursor,i=t||{row:s.row,column:s.column};this.removeGhostText();var r=this.$calculateWrappedTextChunks(e,i);if(this.addToken(r[0].text,"ghost_text",i.row,i.column),this.$ghostText={text:e,position:{row:i.row,column:i.column}},r.length>1){var n=r.slice(1).map((e=>`<div${e.wrapped?' class="ghost_text_line_wrapped"':""}>${e.text}</div>`));this.$ghostTextWidget={html:n.join(""),row:i.row,column:i.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var o=this.$cursorLayer.getPixelPosition(i,!0),a=this.container.getBoundingClientRect().height,l=r.length*this.lineHeight;if(l<a-o.top)return;l<a?this.scrollBy(0,(r.length-1)*this.lineHeight):this.scrollToRow(i.row)}}$calculateWrappedTextChunks(e,t){var s=this.$size.scrollerWidth-2*this.$padding,i=Math.floor(s/this.characterWidth)-2;i=i<=0?60:i;for(var r=e.split(/\r?\n/),n=[],o=0;o<r.length;o++){var a=this.session.$getDisplayTokens(r[o],t.column),l=this.session.$computeWrapSplits(a,i,this.session.$tabSize);if(l.length>0){var h=0;l.push(r[o].length);for(var c=0;c<l.length;c++){let e=r[o].slice(h,l[c]);n.push({text:e,wrapped:!0}),h=l[c]}}else n.push({text:r[o],wrapped:!1})}return n}removeGhostText(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}}addToken(e,t,s,i){var r=this.session;r.bgTokenizer.lines[s]=null;var n={type:t,value:e},o=r.getTokens(s);if(null!=i&&o.length)for(var a=0,l=0;l<o.length;l++){var h=o[l];if(i<=(a+=h.value.length)){var c=h.value.length-(a-i),d=h.value.slice(0,c),u=h.value.slice(c);o.splice(l,1,{type:h.type,value:d},n,{type:h.type,value:u});break}}else o.push(n);this.updateLines(s,s)}removeExtraToken(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)}setTheme(e,t){var s=this;if(this.$themeId=e,s._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var i=e||this.$options.theme.initialValue;o.loadModule(["theme",i],n)}function n(i){if(s.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(s.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,s.container),s.theme&&r.removeCssClass(s.container,s.theme.cssClass);var n="padding"in i?i.padding:"padding"in(s.theme||{})?4:s.$padding;s.$padding&&n!=s.$padding&&s.setPadding(n),s.$theme=i.cssClass,s.theme=i,r.addCssClass(s.container,i.cssClass),r.setCssClass(s.container,"ace_dark",i.isDark),s.$size&&(s.$size.width=0,s.$updateSizeAsync()),s._dispatchEvent("themeLoaded",{theme:i}),t&&t()}}getTheme(){return this.$themeId}setStyle(e,t){r.setCssClass(this.container,e,!1!==t)}unsetStyle(e){r.removeCssClass(this.container,e)}setCursorStyle(e){r.setStyle(this.scroller.style,"cursor",e)}setMouseCursor(e){r.setStyle(this.scroller.style,"cursor",e)}attachToShadowRoot(){r.importCssString(w,"ace_editor.css",this.container)}destroy(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)}$updateCustomScrollbar(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new m(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new x(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new u(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}$addResizeObserver(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=n.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var s=t[0].contentRect.width,i=t[0].contentRect.height;Math.abs(e.$size.width-s)>1||Math.abs(e.$size.height-i)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}}}b.prototype.CHANGE_CURSOR=1,b.prototype.CHANGE_MARKER=2,b.prototype.CHANGE_GUTTER=4,b.prototype.CHANGE_SCROLL=8,b.prototype.CHANGE_LINES=16,b.prototype.CHANGE_TEXT=32,b.prototype.CHANGE_SIZE=64,b.prototype.CHANGE_MARKER_BACK=128,b.prototype.CHANGE_MARKER_FRONT=256,b.prototype.CHANGE_FULL=512,b.prototype.CHANGE_H_SCROLL=1024,b.prototype.$changes=0,b.prototype.$padding=null,b.prototype.$frozen=!1,b.prototype.STEPS=8,i.implement(b.prototype,y),o.defineOptions(b.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!v.isMobile&&!v.isIE}}),t.t=b},6862:(e,t)=>{var s;s=function(){this.attachToDocument=function(){},this.on=function(){},this.terminate=function(){}},t.WorkerClient=s},602:(e,t)=>{"use strict";function s(e,t){if(null==e)return{};var s,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)s=n[i],t.indexOf(s)>=0||(r[s]=e[s]);return r}class i{constructor(e,t,s){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=s}}class r{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function n(e,t){const{line:s,column:r,index:n}=e;return new i(s,r+t,n+t)}const o="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var a={ImportMetaOutsideModule:{message:"import.meta may appear only with 'sourceType: \"module\"'",code:o},ImportOutsideModule:{message:"'import' and 'export' may appear only with 'sourceType: \"module\"'",code:o}};const l={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},h=e=>"UpdateExpression"===e.type?l.UpdateExpression[`${e.prefix}`]:l[e.type];var c={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:t})=>`A string literal cannot be used as an exported binding without \`from\`.\n- Did you mean \`export { '${e}' as '${t}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${"ForInStatement"===e?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${"BreakStatement"===e?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.\n- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:e})=>`\`import()\` requires exactly ${1===e?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${h(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${h(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${h(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map((e=>JSON.stringify(e))).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map((e=>JSON.stringify(e))).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:t})=>`Unexpected token${t?` '${t}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:t})=>`The only valid meta property for ${e} is ${e}.${t}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."};const d=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var u={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${h({type:e})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'};const p=["toMessage"],m=["message"];function g(e,t,s){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:s})}function f(e){let{toMessage:t}=e,r=s(e,p);return function e(s,n){const o=new SyntaxError;return Object.assign(o,r,{loc:s,pos:s.index}),"missingPlugin"in n&&Object.assign(o,{missingPlugin:n.missingPlugin}),g(o,"clone",(function(t={}){var r;const{line:o,column:a,index:l}=null!=(r=t.loc)?r:s;return e(new i(o,a,l),Object.assign({},n,t.details))})),g(o,"details",n),Object.defineProperty(o,"message",{configurable:!0,get(){const e=`${t(n)} (${s.line}:${s.column})`;return this.message=e,e},set(e){Object.defineProperty(this,"message",{value:e,writable:!0})}}),o}}function y(e,t){if(Array.isArray(e))return t=>y(t,e[0]);const i={};for(const r of Object.keys(e)){const n=e[r],o="string"==typeof n?{message:()=>n}:"function"==typeof n?{message:n}:n,{message:a}=o,l=s(o,m),h="string"==typeof a?()=>a:a;i[r]=f(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:r,toMessage:h},t?{syntaxPlugin:t}:{},l))}return i}const w=Object.assign({},y(a),y(c),y({StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."}),y`pipelineOperator`(u)),{defineProperty:x}=Object,v=(e,t)=>x(e,t,{enumerable:!1,value:e[t]});function b(e){return e.loc.start&&v(e.loc.start,"index"),e.loc.end&&v(e.loc.end,"index"),e}class C{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const A={brace:new C("{"),j_oTag:new C("<tag"),j_cTag:new C("</tag"),j_expr:new C("<tag>...</tag>",!0)};A.template=new C("`",!0);const S=!0,T=!0,k=!0,E=!0,$=!0;class P{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null}}const L=new Map;function I(e,t={}){t.keyword=e;const s=W(e,t);return L.set(e,s),s}function M(e,t){return W(e,{beforeExpr:S,binop:t})}let N=-1;const R=[],D=[],O=[],F=[],_=[],B=[];function W(e,t={}){var s,i,r,n;return++N,D.push(e),O.push(null!=(s=t.binop)?s:-1),F.push(null!=(i=t.beforeExpr)&&i),_.push(null!=(r=t.startsExpr)&&r),B.push(null!=(n=t.prefix)&&n),R.push(new P(e,t)),N}function H(e,t={}){var s,i,r,n;return++N,L.set(e,N),D.push(e),O.push(null!=(s=t.binop)?s:-1),F.push(null!=(i=t.beforeExpr)&&i),_.push(null!=(r=t.startsExpr)&&r),B.push(null!=(n=t.prefix)&&n),R.push(new P("name",t)),N}const U={bracketL:W("[",{beforeExpr:S,startsExpr:T}),bracketHashL:W("#[",{beforeExpr:S,startsExpr:T}),bracketBarL:W("[|",{beforeExpr:S,startsExpr:T}),bracketR:W("]"),bracketBarR:W("|]"),braceL:W("{",{beforeExpr:S,startsExpr:T}),braceBarL:W("{|",{beforeExpr:S,startsExpr:T}),braceHashL:W("#{",{beforeExpr:S,startsExpr:T}),braceR:W("}"),braceBarR:W("|}"),parenL:W("(",{beforeExpr:S,startsExpr:T}),parenR:W(")"),comma:W(",",{beforeExpr:S}),semi:W(";",{beforeExpr:S}),colon:W(":",{beforeExpr:S}),doubleColon:W("::",{beforeExpr:S}),dot:W("."),question:W("?",{beforeExpr:S}),questionDot:W("?."),arrow:W("=>",{beforeExpr:S}),template:W("template"),ellipsis:W("...",{beforeExpr:S}),backQuote:W("`",{startsExpr:T}),dollarBraceL:W("${",{beforeExpr:S,startsExpr:T}),templateTail:W("...`",{startsExpr:T}),templateNonTail:W("...${",{beforeExpr:S,startsExpr:T}),at:W("@"),hash:W("#",{startsExpr:T}),interpreterDirective:W("#!..."),eq:W("=",{beforeExpr:S,isAssign:E}),assign:W("_=",{beforeExpr:S,isAssign:E}),slashAssign:W("_=",{beforeExpr:S,isAssign:E}),xorAssign:W("_=",{beforeExpr:S,isAssign:E}),moduloAssign:W("_=",{beforeExpr:S,isAssign:E}),incDec:W("++/--",{prefix:$,postfix:!0,startsExpr:T}),bang:W("!",{beforeExpr:S,prefix:$,startsExpr:T}),tilde:W("~",{beforeExpr:S,prefix:$,startsExpr:T}),doubleCaret:W("^^",{startsExpr:T}),doubleAt:W("@@",{startsExpr:T}),pipeline:M("|>",0),nullishCoalescing:M("??",1),logicalOR:M("||",1),logicalAND:M("&&",2),bitwiseOR:M("|",3),bitwiseXOR:M("^",4),bitwiseAND:M("&",5),equality:M("==/!=/===/!==",6),lt:M("</>/<=/>=",7),gt:M("</>/<=/>=",7),relational:M("</>/<=/>=",7),bitShift:M("<</>>/>>>",8),bitShiftL:M("<</>>/>>>",8),bitShiftR:M("<</>>/>>>",8),plusMin:W("+/-",{beforeExpr:S,binop:9,prefix:$,startsExpr:T}),modulo:W("%",{binop:10,startsExpr:T}),star:W("*",{binop:10}),slash:M("/",10),exponent:W("**",{beforeExpr:S,binop:11,rightAssociative:!0}),_in:I("in",{beforeExpr:S,binop:7}),_instanceof:I("instanceof",{beforeExpr:S,binop:7}),_break:I("break"),_case:I("case",{beforeExpr:S}),_catch:I("catch"),_continue:I("continue"),_debugger:I("debugger"),_default:I("default",{beforeExpr:S}),_else:I("else",{beforeExpr:S}),_finally:I("finally"),_function:I("function",{startsExpr:T}),_if:I("if"),_return:I("return",{beforeExpr:S}),_switch:I("switch"),_throw:I("throw",{beforeExpr:S,prefix:$,startsExpr:T}),_try:I("try"),_var:I("var"),_const:I("const"),_with:I("with"),_new:I("new",{beforeExpr:S,startsExpr:T}),_this:I("this",{startsExpr:T}),_super:I("super",{startsExpr:T}),_class:I("class",{startsExpr:T}),_extends:I("extends",{beforeExpr:S}),_export:I("export"),_import:I("import",{startsExpr:T}),_null:I("null",{startsExpr:T}),_true:I("true",{startsExpr:T}),_false:I("false",{startsExpr:T}),_typeof:I("typeof",{beforeExpr:S,prefix:$,startsExpr:T}),_void:I("void",{beforeExpr:S,prefix:$,startsExpr:T}),_delete:I("delete",{beforeExpr:S,prefix:$,startsExpr:T}),_do:I("do",{isLoop:k,beforeExpr:S}),_for:I("for",{isLoop:k}),_while:I("while",{isLoop:k}),_as:H("as",{startsExpr:T}),_assert:H("assert",{startsExpr:T}),_async:H("async",{startsExpr:T}),_await:H("await",{startsExpr:T}),_defer:H("defer",{startsExpr:T}),_from:H("from",{startsExpr:T}),_get:H("get",{startsExpr:T}),_let:H("let",{startsExpr:T}),_meta:H("meta",{startsExpr:T}),_of:H("of",{startsExpr:T}),_sent:H("sent",{startsExpr:T}),_set:H("set",{startsExpr:T}),_source:H("source",{startsExpr:T}),_static:H("static",{startsExpr:T}),_using:H("using",{startsExpr:T}),_yield:H("yield",{startsExpr:T}),_asserts:H("asserts",{startsExpr:T}),_checks:H("checks",{startsExpr:T}),_exports:H("exports",{startsExpr:T}),_global:H("global",{startsExpr:T}),_implements:H("implements",{startsExpr:T}),_intrinsic:H("intrinsic",{startsExpr:T}),_infer:H("infer",{startsExpr:T}),_is:H("is",{startsExpr:T}),_mixins:H("mixins",{startsExpr:T}),_proto:H("proto",{startsExpr:T}),_require:H("require",{startsExpr:T}),_satisfies:H("satisfies",{startsExpr:T}),_keyof:H("keyof",{startsExpr:T}),_readonly:H("readonly",{startsExpr:T}),_unique:H("unique",{startsExpr:T}),_abstract:H("abstract",{startsExpr:T}),_declare:H("declare",{startsExpr:T}),_enum:H("enum",{startsExpr:T}),_module:H("module",{startsExpr:T}),_namespace:H("namespace",{startsExpr:T}),_interface:H("interface",{startsExpr:T}),_type:H("type",{startsExpr:T}),_opaque:H("opaque",{startsExpr:T}),name:W("name",{startsExpr:T}),string:W("string",{startsExpr:T}),num:W("num",{startsExpr:T}),bigint:W("bigint",{startsExpr:T}),decimal:W("decimal",{startsExpr:T}),regexp:W("regexp",{startsExpr:T}),privateName:W("#name",{startsExpr:T}),eof:W("eof"),jsxName:W("jsxName"),jsxText:W("jsxText",{beforeExpr:!0}),jsxTagStart:W("jsxTagStart",{startsExpr:!0}),jsxTagEnd:W("jsxTagEnd"),placeholder:W("%%",{startsExpr:!0})};function z(e){return e>=93&&e<=132}function j(e){return e>=58&&e<=132}function V(e){return e>=58&&e<=136}function K(e){return _[e]}function G(e){return e>=129&&e<=131}function Y(e){return e>=58&&e<=92}function q(e){return D[e]}function X(e){return O[e]}function Q(e){return e>=24&&e<=25}function J(e){return R[e]}R[8].updateContext=e=>{e.pop()},R[5].updateContext=R[7].updateContext=R[23].updateContext=e=>{e.push(A.brace)},R[22].updateContext=e=>{e[e.length-1]===A.template?e.pop():e.push(A.template)},R[142].updateContext=e=>{e.push(A.j_expr,A.j_oTag)};let Z="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ee="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･";const te=new RegExp("["+Z+"]"),se=new RegExp("["+Z+ee+"]");Z=ee=null;const ie=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],re=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function ne(e,t){let s=65536;for(let i=0,r=t.length;i<r;i+=2){if(s+=t[i],s>e)return!1;if(s+=t[i+1],s>=e)return!0}return!1}function oe(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&te.test(String.fromCharCode(e)):ne(e,ie)))}function ae(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&se.test(String.fromCharCode(e)):ne(e,ie)||ne(e,re))))}const le=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),he=new Set(["implements","interface","let","package","private","protected","public","static","yield"]),ce=new Set(["eval","arguments"]);function de(e,t){return t&&"await"===e||"enum"===e}function ue(e,t){return de(e,t)||he.has(e)}function pe(e){return ce.has(e)}function me(e,t){return ue(e,t)||pe(e)}const ge=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);class fe{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class ye{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(1&this.currentScope().flags)>0}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(64&e)>0&&!(2&e)}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(128&t)return!0;if(451&t)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new fe(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(130&e.flags||!this.parser.inModule&&1&e.flags)}declareName(e,t,s){let i=this.currentScope();if(8&t||16&t){this.checkRedeclarationInScope(i,e,t,s);let r=i.names.get(e)||0;16&t?r|=4:(i.firstLexicalName||(i.firstLexicalName=e),r|=2),i.names.set(e,r),8&t&&this.maybeExportDefined(i,e)}else if(4&t)for(let r=this.scopeStack.length-1;r>=0&&(i=this.scopeStack[r],this.checkRedeclarationInScope(i,e,t,s),i.names.set(e,1|(i.names.get(e)||0)),this.maybeExportDefined(i,e),!(387&i.flags));--r);this.parser.inModule&&1&i.flags&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&1&e.flags&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,s,i){this.isRedeclaredInScope(e,t,s)&&this.parser.raise(w.VarRedeclaration,i,{identifierName:t})}isRedeclaredInScope(e,t,s){if(!(1&s))return!1;if(8&s)return e.names.has(t);const i=e.names.get(t);return 16&s?(2&i)>0||!this.treatFunctionsAsVarInScope(e)&&(1&i)>0:(2&i)>0&&!(8&e.flags&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(4&i)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(387&t)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(451&t&&!(4&t))return t}}}class we extends fe{constructor(...e){super(...e),this.declareFunctions=new Set}}class xe extends ye{createScope(e){return new we(e)}declareName(e,t,s){const i=this.currentScope();if(2048&t)return this.checkRedeclarationInScope(i,e,t,s),this.maybeExportDefined(i,e),void i.declareFunctions.add(e);super.declareName(e,t,s)}isRedeclaredInScope(e,t,s){if(super.isRedeclaredInScope(e,t,s))return!0;if(2048&s&&!e.declareFunctions.has(t)){const s=e.names.get(t);return(4&s)>0||(2&s)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}class ve{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(e){if("string"==typeof e)return this.plugins.has(e);{const[t,s]=e;if(!this.hasPlugin(t))return!1;const i=this.plugins.get(t);for(const e of Object.keys(s))if((null==i?void 0:i[e])!==s[e])return!1;return!0}}getPluginOption(e,t){var s;return null==(s=this.plugins.get(e))?void 0:s[t]}}function be(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t)}function Ce(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t)}function Ae(e,t,s){let i=null,r=t.length;for(;null===i&&r>0;)i=t[--r];null===i||i.start>s.start?Ce(e,s.comments):be(i,s.comments)}class Se extends ve{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,s=t.length;if(0===s)return;let i=s-1;const r=t[i];r.start===e.end&&(r.leadingNode=e,i--);const{start:n}=e;for(;i>=0;i--){const s=t[i],r=s.end;if(!(r>n)){r===n&&(s.trailingNode=e);break}s.containingNode=e,this.finalizeComment(s),t.splice(i,1)}}finalizeComment(e){const{comments:t}=e;if(null!==e.leadingNode||null!==e.trailingNode)null!==e.leadingNode&&be(e.leadingNode,t),null!==e.trailingNode&&function(e,t){void 0===e.leadingComments?e.leadingComments=t:e.leadingComments.unshift(...t)}(e.trailingNode,t);else{const{containingNode:s,start:i}=e;if(44===this.input.charCodeAt(i-1))switch(s.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Ae(s,s.properties,e);break;case"CallExpression":case"OptionalCallExpression":Ae(s,s.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Ae(s,s.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Ae(s,s.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":Ae(s,s.specifiers,e);break;default:Ce(s,t)}else Ce(s,t)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:s}=t;if(0===s)return;const i=t[s-1];i.leadingNode===e&&(i.leadingNode=null)}resetPreviousIdentifierLeadingComments(e){const{commentStack:t}=this.state,{length:s}=t;0!==s&&(t[s-1].trailingNode===e?t[s-1].trailingNode=null:s>=2&&t[s-2].trailingNode===e&&(t[s-2].trailingNode=null))}takeSurroundingComments(e,t,s){const{commentStack:i}=this.state,r=i.length;if(0===r)return;let n=r-1;for(;n>=0;n--){const r=i[n],o=r.end;if(r.start===s)r.leadingNode=e;else if(o===t)r.trailingNode=e;else if(o<t)break}}}const Te=/\r\n?|[\n\u2028\u2029]/,ke=new RegExp(Te.source,"g");function Ee(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}const $e=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Pe=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g,Le=new RegExp("(?=("+Pe.source+"))\\1"+/(?=[\n\r\u2028\u2029]|\/\*(?!.*?\*\/)|$)/.source,"y");function Ie(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class Me{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[A.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(1&this.flags)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startLine:s,startColumn:r}){this.strict=!1!==e&&(!0===e||"module"===t),this.curLine=s,this.lineStart=-r,this.startLoc=this.endLoc=new i(s,r,0)}get maybeInArrowParameters(){return(2&this.flags)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(4&this.flags)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(8&this.flags)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(16&this.flags)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(32&this.flags)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(64&this.flags)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(128&this.flags)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(256&this.flags)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(512&this.flags)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(1024&this.flags)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(2048&this.flags)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}curPosition(){return new i(this.curLine,this.pos-this.lineStart,this.pos)}clone(){const e=new Me;return e.flags=this.flags,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var Ne=function(e){return e>=48&&e<=57};const Re={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},De={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function Oe(e,t,s,i,r,n){const o=s,a=i,l=r;let h="",c=null,d=s;const{length:u}=t;for(;;){if(s>=u){n.unterminated(o,a,l),h+=t.slice(d,s);break}const p=t.charCodeAt(s);if(Fe(e,p,t,s)){h+=t.slice(d,s);break}if(92===p){h+=t.slice(d,s);const o=_e(t,s,i,r,"template"===e,n);null!==o.ch||c?h+=o.ch:c={pos:s,lineStart:i,curLine:r},({pos:s,lineStart:i,curLine:r}=o),d=s}else 8232===p||8233===p?(++r,i=++s):10===p||13===p?"template"===e?(h+=t.slice(d,s)+"\n",++s,13===p&&10===t.charCodeAt(s)&&++s,++r,d=i=s):n.unterminated(o,a,l):++s}return{pos:s,str:h,firstInvalidLoc:c,lineStart:i,curLine:r,containsInvalid:!!c}}function Fe(e,t,s,i){return"template"===e?96===t||36===t&&123===s.charCodeAt(i+1):t===("double"===e?34:39)}function _e(e,t,s,i,r,n){const o=!r;t++;const a=e=>({pos:t,ch:e,lineStart:s,curLine:i}),l=e.charCodeAt(t++);switch(l){case 110:return a("\n");case 114:return a("\r");case 120:{let r;return({code:r,pos:t}=Be(e,t,s,i,2,!1,o,n)),a(null===r?null:String.fromCharCode(r))}case 117:{let r;return({code:r,pos:t}=He(e,t,s,i,o,n)),a(null===r?null:String.fromCodePoint(r))}case 116:return a("\t");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:s=t,++i;case 8232:case 8233:return a("");case 56:case 57:if(r)return a(null);n.strictNumericEscape(t-1,s,i);default:if(l>=48&&l<=55){const o=t-1;let l=e.slice(o,t+2).match(/^[0-7]+/)[0],h=parseInt(l,8);h>255&&(l=l.slice(0,-1),h=parseInt(l,8)),t+=l.length-1;const c=e.charCodeAt(t);if("0"!==l||56===c||57===c){if(r)return a(null);n.strictNumericEscape(o,s,i)}return a(String.fromCharCode(h))}return a(String.fromCharCode(l))}}function Be(e,t,s,i,r,n,o,a){const l=t;let h;return({n:h,pos:t}=We(e,t,s,i,16,r,n,!1,a,!o)),null===h&&(o?a.invalidEscapeSequence(l,s,i):t=l-1),{code:h,pos:t}}function We(e,t,s,i,r,n,o,a,l,h){const c=t,d=16===r?Re.hex:Re.decBinOct,u=16===r?De.hex:10===r?De.dec:8===r?De.oct:De.bin;let p=!1,m=0;for(let c=0,g=null==n?1/0:n;c<g;++c){const n=e.charCodeAt(t);let c;if(95!==n||"bail"===a){if(c=n>=97?n-97+10:n>=65?n-65+10:Ne(n)?n-48:1/0,c>=r){if(c<=9&&h)return{n:null,pos:t};if(c<=9&&l.invalidDigit(t,s,i,r))c=0;else{if(!o)break;c=0,p=!0}}++t,m=m*r+c}else{const r=e.charCodeAt(t-1),n=e.charCodeAt(t+1);if(a){if(Number.isNaN(n)||!u(n)||d.has(r)||d.has(n)){if(h)return{n:null,pos:t};l.unexpectedNumericSeparator(t,s,i)}}else{if(h)return{n:null,pos:t};l.numericSeparatorInEscapeSequence(t,s,i)}++t}}return t===c||null!=n&&t-c!==n||p?{n:null,pos:t}:{n:m,pos:t}}function He(e,t,s,i,r,n){let o;if(123===e.charCodeAt(t)){if(++t,({code:o,pos:t}=Be(e,t,s,i,e.indexOf("}",t)-t,!0,r,n)),++t,null!==o&&o>1114111){if(!r)return{code:null,pos:t};n.invalidCodePoint(t,s,i)}}else({code:o,pos:t}=Be(e,t,s,i,4,!1,r,n));return{code:o,pos:t}}function Ue(e,t,s){return new i(s,e-t,e)}const ze=new Set([103,109,115,105,121,117,100,118]);class je{constructor(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,this.loc=new r(e.startLoc,e.endLoc)}}class Ve extends Se{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(e,t,s,i)=>!!this.options.errorRecovery&&(this.raise(w.InvalidDigit,Ue(e,t,s),{radix:i}),!0),numericSeparatorInEscapeSequence:this.errorBuilder(w.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(w.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(w.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(w.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(e,t,s)=>{this.recordStrictModeErrors(w.StrictNumericEscape,Ue(e,t,s))},unterminated:(e,t,s)=>{throw this.raise(w.UnterminatedString,Ue(e-1,t,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(w.StrictNumericEscape),unterminated:(e,t,s)=>{throw this.raise(w.UnterminatedTemplate,Ue(e,t,s))}}),this.state=new Me,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new je(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return!!this.match(e)&&(this.next(),!0)}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return $e.lastIndex=e,$e.test(this.input)?$e.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return Pe.lastIndex=e,Pe.test(this.input)?Pe.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if(55296==(64512&t)&&++e<this.input.length){const s=this.input.charCodeAt(e);56320==(64512&s)&&(t=65536+((1023&t)<<10)+(1023&s))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach((([e,t])=>this.raise(e,t))),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length?this.finishToken(139):this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const s=this.state.pos,i=this.input.indexOf(e,s+2);if(-1===i)throw this.raise(w.UnterminatedComment,this.state.curPosition());for(this.state.pos=i+e.length,ke.lastIndex=s+2;ke.test(this.input)&&ke.lastIndex<=i;)++this.state.curLine,this.state.lineStart=ke.lastIndex;if(this.isLookahead)return;const n={type:"CommentBlock",value:this.input.slice(s+2,i),start:s,end:i+e.length,loc:new r(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(n),n}skipLineComment(e){const t=this.state.pos;let s;this.isLookahead||(s=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Ee(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const n=this.state.pos,o={type:"CommentLine",value:this.input.slice(t+e,n),start:t,end:n,loc:new r(s,this.state.curPosition())};return this.options.tokens&&this.pushToken(o),o}skipSpace(){const e=this.state.pos,t=[];e:for(;this.state.pos<this.length;){const s=this.input.charCodeAt(this.state.pos);switch(s){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const e=this.skipBlockComment("*/");void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}case 47:{const e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}default:break e}break;default:if(Ie(s))++this.state.pos;else if(45===s&&!this.inModule&&this.options.annexB){const s=this.state.pos;if(45!==this.input.charCodeAt(s+1)||62!==this.input.charCodeAt(s+2)||!(0===e||this.state.lineStart>e))break e;{const e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}else{if(60!==s||this.inModule||!this.options.annexB)break e;{const e=this.state.pos;if(33!==this.input.charCodeAt(e+1)||45!==this.input.charCodeAt(e+2)||45!==this.input.charCodeAt(e+3))break e;{const e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}}}}if(t.length>0){const s={start:e,end:this.state.pos,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(s)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const s=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(s)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(w.UnexpectedDigitAfterHash,this.state.curPosition());if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"bar"===this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(123===t?w.RecordExpressionHashIncorrectStartSyntaxType:w.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1)}else oe(t)?(++this.state.pos,this.finishToken(138,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;const t=this.state.pos;for(this.state.pos+=1;!Ee(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const s=this.input.slice(t+2,this.state.pos);return this.finishToken(28,s),!0}readToken_mult_modulo(e){let t=42===e?55:54,s=1,i=this.input.charCodeAt(this.state.pos+1);42===e&&42===i&&(s++,i=this.input.charCodeAt(this.state.pos+2),t=57),61!==i||this.state.inType||(s++,t=37===e?33:30),this.finishOp(t,s)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(39,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(w.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(9)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(w.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(4)}}61!==t?this.finishOp(124===e?43:45,1):this.finishOp(30,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(30,3):this.finishOp(124===e?41:42,2)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);61!==e||this.state.inType?94===e&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),94===this.input.codePointAt(this.state.pos)&&this.unexpected()):this.finishOp(44,1):this.finishOp(32,2)}readToken_atSign(){64===this.input.charCodeAt(this.state.pos+1)&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);t!==e?61===t?this.finishOp(30,2):this.finishOp(53,1):this.finishOp(34,2)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t)return 61===this.input.charCodeAt(e+2)?void this.finishOp(30,3):void this.finishOp(51,2);61!==t?this.finishOp(47,1):this.finishOp(49,2)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){const t=62===this.input.charCodeAt(e+2)?3:2;return 61===this.input.charCodeAt(e+t)?void this.finishOp(30,t+1):void this.finishOp(52,t)}61!==t?this.finishOp(48,1):this.finishOp(49,2)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(19)):void this.finishOp(61===e?29:35,1);this.finishOp(46,61===this.input.charCodeAt(this.state.pos+2)?3:2)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(30,3):this.finishOp(40,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18))}getTokenFromCode(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(10);case 41:return++this.state.pos,void this.finishToken(11);case 59:return++this.state.pos,void this.finishToken(13);case 44:return++this.state.pos,void this.finishToken(12);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(w.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:return++this.state.pos,void this.finishToken(3);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(w.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:return++this.state.pos,void this.finishToken(8);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14)));case 63:return void this.readToken_question();case 96:return void this.readTemplateToken();case 48:{const e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:return void this.readToken_lt();case 62:return void this.readToken_gt();case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(36,1);case 64:return void this.readToken_atSign();case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(oe(e))return void this.readWord(e)}throw this.raise(w.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const s=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,s)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let s,i,{pos:r}=this.state;for(;;++r){if(r>=this.length)throw this.raise(w.UnterminatedRegExp,n(e,1));const t=this.input.charCodeAt(r);if(Ee(t))throw this.raise(w.UnterminatedRegExp,n(e,1));if(s)s=!1;else{if(91===t)i=!0;else if(93===t&&i)i=!1;else if(47===t&&!i)break;s=92===t}}const o=this.input.slice(t,r);++r;let a="";const l=()=>n(e,r+2-t);for(;r<this.length;){const e=this.codePointAtPos(r),t=String.fromCharCode(e);if(ze.has(e))118===e?a.includes("u")&&this.raise(w.IncompatibleRegExpUVFlags,l()):117===e&&a.includes("v")&&this.raise(w.IncompatibleRegExpUVFlags,l()),a.includes(t)&&this.raise(w.DuplicateRegExpFlags,l());else{if(!ae(e)&&92!==e)break;this.raise(w.MalformedRegExpFlags,l())}++r,a+=t}this.state.pos=r,this.finishToken(137,{pattern:o,flags:a})}readInt(e,t,s=!1,i=!0){const{n:r,pos:n}=We(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,s,i,this.errorHandlers_readInt,!1);return this.state.pos=n,r}readRadixNumber(e){const t=this.state.curPosition();let s=!1;this.state.pos+=2;const i=this.readInt(e);null==i&&this.raise(w.InvalidDigit,n(t,2),{radix:e});const r=this.input.charCodeAt(this.state.pos);if(110===r)++this.state.pos,s=!0;else if(109===r)throw this.raise(w.InvalidDecimal,t);if(oe(this.codePointAtPos(this.state.pos)))throw this.raise(w.NumberIdentifier,this.state.curPosition());if(s){const e=this.input.slice(t.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,e)}else this.finishToken(134,i)}readNumber(e){const t=this.state.pos,s=this.state.curPosition();let i=!1,r=!1,o=!1,a=!1,l=!1;e||null!==this.readInt(10)||this.raise(w.InvalidNumber,this.state.curPosition());const h=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(h){const e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(w.StrictOctalLiteral,s),!this.state.strict){const t=e.indexOf("_");t>0&&this.raise(w.ZeroDigitNumericSeparator,n(s,t))}l=h&&!/[89]/.test(e)}let c=this.input.charCodeAt(this.state.pos);if(46!==c||l||(++this.state.pos,this.readInt(10),i=!0,c=this.input.charCodeAt(this.state.pos)),69!==c&&101!==c||l||(c=this.input.charCodeAt(++this.state.pos),43!==c&&45!==c||++this.state.pos,null===this.readInt(10)&&this.raise(w.InvalidOrMissingExponent,s),i=!0,a=!0,c=this.input.charCodeAt(this.state.pos)),110===c&&((i||h)&&this.raise(w.InvalidBigIntLiteral,s),++this.state.pos,r=!0),109===c&&(this.expectPlugin("decimal",this.state.curPosition()),(a||h)&&this.raise(w.InvalidDecimal,s),++this.state.pos,o=!0),oe(this.codePointAtPos(this.state.pos)))throw this.raise(w.NumberIdentifier,this.state.curPosition());const d=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(r)return void this.finishToken(135,d);if(o)return void this.finishToken(136,d);const u=l?parseInt(d,8):parseFloat(d);this.finishToken(134,u)}readCodePoint(e){const{code:t,pos:s}=He(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=s,t}readString(e){const{str:t,pos:s,curLine:i,lineStart:r}=Oe(34===e?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=s+1,this.state.lineStart=r,this.state.curLine=i,this.finishToken(133,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:s,pos:r,curLine:n,lineStart:o}=Oe("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=r+1,this.state.lineStart=o,this.state.curLine=n,s&&(this.state.firstInvalidTemplateEscapePos=new i(s.curLine,s.pos-s.lineStart,s.pos)),96===this.input.codePointAt(r)?this.finishToken(24,s?null:e+t+"`"):(this.state.pos++,this.finishToken(25,s?null:e+t+"${"))}recordStrictModeErrors(e,t){const s=t.index;this.state.strict&&!this.state.strictErrors.has(s)?this.raise(e,t):this.state.strictErrors.set(s,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const s=this.state.pos;let i=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const e=this.codePointAtPos(this.state.pos);if(ae(e))this.state.pos+=e<=65535?1:2;else{if(92!==e)break;{this.state.containsEsc=!0,t+=this.input.slice(i,this.state.pos);const e=this.state.curPosition(),r=this.state.pos===s?oe:ae;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(w.MissingUnicodeEscape,this.state.curPosition()),i=this.state.pos-1;continue}++this.state.pos;const n=this.readCodePoint(!0);null!==n&&(r(n)||this.raise(w.EscapedCharNotAnIdentifier,e),t+=String.fromCodePoint(n)),i=this.state.pos}}}return t+this.input.slice(i,this.state.pos)}readWord(e){const t=this.readWord1(e),s=L.get(t);void 0!==s?this.finishToken(s,q(s)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;Y(e)&&this.state.containsEsc&&this.raise(w.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:q(e)})}raise(e,t,s={}){const r=e(t instanceof i?t:t.loc.start,s);if(!this.options.errorRecovery)throw r;return this.isLookahead||this.state.errors.push(r),r}raiseOverwrite(e,t,s={}){const r=t instanceof i?t:t.loc.start,n=r.index,o=this.state.errors;for(let t=o.length-1;t>=0;t--){const i=o[t];if(i.loc.index===n)return o[t]=e(r,s);if(i.loc.index<n)break}return this.raise(e,t,s)}updateContext(e){}unexpected(e,t){throw this.raise(w.UnexpectedToken,null!=e?e:this.state.startLoc,{expected:t?q(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(w.MissingPlugin,null!=t?t:this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some((e=>this.hasPlugin(e))))throw this.raise(w.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,s,i)=>{this.raise(e,Ue(t,s,i))}}}class Ke{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class Ge{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new Ke)}exit(){const e=this.stack.pop(),t=this.current();for(const[s,i]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(s)||t.undefinedPrivateNames.set(s,i):this.parser.raise(w.InvalidPrivateFieldResolution,i,{identifierName:s})}declarePrivateName(e,t,s){const{privateNames:i,loneAccessors:r,undefinedPrivateNames:n}=this.current();let o=i.has(e);if(3&t){const s=o&&r.get(e);s?(o=(3&s)==(3&t)||(4&s)!=(4&t),o||r.delete(e)):o||r.set(e,t)}o&&this.parser.raise(w.PrivateNameRedeclaration,s,{identifierName:e}),i.add(e),n.delete(e)}usePrivateName(e,t){let s;for(s of this.stack)if(s.privateNames.has(e))return;s?s.undefinedPrivateNames.set(e,t):this.parser.raise(w.InvalidPrivateFieldResolution,t,{identifierName:e})}}class Ye{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class qe extends Ye{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const s=t.index;this.declarationErrors.set(s,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class Xe{constructor(e){this.parser=void 0,this.stack=[new Ye],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const s=t.loc.start,{stack:i}=this;let r=i.length-1,n=i[r];for(;!n.isCertainlyParameterDeclaration();){if(!n.canBeArrowParameterDeclaration())return;n.recordDeclarationError(e,s),n=i[--r]}this.parser.raise(e,s)}recordArrowParameterBindingError(e,t){const{stack:s}=this,i=s[s.length-1],r=t.loc.start;if(i.isCertainlyParameterDeclaration())this.parser.raise(e,r);else{if(!i.canBeArrowParameterDeclaration())return;i.recordDeclarationError(e,r)}}recordAsyncArrowParametersError(e){const{stack:t}=this;let s=t.length-1,i=t[s];for(;i.canBeArrowParameterDeclaration();)2===i.type&&i.recordDeclarationError(w.AwaitBindingIdentifier,e),i=t[--s]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors((([t,s])=>{this.parser.raise(t,s);let i=e.length-2,r=e[i];for(;r.canBeArrowParameterDeclaration();)r.clearDeclarationError(s.index),r=e[--i]}))}}function Qe(){return new Ye}class Je{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function Ze(e,t){return(e?2:0)|(t?1:0)}class et extends Ve{addExtra(e,t,s,i=!0){if(!e)return;const r=e.extra=e.extra||{};i?r[t]=s:Object.defineProperty(r,t,{enumerable:i,value:s})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){const s=e+t.length;if(this.input.slice(e,s)===t){const e=this.input.charCodeAt(s);return!(ae(e)||55296==(64512&e))}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0)}expectContextual(e,t){if(!this.eatContextual(e)){if(null!=t)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Te.test(this.input.slice(this.state.lastTokEndLoc.index,this.state.start))}hasFollowingLineBreak(){return Le.lastIndex=this.state.end,Le.test(this.input)}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(w.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const s={node:null};try{const i=e(((e=null)=>{throw s.node=e,s}));if(this.state.errors.length>t.errors.length){const e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:i,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e}}return{node:i,error:null,thrown:!1,aborted:!1,failState:null}}catch(e){const i=this.state;if(this.state=t,e instanceof SyntaxError)return{node:null,error:e,thrown:!0,aborted:!1,failState:i};if(e===s)return{node:s.node,error:null,thrown:!1,aborted:!0,failState:i};throw e}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:s,doubleProtoLoc:i,privateKeyLoc:r,optionalParametersLoc:n}=e;if(!t)return!!(s||i||n||r);null!=s&&this.raise(w.InvalidCoverInitializedName,s),null!=i&&this.raise(w.DuplicateProto,i),null!=r&&this.raise(w.UnexpectedPrivateField,r),null!=n&&this.unexpected(n)}isLiteralPropertyName(){return V(this.state.type)}isPrivateName(e){return"PrivateName"===e.type}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property)}isObjectProperty(e){return"ObjectProperty"===e.type}isObjectMethod(e){return"ObjectMethod"===e.type}initializeScopes(e="module"===this.options.sourceType){const t=this.state.labels;this.state.labels=[];const s=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const i=this.inModule;this.inModule=e;const r=this.scope,n=this.getScopeHandler();this.scope=new n(this,e);const o=this.prodParam;this.prodParam=new Je;const a=this.classScope;this.classScope=new Ge(this);const l=this.expressionScope;return this.expressionScope=new Xe(this),()=>{this.state.labels=t,this.exportedIdentifiers=s,this.inModule=i,this.scope=r,this.prodParam=o,this.classScope=a,this.expressionScope=l}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;null!==t&&this.expectPlugin("destructuringPrivate",t)}}class tt{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}}class st{constructor(e,t,s){this.type="",this.start=t,this.end=0,this.loc=new r(s),null!=e&&e.options.ranges&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename)}}const it=st.prototype;function rt(e){const{type:t,start:s,end:i,loc:r,range:n,extra:o,name:a}=e,l=Object.create(it);return l.type=t,l.start=s,l.end=i,l.loc=r,l.range=n,l.extra=o,l.name=a,"Placeholder"===t&&(l.expectedNode=e.expectedNode),l}it.__clone=function(){const e=new st(void 0,this.start,this.loc.start),t=Object.keys(this);for(let s=0,i=t.length;s<i;s++){const i=t[s];"leadingComments"!==i&&"trailingComments"!==i&&"innerComments"!==i&&(e[i]=this[i])}return e};class nt extends et{startNode(){const e=this.state.startLoc;return new st(this,e.index,e)}startNodeAt(e){return new st(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,s){return e.type=t,e.end=s.index,e.loc.end=s,this.options.ranges&&(e.range[1]=s.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,this.options.ranges&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,this.options.ranges&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}}const ot=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),at=y`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:t})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${t}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:t})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${t}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:t})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:t,explicitType:s})=>`Enum \`${e}\` has type \`${s}\`, so the initializer of \`${t}\` needs to be a ${s} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:t})=>`Symbol enum members cannot be initialized. Use \`${t},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:t})=>`The enum member initializer for \`${t}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:t,suggestion:s})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${t}\`, consider using \`${s}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:t})=>`Number enum members need to be initialized, e.g. \`${t} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:t})=>`\`declare export ${e}\` is not supported. Use \`${t}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function lt(e){return"type"===e.importKind||"typeof"===e.importKind}const ht={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"},ct=/\*?\s*@((?:no)?flow)\b/,dt={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},ut=y`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:t})=>`Unexpected token \`${e}\`. Did you mean \`${t}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function pt(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function mt(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return mt(e.object)+"."+mt(e.property);throw new Error("Node had unexpected type: "+e.type)}class gt extends fe{constructor(...e){super(...e),this.tsNames=new Map}}class ft extends ye{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new gt(e)}enter(e){256===e&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return 256===e&&this.importsStack.pop(),e}hasImport(e,t){const s=this.importsStack.length;if(this.importsStack[s-1].has(e))return!0;if(!t&&s>1)for(let t=0;t<s-1;t++)if(this.importsStack[t].has(e))return!0;return!1}declareName(e,t,s){if(4096&t)return this.hasImport(e,!0)&&this.parser.raise(w.VarRedeclaration,s,{identifierName:e}),void this.importsStack[this.importsStack.length-1].add(e);const i=this.currentScope();let r=i.tsNames.get(e)||0;if(1024&t)return this.maybeExportDefined(i,e),void i.tsNames.set(e,16|r);super.declareName(e,t,s),2&t&&(1&t||(this.checkRedeclarationInScope(i,e,t,s),this.maybeExportDefined(i,e)),r|=1),256&t&&(r|=2),512&t&&(r|=4),128&t&&(r|=8),r&&i.tsNames.set(e,r)}isRedeclaredInScope(e,t,s){const i=e.tsNames.get(t);return(2&i)>0?!(256&s)||!!(512&s)!=(4&i)>0:128&s&&(8&i)>0?!!(2&e.names.get(t))&&!!(1&s):!!(2&s&&(1&i)>0)||super.isRedeclaredInScope(e,t,s)}checkLocalExport(e){const{name:t}=e;if(!this.hasImport(t)){for(let e=this.scopeStack.length-1;e>=0;e--){const s=this.scopeStack[e].tsNames.get(t);if((1&s)>0||(16&s)>0)return}super.checkLocalExport(e)}}}const yt=e=>"ParenthesizedExpression"===e.type?yt(e.expression):e;class wt extends nt{toAssignable(e,t=!1){var s,i;let r;switch(("ParenthesizedExpression"===e.type||null!=(s=e.extra)&&s.parenthesized)&&(r=yt(e),t?"Identifier"===r.type?this.expressionScope.recordArrowParameterBindingError(w.InvalidParenthesizedAssignment,e):"MemberExpression"===r.type||this.isOptionalMemberExpression(r)||this.raise(w.InvalidParenthesizedAssignment,e):this.raise(w.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let s=0,i=e.properties.length,r=i-1;s<i;s++){var n;const i=e.properties[s],o=s===r;this.toAssignableObjectExpressionProp(i,o,t),o&&"RestElement"===i.type&&null!=(n=e.extra)&&n.trailingCommaLoc&&this.raise(w.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:s,value:i}=e;this.isPrivateName(s)&&this.classScope.usePrivateName(this.getPrivateNameSV(s),s.loc.start),this.toAssignable(i,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,null==(i=e.extra)?void 0:i.trailingCommaLoc,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(w.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(r,t)}}toAssignableObjectExpressionProp(e,t,s){if("ObjectMethod"===e.type)this.raise("get"===e.kind||"set"===e.kind?w.PatternHasAccessor:w.PatternHasMethod,e.key);else if("SpreadElement"===e.type){e.type="RestElement";const i=e.argument;this.checkToRestConversion(i,!1),this.toAssignable(i,s),t||this.raise(w.RestTrailingComma,e)}else this.toAssignable(e,s)}toAssignableList(e,t,s){const i=e.length-1;for(let r=0;r<=i;r++){const n=e[r];if(n){if("SpreadElement"===n.type){n.type="RestElement";const e=n.argument;this.checkToRestConversion(e,!0),this.toAssignable(e,s)}else this.toAssignable(n,s);"RestElement"===n.type&&(r<i?this.raise(w.RestTrailingComma,n):t&&this.raise(w.RestTrailingComma,t))}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const t=e.properties.length-1;return e.properties.every(((e,s)=>"ObjectMethod"!==e.type&&(s===t||"SpreadElement"!==e.type)&&this.isAssignable(e)))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every((e=>null===e||this.isAssignable(e)));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const t of e)"ArrayExpression"===(null==t?void 0:t.type)&&this.toReferencedListDeep(t.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,s){const i=1&s,r=[];let n=!0;for(;!this.eat(e);)if(n?n=!1:this.expect(12),i&&this.match(12))r.push(null);else{if(this.eat(e))break;if(this.match(21)){if(r.push(this.parseAssignableListItemTypes(this.parseRestBinding(),s)),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const e=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(w.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());r.push(this.parseAssignableListItem(s,e))}}return r}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(21===e)return this.parseBindingRestProperty(this.startNode());const s=this.startNode();return 138===e?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),s.key=this.parsePrivateName()):this.parsePropertyName(s),s.method=!1,this.parseObjPropValue(s,t,!1,!1,!0,!1)}parseAssignableListItem(e,t){const s=this.parseMaybeDefault();this.parseAssignableListItemTypes(s,e);const i=this.parseMaybeDefault(s.loc.start,s);return t.length&&(s.decorators=t),i}parseAssignableListItemTypes(e,t){return e}parseMaybeDefault(e,t){var s;if(null!=e||(e=this.state.startLoc),t=null!=(s=t)?s:this.parseBindingAtom(),!this.eat(29))return t;const i=this.startNodeAt(e);return i.left=t,i.right=this.parseMaybeAssignAllowIn(),this.finishNode(i,"AssignmentPattern")}isValidLVal(e,t,s){return i={AssignmentPattern:"left",RestElement:"argument",ObjectProperty:"value",ParenthesizedExpression:"expression",ArrayPattern:"elements",ObjectPattern:"properties"},r=e,hasOwnProperty.call(i,r)&&i[r];var i,r}isOptionalMemberExpression(e){return"OptionalMemberExpression"===e.type}checkLVal(e,{in:t,binding:s=64,checkClashes:i=!1,strictModeChanged:r=!1,hasParenthesizedAncestor:n=!1}){var o;const a=e.type;if(this.isObjectMethod(e))return;const l=this.isOptionalMemberExpression(e);if(l||"MemberExpression"===a)return l&&(this.expectPlugin("optionalChainingAssign",e.loc.start),"AssignmentExpression"!==t.type&&this.raise(w.InvalidLhsOptionalChaining,e,{ancestor:t})),void(64!==s&&this.raise(w.InvalidPropertyBindingPattern,e));if("Identifier"===a){this.checkIdentifier(e,s,r);const{name:t}=e;return void(i&&(i.has(t)?this.raise(w.ParamDupe,e):i.add(t)))}const h=this.isValidLVal(a,!(n||null!=(o=e.extra)&&o.parenthesized)&&"AssignmentExpression"===t.type,s);if(!0===h)return;if(!1===h){const i=64===s?w.InvalidLhs:w.InvalidLhsBinding;return void this.raise(i,e,{ancestor:t})}const[c,d]=Array.isArray(h)?h:[h,"ParenthesizedExpression"===a],u="ArrayPattern"===a||"ObjectPattern"===a?{type:a}:t;for(const t of[].concat(e[c]))t&&this.checkLVal(t,{in:u,binding:s,checkClashes:i,strictModeChanged:r,hasParenthesizedAncestor:d})}checkIdentifier(e,t,s=!1){this.state.strict&&(s?me(e.name,this.inModule):pe(e.name))&&(64===t?this.raise(w.StrictEvalArguments,e,{referenceName:e.name}):this.raise(w.StrictEvalArgumentsBinding,e,{bindingName:e.name})),8192&t&&"let"===e.name&&this.raise(w.LetInLexicalBinding,e),64&t||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(w.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return!!this.match(12)&&(this.raise(this.lookaheadCharCode()===e?w.RestTrailingComma:w.ElementAfterRest,this.state.startLoc),!0)}}function xt(e){if(!e)throw new Error("Assert fail")}const vt=y`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccesorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccesorCannotHaveTypeParameters:"An accessor cannot have type parameters.",AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccesorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccesorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccesorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function bt(e){return"private"===e||"public"===e||"protected"===e}function Ct(e){return"in"===e||"out"===e}function At(e){if("MemberExpression"!==e.type)return!1;const{computed:t,property:s}=e;return(!t||"StringLiteral"===s.type||!("TemplateLiteral"!==s.type||s.expressions.length>0))&&kt(e.object)}function St(e,t){var s;const{type:i}=e;if(null!=(s=e.extra)&&s.parenthesized)return!1;if(t){if("Literal"===i){const{value:t}=e;if("string"==typeof t||"boolean"==typeof t)return!0}}else if("StringLiteral"===i||"BooleanLiteral"===i)return!0;return!(!Tt(e,t)&&!function(e,t){if("UnaryExpression"===e.type){const{operator:s,argument:i}=e;if("-"===s&&Tt(i,t))return!0}return!1}(e,t))||"TemplateLiteral"===i&&0===e.expressions.length||!!At(e)}function Tt(e,t){return t?"Literal"===e.type&&("number"==typeof e.value||"bigint"in e):"NumericLiteral"===e.type||"BigIntLiteral"===e.type}function kt(e){return"Identifier"===e.type||"MemberExpression"===e.type&&!e.computed&&kt(e.object)}const Et=y`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."});function $t(e,t){const[s,i]="string"==typeof t?[t,{}]:t,r=Object.keys(i),n=0===r.length;return e.some((e=>{if("string"==typeof e)return n&&e===s;{const[t,n]=e;if(t!==s)return!1;for(const e of r)if(n[e]!==i[e])return!1;return!0}}))}function Pt(e,t,s){const i=e.find((e=>Array.isArray(e)?e[0]===t:e===t));return i&&Array.isArray(i)&&i.length>1?i[1][s]:null}const Lt=["minimal","fsharp","hack","smart"],It=["^^","@@","^","%","#"],Mt=["hash","bar"],Nt={estree:e=>class extends e{parse(){const e=b(super.parse());return this.options.tokens&&(e.tokens=e.tokens.map(b)),e}parseRegExpLiteral({pattern:e,flags:t}){let s=null;try{s=new RegExp(e,t)}catch(e){}const i=this.estreeParseLiteral(s);return i.regex={pattern:e,flags:t},i}parseBigIntLiteral(e){let t;try{t=BigInt(e)}catch(e){t=null}const s=this.estreeParseLiteral(t);return s.bigint=String(s.value||e),s}parseDecimalLiteral(e){const t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}directiveToStmt(e){const t=e.value;delete e.value,t.type="Literal",t.raw=t.extra.raw,t.value=t.extra.expressionValue;const s=e;return s.type="ExpressionStatement",s.expression=t,s.directive=t.extra.rawValue,delete t.extra,s}initFunction(e,t){super.initFunction(e,t),e.expression=!1}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized)}parseBlockBody(e,t,s,i,r){super.parseBlockBody(e,t,s,i,r);const n=e.directives.map((e=>this.directiveToStmt(e)));e.body=n.concat(e.body),delete e.directives}pushClassMethod(e,t,s,i,r,n){this.parseMethod(t,s,i,r,n,"ClassMethod",!0),t.typeParameters&&(t.value.typeParameters=t.typeParameters,delete t.typeParameters),e.body.push(t)}parsePrivateName(){const e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){const t=super.getPrivateNameSV(e);return delete e.id,e.name=t,e.type="PrivateIdentifier",e}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,t){const s=super.parseLiteral(e,t);return s.raw=s.extra.raw,delete s.extra,s}parseFunctionBody(e,t,s=!1){super.parseFunctionBody(e,t,s),e.expression="BlockStatement"!==e.body.type}parseMethod(e,t,s,i,r,n,o=!1){let a=this.startNode();return a.kind=e.kind,a=super.parseMethod(a,t,s,i,r,n,o),a.type="FunctionExpression",delete a.kind,e.value=a,"ClassPrivateMethod"===n&&(e.computed=!1),this.finishNode(e,"MethodDefinition")}nameIsConstructor(e){return"Literal"===e.type?"constructor"===e.value:super.nameIsConstructor(e)}parseClassProperty(...e){const t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t):t}parseClassPrivateProperty(...e){const t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t.computed=!1,t):t}parseObjectMethod(e,t,s,i,r){const n=super.parseObjectMethod(e,t,s,i,r);return n&&(n.type="Property","method"===n.kind&&(n.kind="init"),n.shorthand=!1),n}parseObjectProperty(e,t,s,i){const r=super.parseObjectProperty(e,t,s,i);return r&&(r.kind="init",r.type="Property"),r}isValidLVal(e,t,s){return"Property"===e?"value":super.isValidLVal(e,t,s)}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t)}toAssignable(e,t=!1){if(null!=e&&this.isObjectProperty(e)){const{key:s,value:i}=e;this.isPrivateName(s)&&this.classScope.usePrivateName(this.getPrivateNameSV(s),s.loc.start),this.toAssignable(i,t)}else super.toAssignable(e,t)}toAssignableObjectExpressionProp(e,t,s){"Property"!==e.type||"get"!==e.kind&&"set"!==e.kind?"Property"===e.type&&e.method?this.raise(w.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,t,s):this.raise(w.PatternHasAccessor,e.key)}finishCallExpression(e,t){const s=super.finishCallExpression(e,t);var i,r;"Import"===s.callee.type&&(s.type="ImportExpression",s.source=s.arguments[0],(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(s.options=null!=(i=s.arguments[1])?i:null,s.attributes=null!=(r=s.arguments[1])?r:null),delete s.arguments,delete s.callee);return s}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e)}parseExport(e,t){const s=this.state.lastTokStartLoc,i=super.parseExport(e,t);switch(i.type){case"ExportAllDeclaration":i.exported=null;break;case"ExportNamedDeclaration":1===i.specifiers.length&&"ExportNamespaceSpecifier"===i.specifiers[0].type&&(i.type="ExportAllDeclaration",i.exported=i.specifiers[0].exported,delete i.specifiers);case"ExportDefaultDeclaration":{var r;const{declaration:e}=i;"ClassDeclaration"===(null==e?void 0:e.type)&&(null==(r=e.decorators)?void 0:r.length)>0&&e.start===i.start&&this.resetStartLocation(i,s)}}return i}parseSubscript(e,t,s,i){const r=super.parseSubscript(e,t,s,i);if(i.optionalChainMember){if("OptionalMemberExpression"!==r.type&&"OptionalCallExpression"!==r.type||(r.type=r.type.substring(8)),i.stop){const e=this.startNodeAtNode(r);return e.expression=r,this.finishNode(e,"ChainExpression")}}else"MemberExpression"!==r.type&&"CallExpression"!==r.type||(r.optional=!1);return r}isOptionalMemberExpression(e){return"ChainExpression"===e.type?"MemberExpression"===e.expression.type:super.isOptionalMemberExpression(e)}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method}isObjectMethod(e){return"Property"===e.type&&(e.method||"get"===e.kind||"set"===e.kind)}finishNodeAt(e,t,s){return b(super.finishNodeAt(e,t,s))}resetStartLocation(e,t){super.resetStartLocation(e,t),b(e)}resetEndLocation(e,t=this.state.lastTokEndLoc){super.resetEndLocation(e,t),b(e)}},jsx:e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(ut.UnterminatedJsxContent,this.state.startLoc);const s=this.input.charCodeAt(this.state.pos);switch(s){case 60:case 123:return this.state.pos===this.state.start?void(60===s&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(s)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(141,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;default:Ee(s)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const t=this.input.charCodeAt(this.state.pos);let s;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,s=e?"\n":"\r\n"):s=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,s}jsxReadString(e){let t="",s=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(w.UnterminatedString,this.state.startLoc);const i=this.input.charCodeAt(this.state.pos);if(i===e)break;38===i?(t+=this.input.slice(s,this.state.pos),t+=this.jsxReadEntity(),s=this.state.pos):Ee(i)?(t+=this.input.slice(s,this.state.pos),t+=this.jsxReadNewLine(!1),s=this.state.pos):++this.state.pos}t+=this.input.slice(s,this.state.pos++),this.finishToken(133,t)}jsxReadEntity(){const e=++this.state.pos;if(35===this.codePointAtPos(this.state.pos)){++this.state.pos;let e=10;120===this.codePointAtPos(this.state.pos)&&(e=16,++this.state.pos);const t=this.readInt(e,void 0,!1,"bail");if(null!==t&&59===this.codePointAtPos(this.state.pos))return++this.state.pos,String.fromCodePoint(t)}else{let t=0,s=!1;for(;t++<10&&this.state.pos<this.length&&!(s=59===this.codePointAtPos(this.state.pos));)++this.state.pos;if(s){const t=this.input.slice(e,this.state.pos),s=dt[t];if(++this.state.pos,s)return s}}return this.state.pos=e,"&"}jsxReadWord(){let e;const t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(ae(e)||45===e);this.finishToken(140,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const e=this.startNode();return this.match(140)?e.name=this.state.value:Y(this.state.type)?e.name=q(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){const e=this.state.startLoc,t=this.jsxParseIdentifier();if(!this.eat(14))return t;const s=this.startNodeAt(e);return s.namespace=t,s.name=this.jsxParseIdentifier(),this.finishNode(s,"JSXNamespacedName")}jsxParseElementName(){const e=this.state.startLoc;let t=this.jsxParseNamespacedName();if("JSXNamespacedName"===t.type)return t;for(;this.eat(16);){const s=this.startNodeAt(e);s.object=t,s.property=this.jsxParseIdentifier(),t=this.finishNode(s,"JSXMemberExpression")}return t}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(A.brace),this.next(),e=this.jsxParseExpressionContainer(e,A.j_oTag),"JSXEmptyExpression"===e.expression.type&&this.raise(ut.AttributeIsEmpty,e),e;case 142:case 133:return this.parseExprAtom();default:throw this.raise(ut.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(A.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e,t){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{const t=this.parseExpression();e.expression=t}return this.setContext(t),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){const e=this.startNode();return this.match(5)?(this.setContext(A.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(A.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e){const t=this.startNodeAt(e);return this.eat(143)?this.finishNode(t,"JSXOpeningFragment"):(t.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(t))}jsxParseOpeningElementAfterName(e){const t=[];for(;!this.match(56)&&!this.match(143);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(56),this.expect(143),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e){const t=this.startNodeAt(e);return this.eat(143)?this.finishNode(t,"JSXClosingFragment"):(t.name=this.jsxParseElementName(),this.expect(143),this.finishNode(t,"JSXClosingElement"))}jsxParseElementAt(e){const t=this.startNodeAt(e),s=[],i=this.jsxParseOpeningElementAt(e);let r=null;if(!i.selfClosing){e:for(;;)switch(this.state.type){case 142:if(e=this.state.startLoc,this.next(),this.eat(56)){r=this.jsxParseClosingElementAt(e);break e}s.push(this.jsxParseElementAt(e));break;case 141:s.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const e=this.startNode();this.setContext(A.brace),this.next(),this.match(21)?s.push(this.jsxParseSpreadChild(e)):s.push(this.jsxParseExpressionContainer(e,A.j_expr));break}default:this.unexpected()}pt(i)&&!pt(r)&&null!==r?this.raise(ut.MissingClosingTagFragment,r):!pt(i)&&pt(r)?this.raise(ut.MissingClosingTagElement,r,{openingTagName:mt(i.name)}):pt(i)||pt(r)||mt(r.name)!==mt(i.name)&&this.raise(ut.MissingClosingTagElement,r,{openingTagName:mt(i.name)})}if(pt(i)?(t.openingFragment=i,t.closingFragment=r):(t.openingElement=i,t.closingElement=r),t.children=s,this.match(47))throw this.raise(ut.UnwrappedAdjacentJSXElements,this.state.startLoc);return pt(i)?this.finishNode(t,"JSXFragment"):this.finishNode(t,"JSXElement")}jsxParseElement(){const e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e)}setContext(e){const{context:t}=this.state;t[t.length-1]=e}parseExprAtom(e){return this.match(142)?this.jsxParseElement():this.match(47)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(e)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(e){const t=this.curContext();if(t!==A.j_expr){if(t===A.j_oTag||t===A.j_cTag){if(oe(e))return void this.jsxReadWord();if(62===e)return++this.state.pos,void this.finishToken(143);if((34===e||39===e)&&t===A.j_oTag)return void this.jsxReadString(e)}if(60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1))return++this.state.pos,void this.finishToken(142);super.getTokenFromCode(e)}else this.jsxReadToken()}updateContext(e){const{context:t,type:s}=this.state;if(56===s&&142===e)t.splice(-2,2,A.j_cTag),this.state.canStartJSXElement=!1;else if(142===s)t.push(A.j_oTag);else if(143===s){const s=t[t.length-1];s===A.j_oTag&&56===e||s===A.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===A.j_expr):(this.setContext(A.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=F[s]}},flow:e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return xe}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(e,t){133!==e&&13!==e&&28!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t)}addComment(e){if(void 0===this.flowPragma){const t=ct.exec(e.value);if(t)if("flow"===t[1])this.flowPragma="flow";else{if("noflow"!==t[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}}super.addComment(e)}flowParseTypeInitialiser(e){const t=this.state.inType;this.state.inType=!0,this.expect(e||14);const s=this.flowParseType();return this.state.inType=t,s}flowParsePredicate(){const e=this.startNode(),t=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>t.index+1&&this.raise(at.UnexpectedSpaceBetweenModuloChecks,t),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,s=null;return this.match(54)?(this.state.inType=e,s=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(54)&&(s=this.flowParsePredicate())),[t,s]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();const t=e.id=this.parseIdentifier(),s=this.startNode(),i=this.startNode();this.match(47)?s.typeParameters=this.flowParseTypeParameterDeclaration():s.typeParameters=null,this.expect(10);const r=this.flowParseFunctionTypeParams();return s.params=r.params,s.rest=r.rest,s.this=r._this,this.expect(11),[s.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),i.typeAnnotation=this.finishNode(s,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(i,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,t){return this.match(80)?this.flowParseDeclareClass(e):this.match(68)?this.flowParseDeclareFunction(e):this.match(74)?this.flowParseDeclareVariable(e):this.eatContextual(127)?this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(at.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e)):this.isContextual(130)?this.flowParseDeclareTypeAlias(e):this.isContextual(131)?this.flowParseDeclareOpaqueType(e):this.isContextual(129)?this.flowParseDeclareInterface(e):this.match(82)?this.flowParseDeclareExportDeclaration(e,t):void this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(133)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();const t=e.body=this.startNode(),s=t.body=[];for(this.expect(5);!this.match(8);){let e=this.startNode();this.match(83)?(this.next(),this.isContextual(130)||this.match(87)||this.raise(at.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(e)):(this.expectContextual(125,at.UnsupportedStatementInDeclareModule),e=this.flowParseDeclare(e,!0)),s.push(e)}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let i=null,r=!1;return s.forEach((e=>{!function(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}(e)?"DeclareModuleExports"===e.type&&(r&&this.raise(at.DuplicateDeclareModuleExports,e),"ES"===i&&this.raise(at.AmbiguousDeclareModuleKind,e),i="CommonJS",r=!0):("CommonJS"===i&&this.raise(at.AmbiguousDeclareModuleKind,e),i="ES")})),e.kind=i||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,t){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!t){const e=this.state.value;throw this.raise(at.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:e,suggestion:ht[e]})}return this.match(74)||this.match(68)||this.match(80)||this.isContextual(131)?(e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration")):this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131)?("ExportNamedDeclaration"===(e=this.parseExport(e,null)).type&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e):void this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){this.next();const t=this.flowParseTypeAlias(e);return t.type="DeclareTypeAlias",t}flowParseDeclareOpaqueType(e){this.next();const t=this.flowParseOpaqueType(e,!0);return t.type="DeclareOpaqueType",t}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,t){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(12));if(t){if(e.implements=[],e.mixins=[],this.eatContextual(117))do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(12));if(this.eatContextual(113))do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})}flowParseInterfaceExtends(){const e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){"_"===e&&this.raise(at.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(e,t,s){ot.has(e)&&this.raise(s?at.AssignReservedType:at.UnexpectedReservedType,t,{reservedType:e})}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.startLoc,t),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,t){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){const t=this.state.startLoc,s=this.startNode(),i=this.flowParseVariance(),r=this.flowParseTypeAnnotatableIdentifier();return s.name=r.name,s.variance=i,s.bound=r.typeAnnotation,this.match(29)?(this.eat(29),s.default=this.flowParseType()):e&&this.raise(at.MissingTypeParamDefault,t),this.finishNode(s,"TypeParameter")}flowParseTypeParameterDeclaration(){const e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let s=!1;do{const e=this.flowParseTypeParameter(s);t.params.push(e),e.default&&(s=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const e=this.startNode(),t=this.state.inType;e.params=[],this.state.inType=!0,this.expect(47);const s=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=s,this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){const e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,t,s){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=s,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,t){const s=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(s),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:s,allowProto:i,allowInexact:r}){const n=this.state.inType;this.state.inType=!0;const o=this.startNode();let a,l;o.callProperties=[],o.properties=[],o.indexers=[],o.internalSlots=[];let h=!1;for(t&&this.match(6)?(this.expect(6),a=9,l=!0):(this.expect(5),a=8,l=!1),o.exact=l;!this.match(a);){let t=!1,n=null,a=null;const c=this.startNode();if(i&&this.isContextual(118)){const t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),n=this.state.startLoc,e=!1)}if(e&&this.isContextual(106)){const e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0)}const d=this.flowParseVariance();if(this.eat(0))null!=n&&this.unexpected(n),this.eat(0)?(d&&this.unexpected(d.loc.start),o.internalSlots.push(this.flowParseObjectTypeInternalSlot(c,t))):o.indexers.push(this.flowParseObjectTypeIndexer(c,t,d));else if(this.match(10)||this.match(47))null!=n&&this.unexpected(n),d&&this.unexpected(d.loc.start),o.callProperties.push(this.flowParseObjectTypeCallProperty(c,t));else{let e="init";(this.isContextual(99)||this.isContextual(104))&&V(this.lookahead().type)&&(e=this.state.value,this.next());const i=this.flowParseObjectTypeProperty(c,t,n,d,e,s,null!=r?r:!l);null===i?(h=!0,a=this.state.lastTokStartLoc):o.properties.push(i)}this.flowObjectTypeSemicolon(),!a||this.match(8)||this.match(9)||this.raise(at.UnexpectedExplicitInexactInObject,a)}this.expect(a),s&&(o.inexact=h);const c=this.finishNode(o,"ObjectTypeAnnotation");return this.state.inType=n,c}flowParseObjectTypeProperty(e,t,s,i,r,n,o){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(n?o||this.raise(at.InexactInsideExact,this.state.lastTokStartLoc):this.raise(at.InexactInsideNonObject,this.state.lastTokStartLoc),i&&this.raise(at.InexactVariance,i),null):(n||this.raise(at.UnexpectedSpreadType,this.state.lastTokStartLoc),null!=s&&this.unexpected(s),i&&this.raise(at.SpreadVariance,i),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=s,e.kind=r;let o=!1;return this.match(47)||this.match(10)?(e.method=!0,null!=s&&this.unexpected(s),i&&this.unexpected(i.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),"get"!==r&&"set"!==r||this.flowCheckGetterSetterParams(e),!n&&"constructor"===e.key.name&&e.value.this&&this.raise(at.ThisParamBannedInConstructor,e.value.this)):("init"!==r&&this.unexpected(),e.method=!1,this.eat(17)&&(o=!0),e.value=this.flowParseTypeInitialiser(),e.variance=i),e.optional=o,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){const t="get"===e.kind?0:1,s=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise("get"===e.kind?at.GetterMayNotHaveThisParam:at.SetterMayNotHaveThisParam,e.value.this),s!==t&&this.raise("get"===e.kind?w.BadGetterArity:w.BadSetterArity,e),"set"===e.kind&&e.value.rest&&this.raise(w.BadSetterRestParameter,e)}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected()}flowParseQualifiedTypeIdentifier(e,t){null!=e||(e=this.state.startLoc);let s=t||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const t=this.startNodeAt(e);t.qualification=s,t.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(t,"QualifiedTypeIdentifier")}return s}flowParseGenericType(e,t){const s=this.startNodeAt(e);return s.typeParameters=null,s.id=this.flowParseQualifiedTypeIdentifier(e,t),this.match(47)&&(s.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(s,"GenericTypeAnnotation")}flowParseTypeofType(){const e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){const e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let t=null,s=!1,i=null;const r=this.startNode(),n=this.lookahead(),o=78===this.state.type;return 14===n.type||17===n.type?(o&&!e&&this.raise(at.ThisParamMustBeFirst,r),t=this.parseIdentifier(o),this.eat(17)&&(s=!0,o&&this.raise(at.ThisParamMayNotBeOptional,r)),i=this.flowParseTypeInitialiser()):i=this.flowParseType(),r.name=t,r.optional=s,r.typeAnnotation=i,this.finishNode(r,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){const t=this.startNodeAt(e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let t=null,s=null;for(this.match(78)&&(s=this.flowParseFunctionTypeParam(!0),s.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:s}}flowIdentToTypeAnnotation(e,t,s){switch(s.name){case"any":return this.finishNode(t,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(t,"BooleanTypeAnnotation");case"mixed":return this.finishNode(t,"MixedTypeAnnotation");case"empty":return this.finishNode(t,"EmptyTypeAnnotation");case"number":return this.finishNode(t,"NumberTypeAnnotation");case"string":return this.finishNode(t,"StringTypeAnnotation");case"symbol":return this.finishNode(t,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(s.name),this.flowParseGenericType(e,s)}}flowParsePrimaryType(){const e=this.state.startLoc,t=this.startNode();let s,i,r=!1;const n=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,i=this.flowParseTupleType(),this.state.noAnonFunctionType=n,i;case 47:{const e=this.startNode();return e.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),s=this.flowParseFunctionTypeParams(),e.params=s.params,e.rest=s.rest,e.this=s._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),this.finishNode(e,"FunctionTypeAnnotation")}case 10:{const e=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(z(this.state.type)||this.match(78)){const e=this.lookahead().type;r=17!==e&&14!==e}else r=!0;if(r){if(this.state.noAnonFunctionType=!1,i=this.flowParseType(),this.state.noAnonFunctionType=n,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),i;this.eat(12)}return s=i?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(i)]):this.flowParseFunctionTypeParams(),e.params=s.params,e.rest=s.rest,e.this=s._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return t.value=this.match(85),this.next(),this.finishNode(t,"BooleanLiteralTypeAnnotation");case 53:if("-"===this.state.value){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",t);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",t);throw this.raise(at.UnexpectedSubtractionOperand,this.state.startLoc)}return void this.unexpected();case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(t,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(t,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(t,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(t,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(Y(this.state.type)){const e=q(this.state.type);return this.next(),super.createIdentifier(t,e)}if(z(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){const e=this.state.startLoc;let t=this.flowParsePrimaryType(),s=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const i=this.startNodeAt(e),r=this.eat(18);s=s||r,this.expect(0),!r&&this.match(3)?(i.elementType=t,this.next(),t=this.finishNode(i,"ArrayTypeAnnotation")):(i.objectType=t,i.indexType=this.flowParseType(),this.expect(3),s?(i.optional=r,t=this.finishNode(i,"OptionalIndexedAccessType")):t=this.finishNode(i,"IndexedAccessType"))}return t}flowParsePrefixType(){const e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const t=this.startNodeAt(e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){const e=this.startNode();this.eat(45);const t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){const e=this.startNode();this.eat(43);const t=this.flowParseIntersectionType();for(e.types=[t];this.eat(43);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){const e=this.state.inType;this.state.inType=!0;const t=this.flowParseUnionType();return this.state.inType=e,t}flowParseTypeOrImplicitInstantiation(){if(132===this.state.type&&"_"===this.state.value){const e=this.state.startLoc,t=this.parseIdentifier();return this.flowParseGenericType(e,t)}return this.flowParseType()}flowParseTypeAnnotation(){const e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){const t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e}parseFunctionBody(e,t,s=!1){t?this.forwardNoArrowParamsConversionAt(e,(()=>super.parseFunctionBody(e,!0,s))):super.parseFunctionBody(e,!1,s)}parseFunctionBodyAndFinish(e,t,s=!1){if(this.match(14)){const t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(e,t,s)}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){if(j(this.lookahead().type)){const e=this.startNode();return this.next(),this.flowParseInterface(e)}}else if(this.shouldParseEnums()&&this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}const t=super.parseStatementLike(e);return void 0!==this.flowPragma||this.isValidDirective(t)||(this.flowPragma=null),t}parseExpressionStatement(e,t,s){if("Identifier"===t.type)if("declare"===t.name){if(this.match(80)||z(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e)}else if(z(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1)}return super.parseExpressionStatement(e,t,s)}shouldParseExportDeclaration(){const{type:e}=this.state;return G(e)||this.shouldParseEnums()&&126===e?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:e}=this.state;return G(e)||this.shouldParseEnums()&&126===e?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,t,s){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(s),e}this.expect(17);const i=this.state.clone(),r=this.state.noArrowAt,n=this.startNodeAt(t);let{consequent:o,failed:a}=this.tryParseConditionalConsequent(),[l,h]=this.getArrowLikeExpressions(o);if(a||h.length>0){const e=[...r];if(h.length>0){this.state=i,this.state.noArrowAt=e;for(let t=0;t<h.length;t++)e.push(h[t].start);({consequent:o,failed:a}=this.tryParseConditionalConsequent()),[l,h]=this.getArrowLikeExpressions(o)}a&&l.length>1&&this.raise(at.AmbiguousConditionalArrow,i.startLoc),a&&1===l.length&&(this.state=i,e.push(l[0].start),this.state.noArrowAt=e,({consequent:o,failed:a}=this.tryParseConditionalConsequent()))}return this.getArrowLikeExpressions(o,!0),this.state.noArrowAt=r,this.expect(14),n.test=e,n.consequent=o,n.alternate=this.forwardNoArrowParamsConversionAt(n,(()=>this.parseMaybeAssign(void 0,void 0))),this.finishNode(n,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}}getArrowLikeExpressions(e,t){const s=[e],i=[];for(;0!==s.length;){const e=s.pop();"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):i.push(e),s.push(e.body)):"ConditionalExpression"===e.type&&(s.push(e.consequent),s.push(e.alternate))}return t?(i.forEach((e=>this.finishArrowValidation(e))),[i,[]]):function(e,t){const s=[],i=[];for(let r=0;r<e.length;r++)(t(e[r])?s:i).push(e[r]);return[s,i]}(i,(e=>e.params.every((e=>this.isAssignable(e,!0)))))}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,t){let s;return-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),s=t(),this.state.noArrowParamsConversionAt.pop()):s=t(),s}parseParenItem(e,t){const s=super.parseParenItem(e,t);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(e)),this.match(14)){const e=this.startNodeAt(t);return e.expression=s,e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,"TypeCastExpression")}return s}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e)}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";const t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(t)}if(this.isContextual(131)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1)}if(this.isContextual(129)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseInterface(t)}if(this.shouldParseEnums()&&this.isContextual(126)){e.exportKind="value";const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDeclaration(e)}eatExportStar(e){return!!super.eatExportStar(e)||!(!this.isContextual(130)||55!==this.lookahead().type)&&(e.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(e){const{startLoc:t}=this.state,s=super.maybeParseExportNamespaceSpecifier(e);return s&&"type"===e.exportKind&&this.unexpected(t),s}parseClassId(e,t,s){super.parseClassId(e,t,s),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,t,s){const{startLoc:i}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,t))return;t.declare=!0}super.parseClassMember(e,t,s),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(at.DeclareClassElement,i):t.value&&this.raise(at.DeclareClassFieldInitializer,t.value))}isIterator(e){return"iterator"===e||"asyncIterator"===e}readIterator(){const e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(w.InvalidIdentifier,this.state.curPosition(),{identifierName:t}),this.finishToken(132,t)}getTokenFromCode(e){const t=this.input.charCodeAt(this.state.pos+1);123===e&&124===t?this.finishOp(6,2):!this.state.inType||62!==e&&60!==e?this.state.inType&&63===e?46===t?this.finishOp(18,2):this.finishOp(17,1):function(e,t,s){return 64===e&&64===t&&oe(s)}(e,t,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e):this.finishOp(62===e?48:47,1)}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t)}toAssignable(e,t=!1){t||"AssignmentExpression"!==e.type||"TypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,t)}toAssignableList(e,t,s){for(let t=0;t<e.length;t++){const s=e[t];"TypeCastExpression"===(null==s?void 0:s.type)&&(e[t]=this.typeCastToParameter(s))}super.toAssignableList(e,t,s)}toReferencedList(e,t){for(let i=0;i<e.length;i++){var s;const r=e[i];!r||"TypeCastExpression"!==r.type||null!=(s=r.extra)&&s.parenthesized||!(e.length>1)&&t||this.raise(at.TypeCastInPattern,r.typeAnnotation)}return e}parseArrayLike(e,t,s,i){const r=super.parseArrayLike(e,t,s,i);return t&&!this.state.maybeInArrowParameters&&this.toReferencedList(r.elements),r}isValidLVal(e,t,s){return"TypeCastExpression"===e||super.isValidLVal(e,t,s)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,t,s,i,r,n){if(t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,s,i,r,n),t.params&&r){const e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(at.ThisParamBannedInConstructor,t)}else if("MethodDefinition"===t.type&&r&&t.value.params){const e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(at.ThisParamBannedInConstructor,t)}}pushClassPrivateMethod(e,t,s,i){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,s,i)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&this.match(47)&&(e.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();const t=e.implements=[];do{const e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);const t=this.getObjectOrClassMethodParams(e);if(t.length>0){const s=t[0];this.isThisParam(s)&&"get"===e.kind?this.raise(at.GetterMayNotHaveThisParam,s):this.isThisParam(s)&&this.raise(at.SetterMayNotHaveThisParam,s)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,t,s,i,r,n,o){let a;e.variance&&this.unexpected(e.variance.loc.start),delete e.variance,this.match(47)&&!n&&(a=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const l=super.parseObjPropValue(e,t,s,i,r,n,o);return a&&((l.value||l).typeParameters=a),l}parseAssignableListItemTypes(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(at.PatternIsOptional,e),this.isThisParam(e)&&this.raise(at.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(at.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(at.ThisParamNoDefault,e),this.resetEndLocation(e),e}parseMaybeDefault(e,t){const s=super.parseMaybeDefault(e,t);return"AssignmentPattern"===s.type&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(at.TypeBeforeInitializer,s.typeAnnotation),s}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(at.ImportReflectionHasImportType,e.specifiers[0].loc.start)}parseImportSpecifierLocal(e,t,s){t.local=lt(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,s))}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;const t=this.lookaheadCharCode();return 123===t||42===t}return!e&&this.isContextual(87)}applyImportPhase(e,t,s,i){if(super.applyImportPhase(e,t,s,i),t){if(!s&&this.match(65))return;e.exportKind="type"===s?s:"value"}else"type"===s&&this.match(55)&&this.unexpected(),e.importKind="type"===s||"typeof"===s?s:"value"}parseImportSpecifier(e,t,s,i,r){const n=e.imported;let o=null;"Identifier"===n.type&&("type"===n.name?o="type":"typeof"===n.name&&(o="typeof"));let a=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const t=this.parseIdentifier(!0);null===o||j(this.state.type)?(e.imported=n,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=o,e.local=rt(t))}else{if(null!==o&&j(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=o;else{if(t)throw this.raise(w.ImportBindingIsString,e,{importName:n.value});e.imported=n,e.importKind=null}this.eatContextual(93)?e.local=this.parseIdentifier():(a=!0,e.local=rt(e.imported))}const l=lt(e);return s&&l&&this.raise(at.ImportTypeShorthandOnlyInPureImport,e),(s||l)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),!a||s||l||this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier")}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseFunctionParams(e,t){const s=e.kind;"get"!==s&&"set"!==s&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t}return super.parseAsyncArrowFromCallExpression(e,t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,t){var s;let i,r=null;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(r=this.state.clone(),i=this.tryParse((()=>super.parseMaybeAssign(e,t)),r),!i.error)return i.node;const{context:s}=this.state,n=s[s.length-1];n!==A.j_oTag&&n!==A.j_expr||s.pop()}if(null!=(s=i)&&s.error||this.match(47)){var n,o;let s;r=r||this.state.clone();const a=this.tryParse((i=>{var r;s=this.flowParseTypeParameterDeclaration();const n=this.forwardNoArrowParamsConversionAt(s,(()=>{const i=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(i,s),i}));null!=(r=n.extra)&&r.parenthesized&&i();const o=this.maybeUnwrapTypeCastExpression(n);return"ArrowFunctionExpression"!==o.type&&i(),o.typeParameters=s,this.resetStartLocationFromNode(o,s),n}),r);let l=null;if(a.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(a.node).type){if(!a.error&&!a.aborted)return a.node.async&&this.raise(at.UnexpectedTypeParameterBeforeAsyncArrowFunction,s),a.node;l=a.node}if(null!=(n=i)&&n.node)return this.state=i.failState,i.node;if(l)return this.state=a.failState,l;if(null!=(o=i)&&o.thrown)throw i.error;if(a.thrown)throw a.error;throw this.raise(at.UnexpectedTokenAfterTypeParameter,s)}return super.parseMaybeAssign(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse((()=>{const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const s=this.startNode();return[s.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s}));if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,t){-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?e.params=t:super.setArrowFunctionParameters(e,t)}checkParams(e,t,s,i=!0){if(!s||-1===this.state.noArrowParamsConversionAt.indexOf(e.start)){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(at.ThisParamMustBeFirst,e.params[t]);super.checkParams(e,t,s,i)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&-1===this.state.noArrowAt.indexOf(this.state.start))}parseSubscripts(e,t,s){if("Identifier"===e.type&&"async"===e.name&&-1!==this.state.noArrowAt.indexOf(t.index)){this.next();const s=this.startNodeAt(t);s.callee=e,s.arguments=super.parseCallExpressionArguments(11,!1),e=this.finishNode(s,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.match(47)){const i=this.state.clone(),r=this.tryParse((e=>this.parseAsyncArrowWithTypeParameters(t)||e()),i);if(!r.error&&!r.aborted)return r.node;const n=this.tryParse((()=>super.parseSubscripts(e,t,s)),i);if(n.node&&!n.error)return n.node;if(r.node)return this.state=r.failState,r.node;if(n.node)return this.state=n.failState,n.node;throw r.error||n.error}return super.parseSubscripts(e,t,s)}parseSubscript(e,t,s,i){if(this.match(18)&&this.isLookaheadToken_lt()){if(i.optionalChainMember=!0,s)return i.stop=!0,e;this.next();const r=this.startNodeAt(t);return r.callee=e,r.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),r.arguments=this.parseCallExpressionArguments(11,!1),r.optional=!0,this.finishCallExpression(r,!0)}if(!s&&this.shouldParseTypes()&&this.match(47)){const s=this.startNodeAt(t);s.callee=e;const r=this.tryParse((()=>(s.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),s.arguments=super.parseCallExpressionArguments(11,!1),i.optionalChainMember&&(s.optional=!1),this.finishCallExpression(s,i.optionalChainMember))));if(r.node)return r.error&&(this.state=r.failState),r.node}return super.parseSubscript(e,t,s,i)}parseNewCallee(e){super.parseNewCallee(e);let t=null;this.shouldParseTypes()&&this.match(47)&&(t=this.tryParse((()=>this.flowParseTypeParameterInstantiationCallOrNew())).node),e.typeArguments=t}parseAsyncArrowWithTypeParameters(e){const t=this.startNodeAt(e);if(this.parseFunctionParams(t,!1),this.parseArrow(t))return super.parseArrowExpression(t,void 0,!0)}readToken_mult_modulo(e){const t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();super.readToken_mult_modulo(e)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);124!==e||125!==t?super.readToken_pipe_amp(e):this.finishOp(9,2)}parseTopLevel(e,t){const s=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(at.UnterminatedFlowComment,this.state.curPosition()),s}skipBlockComment(){if(!this.hasPlugin("flowComments")||!this.skipFlowComment())return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/");{if(this.state.hasFlowComment)throw this.raise(at.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const e=this.skipFlowComment();e&&(this.state.pos+=e,this.state.hasFlowComment=!0)}}skipFlowComment(){const{pos:e}=this.state;let t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;const s=this.input.charCodeAt(t+e),i=this.input.charCodeAt(t+e+1);return 58===s&&58===i?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===s&&58!==i&&t}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(w.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:s}){this.raise(at.EnumBooleanMemberNotInitialized,e,{memberName:s,enumName:t})}flowEnumErrorInvalidMemberInitializer(e,t){return this.raise(t.explicitType?"symbol"===t.explicitType?at.EnumInvalidMemberInitializerSymbolType:at.EnumInvalidMemberInitializerPrimaryType:at.EnumInvalidMemberInitializerUnknownType,e,t)}flowEnumErrorNumberMemberNotInitialized(e,t){this.raise(at.EnumNumberMemberNotInitialized,e,t)}flowEnumErrorStringMemberInconsistentlyInitialized(e,t){this.raise(at.EnumStringMemberInconsistentlyInitialized,e,t)}flowEnumMemberInit(){const e=this.state.startLoc,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{const s=this.parseNumericLiteral(this.state.value);return t()?{type:"number",loc:s.loc.start,value:s}:{type:"invalid",loc:e}}case 133:{const s=this.parseStringLiteral(this.state.value);return t()?{type:"string",loc:s.loc.start,value:s}:{type:"invalid",loc:e}}case 85:case 86:{const s=this.parseBooleanLiteral(this.match(85));return t()?{type:"boolean",loc:s.loc.start,value:s}:{type:"invalid",loc:e}}default:return{type:"invalid",loc:e}}}flowEnumMemberRaw(){const e=this.state.startLoc;return{id:this.parseIdentifier(!0),init:this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e}}}flowEnumCheckExplicitTypeMismatch(e,t,s){const{explicitType:i}=t;null!==i&&i!==s&&this.flowEnumErrorInvalidMemberInitializer(e,t)}flowEnumMembers({enumName:e,explicitType:t}){const s=new Set,i={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let r=!1;for(;!this.match(8);){if(this.eat(21)){r=!0;break}const n=this.startNode(),{id:o,init:a}=this.flowEnumMemberRaw(),l=o.name;if(""===l)continue;/^[a-z]/.test(l)&&this.raise(at.EnumInvalidMemberName,o,{memberName:l,suggestion:l[0].toUpperCase()+l.slice(1),enumName:e}),s.has(l)&&this.raise(at.EnumDuplicateMemberName,o,{memberName:l,enumName:e}),s.add(l);const h={enumName:e,explicitType:t,memberName:l};switch(n.id=o,a.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(a.loc,h,"boolean"),n.init=a.value,i.booleanMembers.push(this.finishNode(n,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(a.loc,h,"number"),n.init=a.value,i.numberMembers.push(this.finishNode(n,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(a.loc,h,"string"),n.init=a.value,i.stringMembers.push(this.finishNode(n,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(a.loc,h);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(a.loc,h);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(a.loc,h);break;default:i.defaultedMembers.push(this.finishNode(n,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:i,hasUnknownMembers:r}}flowEnumStringMembers(e,t,{enumName:s}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(const t of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(t,{enumName:s});return t}for(const e of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(e,{enumName:s});return e}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!z(this.state.type))throw this.raise(at.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});const{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.raise(at.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:t}),t}flowEnumBody(e,t){const s=t.name,i=t.loc.start,r=this.flowEnumParseExplicitType({enumName:s});this.expect(5);const{members:n,hasUnknownMembers:o}=this.flowEnumMembers({enumName:s,explicitType:r});switch(e.hasUnknownMembers=o,r){case"boolean":return e.explicitType=!0,e.members=n.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=n.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(n.stringMembers,n.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=n.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{const t=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;const r=n.booleanMembers.length,o=n.numberMembers.length,a=n.stringMembers.length,l=n.defaultedMembers.length;if(r||o||a||l){if(r||o){if(!o&&!a&&r>=l){for(const e of n.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.loc.start,{enumName:s,memberName:e.id.name});return e.members=n.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}if(!r&&!a&&o>=l){for(const e of n.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.loc.start,{enumName:s,memberName:e.id.name});return e.members=n.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}return this.raise(at.EnumInconsistentMemberValues,i,{enumName:s}),t()}return e.members=this.flowEnumStringMembers(n.stringMembers,n.defaultedMembers,{enumName:s}),this.expect(8),this.finishNode(e,"EnumStringBody")}return t()}}}flowParseEnumDeclaration(e){const t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),t),this.finishNode(e,"EnumDeclaration")}isLookaheadToken_lt(){const e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){const t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e}},typescript:e=>class extends e{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:vt.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:vt.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:vt.InvalidModifierOnTypeParameter})}getScopeHandler(){return ft}tsIsIdentifier(){return z(this.state.type)}tsTokenCanFollowModifier(){return(this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName())&&!this.hasPrecedingLineBreak()}tsNextTokenCanFollowModifier(){return this.next(),this.tsTokenCanFollowModifier()}tsParseModifier(e,t){if(!z(this.state.type)&&58!==this.state.type&&75!==this.state.type)return;const s=this.state.value;if(-1!==e.indexOf(s)){if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return s}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:t,stopOnStartOfClassStaticBlock:s,errorTemplate:i=vt.InvalidModifierOnTypeMember},r){const n=(e,t,s,i)=>{t===s&&r[i]&&this.raise(vt.InvalidModifiersOrder,e,{orderedModifiers:[s,i]})},o=(e,t,s,i)=>{(r[s]&&t===i||r[i]&&t===s)&&this.raise(vt.IncompatibleModifiers,e,{modifiers:[s,i]})};for(;;){const{startLoc:a}=this.state,l=this.tsParseModifier(e.concat(null!=t?t:[]),s);if(!l)break;bt(l)?r.accessibility?this.raise(vt.DuplicateAccessibilityModifier,a,{modifier:l}):(n(a,l,l,"override"),n(a,l,l,"static"),n(a,l,l,"readonly"),r.accessibility=l):Ct(l)?(r[l]&&this.raise(vt.DuplicateModifier,a,{modifier:l}),r[l]=!0,n(a,l,"in","out")):(hasOwnProperty.call(r,l)?this.raise(vt.DuplicateModifier,a,{modifier:l}):(n(a,l,"static","readonly"),n(a,l,"static","override"),n(a,l,"override","readonly"),n(a,l,"abstract","override"),o(a,l,"declare","override"),o(a,l,"static","abstract")),r[l]=!0),null!=t&&t.includes(l)&&this.raise(i,a,{modifier:l})}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(e,t){const s=[];for(;!this.tsIsListTerminator(e);)s.push(t());return s}tsParseDelimitedList(e,t,s){return function(e){if(null==e)throw new Error(`Unexpected ${e} value.`);return e}(this.tsParseDelimitedListWorker(e,t,!0,s))}tsParseDelimitedListWorker(e,t,s,i){const r=[];let n=-1;for(;!this.tsIsListTerminator(e);){n=-1;const i=t();if(null==i)return;if(r.push(i),!this.eat(12)){if(this.tsIsListTerminator(e))break;return void(s&&this.expect(12))}n=this.state.lastTokStartLoc.index}return i&&(i.value=n),r}tsParseBracketedList(e,t,s,i,r){i||(s?this.expect(0):this.expect(47));const n=this.tsParseDelimitedList(e,t,r);return s?this.expect(3):this.expect(48),n}tsParseImportType(){const e=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(vt.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(e.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(e.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName()),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseEntityName(e=!0){let t=this.parseIdentifier(e);for(;this.eat(16);){const s=this.startNodeAtNode(t);s.left=t,s.right=this.parseIdentifier(e),t=this.finishNode(s,"TSQualifiedName")}return t}tsParseTypeReference(){const e=this.startNode();return e.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();const t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate")}tsParseThisTypeNode(){const e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){const e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(e){const t=this.startNode();return e(t),t.name=this.tsParseTypeParameterName(),t.constraint=this.tsEatThenParseType(81),t.default=this.tsEatThenParseType(29),this.finishNode(t,"TSTypeParameter")}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e)}tsParseTypeParameters(e){const t=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();const s={value:-1};return t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,s),0===t.params.length&&this.raise(vt.EmptyTypeParameters,t),-1!==s.value&&this.addExtra(t,"trailingComma",s.value),this.finishNode(t,"TSTypeParameterDeclaration")}tsFillSignature(e,t){const s=19===e;t.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),(s||this.match(e))&&(t.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){const e=super.parseBindingList(11,41,2);for(const t of e){const{type:e}=t;"AssignmentPattern"!==e&&"TSParameterProperty"!==e||this.raise(vt.UnsupportedSignatureParameterKind,t,{type:e})}return e}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13)}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),!!z(this.state.type)&&(this.next(),this.match(14))}tsTryParseIndexSignature(e){if(!this.match(0)||!this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))return;this.expect(0);const t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];const s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,t){this.eat(17)&&(e.optional=!0);const s=e;if(this.match(10)||this.match(47)){t&&this.raise(vt.ReadonlyForMethodSignature,e);const i=s;i.kind&&this.match(47)&&this.raise(vt.AccesorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon();const r="parameters",n="typeAnnotation";if("get"===i.kind)i[r].length>0&&(this.raise(w.BadGetterArity,this.state.curPosition()),this.isThisParam(i[r][0])&&this.raise(vt.AccesorCannotDeclareThisParameter,this.state.curPosition()));else if("set"===i.kind){if(1!==i[r].length)this.raise(w.BadSetterArity,this.state.curPosition());else{const e=i[r][0];this.isThisParam(e)&&this.raise(vt.AccesorCannotDeclareThisParameter,this.state.curPosition()),"Identifier"===e.type&&e.optional&&this.raise(vt.SetAccesorCannotHaveOptionalParameter,this.state.curPosition()),"RestElement"===e.type&&this.raise(vt.SetAccesorCannotHaveRestParameter,this.state.curPosition())}i[n]&&this.raise(vt.SetAccesorCannotHaveReturnType,i[n])}else i.kind="method";return this.finishNode(i,"TSMethodSignature")}{const e=s;t&&(e.readonly=!0);const i=this.tsTryParseTypeAnnotation();return i&&(e.typeAnnotation=i),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSPropertySignature")}}tsParseTypeMember(){const e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){const t=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e);return this.tsTryParseIndexSignature(e)||(super.parsePropertyName(e),e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||!this.tsTokenCanFollowModifier()||(e.kind=e.key.name,super.parsePropertyName(e)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){const e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!!this.match(0)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(58))))}tsParseMappedTypeParameter(){const e=this.startNode();return e.name=this.tsParseTypeParameterName(),e.constraint=this.tsExpectThenParseType(58),this.finishNode(e,"TSTypeParameter")}tsParseMappedType(){const e=this.startNode();return this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0),e.typeParameter=this.tsParseMappedTypeParameter(),e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){const e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1;return e.elementTypes.forEach((e=>{const{type:s}=e;!t||"TSRestType"===s||"TSOptionalType"===s||"TSNamedTupleMember"===s&&e.optional||this.raise(vt.OptionalTypeBeforeRequired,e),t||(t="TSNamedTupleMember"===s&&e.optional||"TSOptionalType"===s)})),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){const{startLoc:e}=this.state,t=this.eat(21);let s,i,r,n;const o=j(this.state.type)?this.lookaheadCharCode():null;if(58===o)s=!0,r=!1,i=this.parseIdentifier(!0),this.expect(14),n=this.tsParseType();else if(63===o){r=!0;const e=this.state.startLoc,t=this.state.value,o=this.tsParseNonArrayType();58===this.lookaheadCharCode()?(s=!0,i=this.createIdentifier(this.startNodeAt(e),t),this.expect(17),this.expect(14),n=this.tsParseType()):(s=!1,n=o,this.expect(17))}else n=this.tsParseType(),r=this.eat(17),s=this.eat(14);if(s){let e;i?(e=this.startNodeAtNode(i),e.optional=r,e.label=i,e.elementType=n,this.eat(17)&&(e.optional=!0,this.raise(vt.TupleOptionalAfterType,this.state.lastTokStartLoc))):(e=this.startNodeAtNode(n),e.optional=r,this.raise(vt.InvalidTupleMemberLabel,n),e.label=n,e.elementType=this.tsParseType()),n=this.finishNode(e,"TSNamedTupleMember")}else if(r){const e=this.startNodeAtNode(n);e.typeAnnotation=n,n=this.finishNode(e,"TSOptionalType")}if(t){const t=this.startNodeAt(e);t.typeAnnotation=n,n=this.finishNode(t,"TSRestType")}return n}tsParseParenthesizedType(){const e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,t){const s=this.startNode();return"TSConstructorType"===e&&(s.abstract=!!t,t&&this.next(),this.next()),this.tsInAllowConditionalTypesContext((()=>this.tsFillSignature(19,s))),this.finishNode(s,e)}tsParseLiteralTypeNode(){const e=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){const e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if("-"===this.state.value){const e=this.startNode(),t=this.lookahead();return 134!==t.type&&135!==t.type&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:e}=this.state;if(z(e)||88===e||84===e){const t=88===e?"TSVoidKeyword":84===e?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let e=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const t=this.startNodeAtNode(e);t.elementType=e,this.expect(3),e=this.finishNode(t,"TSArrayType")}else{const t=this.startNodeAtNode(e);t.objectType=e,t.indexType=this.tsParseType(),this.expect(3),e=this.finishNode(t,"TSIndexedAccessType")}return e}tsParseTypeOperator(){const e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(vt.UnexpectedReadonly,e)}}tsParseInferType(){const e=this.startNode();this.expectContextual(115);const t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsTryParse((()=>this.tsParseConstraintForInferType())),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const e=this.tsInDisallowConditionalTypesContext((()=>this.tsParseType()));if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e}}tsParseTypeOperatorOrHigher(){var e;return(e=this.state.type)>=121&&e<=123&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext((()=>this.tsParseArrayTypeOrHigher()))}tsParseUnionOrIntersectionType(e,t,s){const i=this.startNode(),r=this.eat(s),n=[];do{n.push(t())}while(this.eat(s));return 1!==n.length||r?(i.types=n,this.finishNode(i,e)):n[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return!!this.match(47)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(z(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:e}=this.state,t=e.length;try{return this.parseObjectLike(8,!0),e.length===t}catch(e){return!1}}if(this.match(0)){this.next();const{errors:e}=this.state,t=e.length;try{return super.parseBindingList(3,93,1),e.length===t}catch(e){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(29))return!0;if(this.match(11)&&(this.next(),this.match(19)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType((()=>{const t=this.startNode();this.expect(e);const s=this.startNode(),i=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(i&&this.match(78)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(s.parameterName=e,s.asserts=!0,s.typeAnnotation=null,e=this.finishNode(s,"TSTypePredicate")):(this.resetStartLocationFromNode(e,s),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation")}const r=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!r)return i?(s.parameterName=this.parseIdentifier(),s.asserts=i,s.typeAnnotation=null,t.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);const n=this.tsParseTypeAnnotation(!1);return s.parameterName=r,s.typeAnnotation=n,s.asserts=i,t.typeAnnotation=this.finishNode(s,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")}))}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(109!==this.state.type)return!1;const e=this.state.containsEsc;return this.next(),!(!z(this.state.type)&&!this.match(78)||(e&&this.raise(w.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),0))}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType((()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType()})),this.finishNode(t,"TSTypeAnnotation")}tsParseType(){xt(this.state.inType);const e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;const t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsInDisallowConditionalTypesContext((()=>this.tsParseNonConditionalType())),this.expect(17),t.trueType=this.tsInAllowConditionalTypesContext((()=>this.tsParseType())),this.expect(14),t.falseType=this.tsInAllowConditionalTypesContext((()=>this.tsParseType())),this.finishNode(t,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&77===this.lookahead().type}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(vt.ReservedTypeAssertion,this.state.startLoc);const e=this.startNode();return e.typeAnnotation=this.tsInType((()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType()))),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){const t=this.state.startLoc,s=this.tsParseDelimitedList("HeritageClauseElement",(()=>{const e=this.startNode();return e.expression=this.tsParseEntityName(),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")}));return s.length||this.raise(vt.EmptyHeritageClauseType,t,{token:e}),s}tsParseInterfaceDeclaration(e,t={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),t.declare&&(e.declare=!0),z(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(vt.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));const s=this.startNode();return s.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(s,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType((()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&16!==this.lookahead().type){const e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword")}return this.tsParseType()})),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInNoContext(e){const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}tsInType(e){const t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}}tsInDisallowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsInAllowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType()}tsExpectThenParseType(e){return this.tsInType((()=>(this.expect(e),this.tsParseType())))}tsNextThenParseType(){return this.tsInType((()=>(this.next(),this.tsParseType())))}tsParseEnumMember(){const e=this.startNode();return e.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,t={}){return t.const&&(e.const=!0),t.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseModuleBlock(){const e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkIdentifier(e.id,1024),this.eat(16)){const t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t}else this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.global=!0,e.id=this.parseIdentifier()):this.match(133)?e.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,t,s){e.isExport=s||!1,e.id=t||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);const i=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==i.type&&this.raise(vt.ImportAliasHasImportType,i),e.moduleReference=i,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){const t=this.state.clone(),s=e();return this.state=t,s}tsTryParseAndCatch(e){const t=this.tryParse((t=>e()||t()));if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node}tsTryParse(e){const t=this.state.clone(),s=e();if(void 0!==s&&!1!==s)return s;this.state=t}tsTryParseDeclare(e){if(this.isLineTerminator())return;let t,s=this.state.type;return this.isContextual(100)&&(s=74,t="let"),this.tsInAmbientContext((()=>{switch(s){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 75:case 74:return this.match(75)&&this.isLookaheadContextual("enum")?(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0})):(e.declare=!0,this.parseVarStatement(e,t||this.state.value,!0));case 129:{const t=this.tsParseInterfaceDeclaration(e,{declare:!0});if(t)return t}default:if(z(s))return this.tsParseDeclaration(e,this.state.value,!0,null)}}))}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(e,t,s){switch(t.name){case"declare":{const t=this.tsTryParseDeclare(e);return t&&(t.declare=!0),t}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);const s=e;return s.global=!0,s.id=t,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(e,t.name,!1,s)}}tsParseDeclaration(e,t,s,i){switch(t){case"abstract":if(this.tsCheckLineTerminator(s)&&(this.match(80)||z(this.state.type)))return this.tsParseAbstractDeclaration(e,i);break;case"module":if(this.tsCheckLineTerminator(s)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(e);if(z(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e)}break;case"namespace":if(this.tsCheckLineTerminator(s)&&z(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminator(s)&&z(this.state.type))return this.tsParseTypeAliasDeclaration(e)}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;const t=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const s=this.tsTryParseAndCatch((()=>{const t=this.startNodeAt(e);return t.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(t),t.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),t}));return this.state.maybeInArrowParameters=t,s?super.parseArrowExpression(s,null,!0):void 0}tsParseTypeArgumentsInExpression(){if(47===this.reScan_lt())return this.tsParseTypeArguments()}tsParseTypeArguments(){const e=this.startNode();return e.params=this.tsInType((()=>this.tsInNoContext((()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))))),0===e.params.length?this.raise(vt.EmptyTypeArguments,e):this.state.inType||this.curContext()!==A.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return(e=this.state.type)>=124&&e<=130;var e}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseAssignableListItem(e,t){const s=this.state.startLoc,i={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},i);const r=i.accessibility,n=i.override,o=i.readonly;4&e||!(r||o||n)||this.raise(vt.UnexpectedParameterModifier,s);const a=this.parseMaybeDefault();this.parseAssignableListItemTypes(a,e);const l=this.parseMaybeDefault(a.loc.start,a);if(r||o||n){const e=this.startNodeAt(s);return t.length&&(e.decorators=t),r&&(e.accessibility=r),o&&(e.readonly=o),n&&(e.override=n),"Identifier"!==l.type&&"AssignmentPattern"!==l.type&&this.raise(vt.UnsupportedParameterPropertyKind,e),e.parameter=l,this.finishNode(e,"TSParameterProperty")}return t.length&&(a.decorators=t),l}isSimpleParameter(e){return"TSParameterProperty"===e.type&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e)}tsDisallowOptionalPattern(e){for(const t of e.params)"Identifier"!==t.type&&t.optional&&!this.state.isAmbientContext&&this.raise(vt.PatternIsOptional,t)}setArrowFunctionParameters(e,t,s){super.setArrowFunctionParameters(e,t,s),this.tsDisallowOptionalPattern(e)}parseFunctionBodyAndFinish(e,t,s=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const i="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;return i&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,i):"TSDeclareFunction"===i&&this.state.isAmbientContext&&(this.raise(vt.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,i,s):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,t,s))}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e)}tsCheckForInvalidTypeCasts(e){e.forEach((e=>{"TSTypeCastExpression"===(null==e?void 0:e.type)&&this.raise(vt.UnexpectedTypeAnnotation,e.typeAnnotation)}))}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(e,t,s,i){const r=super.parseArrayLike(e,t,s,i);return"ArrayExpression"===r.type&&this.tsCheckForInvalidTypeCasts(r.elements),r}parseSubscript(e,t,s,i){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const s=this.startNodeAt(t);return s.expression=e,this.finishNode(s,"TSNonNullExpression")}let r=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(s)return i.stop=!0,e;i.optionalChainMember=r=!0,this.next()}if(this.match(47)||this.match(51)){let n;const o=this.tsTryParseAndCatch((()=>{if(!s&&this.atPossibleAsyncArrow(e)){const e=this.tsTryParseGenericAsyncArrowFunction(t);if(e)return e}const o=this.tsParseTypeArgumentsInExpression();if(!o)return;if(r&&!this.match(10))return void(n=this.state.curPosition());if(Q(this.state.type)){const s=super.parseTaggedTemplateExpression(e,t,i);return s.typeParameters=o,s}if(!s&&this.eat(10)){const s=this.startNodeAt(t);return s.callee=e,s.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(s.arguments),s.typeParameters=o,i.optionalChainMember&&(s.optional=r),this.finishCallExpression(s,i.optionalChainMember)}const a=this.state.type;if(48===a||52===a||10!==a&&K(a)&&!this.hasPrecedingLineBreak())return;const l=this.startNodeAt(t);return l.expression=e,l.typeParameters=o,this.finishNode(l,"TSInstantiationExpression")}));if(n&&this.unexpected(n,10),o)return"TSInstantiationExpression"===o.type&&(this.match(16)||this.match(18)&&40!==this.lookaheadCharCode())&&this.raise(vt.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),o}return super.parseSubscript(e,t,s,i)}parseNewCallee(e){var t;super.parseNewCallee(e);const{callee:s}=e;"TSInstantiationExpression"!==s.type||null!=(t=s.extra)&&t.parenthesized||(e.typeParameters=s.typeParameters,e.callee=s.expression)}parseExprOp(e,t,s){let i;if(X(58)>s&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(i=this.isContextual(120)))){const r=this.startNodeAt(t);return r.expression=e,r.typeAnnotation=this.tsInType((()=>(this.next(),this.match(75)?(i&&this.raise(w.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType()))),this.finishNode(r,i?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(r,t,s)}return super.parseExprOp(e,t,s)}checkReservedWord(e,t,s,i){this.state.isAmbientContext||super.checkReservedWord(e,t,s,i)}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(vt.ImportReflectionHasImportType,e.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){const t=this.lookaheadCharCode();return e?123===t||42===t:61!==t}return!e&&this.isContextual(87)}applyImportPhase(e,t,s,i){super.applyImportPhase(e,t,s,i),t?e.exportKind="type"===s?"type":"value":e.importKind="type"===s||"typeof"===s?s:"value"}parseImport(e){if(this.match(133))return e.importKind="value",super.parseImport(e);let t;if(z(this.state.type)&&61===this.lookaheadCharCode())return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){const s=this.parseMaybeImportPhase(e,!1);if(61===this.lookaheadCharCode())return this.tsParseImportEqualsDeclaration(e,s);t=super.parseImportSpecifiersAndAfter(e,s)}else t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(vt.TypeImportCannotSpecifyDefaultAndNamed,t),t}parseExport(e,t){if(this.match(83)){this.next();const t=e;let s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(t,!1):t.importKind="value",this.tsParseImportEqualsDeclaration(t,s,!0)}if(this.eat(29)){const t=e;return t.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExportAssignment")}if(this.eatContextual(93)){const t=e;return this.expectContextual(128),t.id=this.parseIdentifier(),this.semicolon(),this.finishNode(t,"TSNamespaceExportDeclaration")}return super.parseExport(e,t)}isAbstractClass(){return this.isContextual(124)&&80===this.lookahead().type}parseExportDefaultExpression(){if(this.isAbstractClass()){const e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0)}if(this.match(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseExportDefaultExpression()}parseVarStatement(e,t,s=!1){const{isAmbientContext:i}=this.state,r=super.parseVarStatement(e,t,s||i);if(!i)return r;for(const{id:e,init:s}of r.declarations)s&&("const"!==t||e.typeAnnotation?this.raise(vt.InitializerNotAllowedInAmbientContext,s):St(s,this.hasPlugin("estree"))||this.raise(vt.ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference,s));return r}parseStatementContent(e,t){if(this.match(75)&&this.isLookaheadContextual("enum")){const e=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(e,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseStatementContent(e,t)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,t){return t.some((t=>bt(t)?e.accessibility===t:!!e[t]))}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&123===this.lookaheadCharCode()}parseClassMember(e,t,s){const i=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:i,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:vt.InvalidModifierOnTypeParameterPositions},t);const r=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,i)&&this.raise(vt.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,s,!!t.static)};t.declare?this.tsInAmbientContext(r):r()}parseClassMemberWithIsStatic(e,t,s,i){const r=this.tsTryParseIndexSignature(t);if(r)return e.body.push(r),t.abstract&&this.raise(vt.IndexSignatureHasAbstract,t),t.accessibility&&this.raise(vt.IndexSignatureHasAccessibility,t,{modifier:t.accessibility}),t.declare&&this.raise(vt.IndexSignatureHasDeclare,t),void(t.override&&this.raise(vt.IndexSignatureHasOverride,t));!this.state.inAbstractClass&&t.abstract&&this.raise(vt.NonAbstractClassHasAbstractMethod,t),t.override&&(s.hadSuperClass||this.raise(vt.OverrideNotInSubClass,t)),super.parseClassMemberWithIsStatic(e,t,s,i)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(vt.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(vt.ClassMethodHasDeclare,e)}parseExpressionStatement(e,t,s){return("Identifier"===t.type?this.tsParseExpressionStatement(e,t,s):void 0)||super.parseExpressionStatement(e,t,s)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(e,t,s){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(e,t,s);const i=this.tryParse((()=>super.parseConditional(e,t)));return i.node?(i.error&&(this.state=i.failState),i.node):(i.error&&super.setOptionalParametersError(s,i.error),e)}parseParenItem(e,t){const s=super.parseParenItem(e,t);if(this.eat(17)&&(s.optional=!0,this.resetEndLocation(e)),this.match(14)){const s=this.startNodeAt(t);return s.expression=e,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return e}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext((()=>this.parseExportDeclaration(e)));const t=this.state.startLoc,s=this.eatContextual(125);if(s&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(vt.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const i=z(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return i?(("TSInterfaceDeclaration"===i.type||"TSTypeAliasDeclaration"===i.type||s)&&(e.exportKind="type"),s&&(this.resetStartLocation(i,t),i.declare=!0),i):null}parseClassId(e,t,s,i){if((!t||s)&&this.isContextual(113))return;super.parseClassId(e,t,s,e.declare?1024:8331);const r=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);r&&(e.typeParameters=r)}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));const t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&(!e.readonly||e.typeAnnotation)&&this.match(29)&&this.raise(vt.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){const{key:t}=e;this.raise(vt.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:"Identifier"!==t.type||e.computed?`[${this.input.slice(t.start,t.end)}]`:t.name})}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(vt.PrivateElementHasAbstract,e),e.accessibility&&this.raise(vt.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(vt.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e)}pushClassMethod(e,t,s,i,r,n){const o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&r&&this.raise(vt.ConstructorHasTypeParameters,o);const{declare:a=!1,kind:l}=t;!a||"get"!==l&&"set"!==l||this.raise(vt.DeclareAccessor,t,{kind:l}),o&&(t.typeParameters=o),super.pushClassMethod(e,t,s,i,r,n)}pushClassPrivateMethod(e,t,s,i){const r=this.tsTryParseTypeParameters(this.tsParseConstModifier);r&&(t.typeParameters=r),super.pushClassPrivateMethod(e,t,s,i)}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"!==e.type&&("MethodDefinition"!==e.type||hasOwnProperty.call(e.value,"body"))&&super.declareClassPrivateMethodInScope(e,t)}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,t,s,i,r,n,o){const a=this.tsTryParseTypeParameters(this.tsParseConstModifier);return a&&(e.typeParameters=a),super.parseObjPropValue(e,t,s,i,r,n,o)}parseFunctionParams(e,t){const s=this.tsTryParseTypeParameters(this.tsParseConstModifier);s&&(e.typeParameters=s),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);const s=this.tsTryParseTypeAnnotation();s&&(e.id.typeAnnotation=s,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t)}parseMaybeAssign(e,t){var s,i,r,n,o;let a,l,h,c;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(a=this.state.clone(),l=this.tryParse((()=>super.parseMaybeAssign(e,t)),a),!l.error)return l.node;const{context:s}=this.state,i=s[s.length-1];i!==A.j_oTag&&i!==A.j_expr||s.pop()}if(!(null!=(s=l)&&s.error||this.match(47)))return super.parseMaybeAssign(e,t);a&&a!==this.state||(a=this.state.clone());const d=this.tryParse((s=>{var i,r;c=this.tsParseTypeParameters(this.tsParseConstModifier);const n=super.parseMaybeAssign(e,t);return("ArrowFunctionExpression"!==n.type||null!=(i=n.extra)&&i.parenthesized)&&s(),0!==(null==(r=c)?void 0:r.params.length)&&this.resetStartLocationFromNode(n,c),n.typeParameters=c,n}),a);if(!d.error&&!d.aborted)return c&&this.reportReservedArrowTypeParam(c),d.node;if(!l&&(xt(!this.hasPlugin("jsx")),h=this.tryParse((()=>super.parseMaybeAssign(e,t)),a),!h.error))return h.node;if(null!=(i=l)&&i.node)return this.state=l.failState,l.node;if(d.node)return this.state=d.failState,c&&this.reportReservedArrowTypeParam(c),d.node;if(null!=(r=h)&&r.node)return this.state=h.failState,h.node;throw(null==(n=l)?void 0:n.error)||d.error||(null==(o=h)?void 0:o.error)}reportReservedArrowTypeParam(e){var t;1!==e.params.length||e.params[0].constraint||null!=(t=e.extra)&&t.trailingComma||!this.getPluginOption("typescript","disallowAmbiguousJSXLike")||this.raise(vt.ReservedArrowTypeParam,e)}parseMaybeUnary(e,t){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse((e=>{const t=this.tsParseTypeOrTypePredicateAnnotation(14);return!this.canInsertSemicolon()&&this.match(19)||e(),t}));if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node)}return super.parseArrow(e)}parseAssignableListItemTypes(e,t){if(!(2&t))return e;this.eat(17)&&(e.optional=!0);const s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),this.resetEndLocation(e),e}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t)}}toAssignable(e,t=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,t);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":t?this.expressionScope.recordArrowParameterBindingError(vt.UnexpectedTypeCastInParameter,e):this.raise(vt.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,t);break;case"AssignmentExpression":t||"TSTypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,t)}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;default:super.toAssignable(e,t)}}checkToRestConversion(e,t){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,t)}}isValidLVal(e,t,s){return i={TSTypeCastExpression:!0,TSParameterProperty:"parameter",TSNonNullExpression:"expression",TSAsExpression:(64!==s||!t)&&["expression",!0],TSSatisfiesExpression:(64!==s||!t)&&["expression",!0],TSTypeAssertion:(64!==s||!t)&&["expression",!0]},r=e,hasOwnProperty.call(i,r)&&i[r]||super.isValidLVal(e,t,s);var i,r}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(e){if(this.match(47)||this.match(51)){const t=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const s=super.parseMaybeDecoratorArguments(e);return s.typeParameters=t,s}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(e)}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(e,t){const s=super.parseMaybeDefault(e,t);return"AssignmentPattern"===s.type&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(vt.TypeAnnotationAfterAssign,s.typeAnnotation),s}getTokenFromCode(e){if(this.state.inType){if(62===e)return void this.finishOp(48,1);if(60===e)return void this.finishOp(47,1)}super.getTokenFromCode(e)}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}toAssignableList(e,t,s){for(let t=0;t<e.length;t++){const s=e[t];"TSTypeCastExpression"===(null==s?void 0:s.type)&&(e[t]=this.typeCastToParameter(s))}super.toAssignableList(e,t,s)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every((e=>this.isAssignable(e,!0))):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){const t=this.tsTryParseAndCatch((()=>this.tsParseTypeArgumentsInExpression()));t&&(e.typeParameters=t)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){const t=super.getGetterSetterExpectedParamCount(e),s=this.getObjectOrClassMethodParams(e)[0];return s&&this.isThisParam(s)?t+1:t}parseCatchClauseParam(){const e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e}tsInAmbientContext(e){const t=this.state.isAmbientContext;this.state.isAmbientContext=!0;try{return e()}finally{this.state.isAmbientContext=t}}parseClass(e,t,s){const i=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,t,s)}finally{this.state.inAbstractClass=i}}tsParseAbstractDeclaration(e,t){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(t,this.parseClass(e,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return e.abstract=!0,this.raise(vt.NonClassMethodPropertyHasAbstractModifer,e),this.tsParseInterfaceDeclaration(e)}else this.unexpected(null,80)}parseMethod(e,t,s,i,r,n,o){const a=super.parseMethod(e,t,s,i,r,n,o);if(a.abstract&&(this.hasPlugin("estree")?a.value.body:a.body)){const{key:e}=a;this.raise(vt.AbstractMethodHasImplementation,a,{methodName:"Identifier"!==e.type||a.computed?`[${this.input.slice(e.start,e.end)}]`:e.name})}return a}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,t,s,i){return!t&&i?(this.parseTypeOnlyImportExportSpecifier(e,!1,s),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,s,i))}parseImportSpecifier(e,t,s,i,r){return!t&&i?(this.parseTypeOnlyImportExportSpecifier(e,!0,s),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,s,i,s?4098:4096))}parseTypeOnlyImportExportSpecifier(e,t,s){const i=t?"imported":"local",r=t?"local":"exported";let n,o=e[i],a=!1,l=!0;const h=o.loc.start;if(this.isContextual(93)){const e=this.parseIdentifier();if(this.isContextual(93)){const s=this.parseIdentifier();j(this.state.type)?(a=!0,o=e,n=t?this.parseIdentifier():this.parseModuleExportName(),l=!1):(n=s,l=!1)}else j(this.state.type)?(l=!1,n=t?this.parseIdentifier():this.parseModuleExportName()):(a=!0,o=e)}else j(this.state.type)&&(a=!0,t?(o=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(o.name,o.loc.start,!0,!0)):o=this.parseModuleExportName());a&&s&&this.raise(t?vt.TypeModifierIsUsedInTypeImports:vt.TypeModifierIsUsedInTypeExports,h),e[i]=o,e[r]=n,e[t?"importKind":"exportKind"]=a?"type":"value",l&&this.eatContextual(93)&&(e[r]=t?this.parseIdentifier():this.parseModuleExportName()),e[r]||(e[r]=rt(e[i])),t&&this.checkIdentifier(e[r],a?4098:4096)}},v8intrinsic:e=>class extends e{parseV8Intrinsic(){if(this.match(54)){const e=this.state.startLoc,t=this.startNode();if(this.next(),z(this.state.type)){const e=this.parseIdentifierName(),s=this.createIdentifier(t,e);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(e)}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e)}},placeholders:e=>class extends e{parsePlaceholder(e){if(this.match(144)){const t=this.startNode();return this.next(),this.assertNoSpace(),t.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(t,e)}}finishPlaceholder(e,t){let s=e;return s.expectedNode&&s.type||(s=this.finishNode(s,"Placeholder")),s.expectedNode=t,s}getTokenFromCode(e){37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(144,2):super.getTokenFromCode(e)}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e)}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e)}checkReservedWord(e,t,s,i){void 0!==e&&super.checkReservedWord(e,t,s,i)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(e,t,s){return"Placeholder"===e||super.isValidLVal(e,t,s)}toAssignable(e,t){e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?e.expectedNode="Pattern":super.toAssignable(e,t)}chStartsBindingIdentifier(e,t){return!!super.chStartsBindingIdentifier(e,t)||144===this.lookahead().type}verifyBreakContinue(e,t){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(e,t)}parseExpressionStatement(e,t){var s;if("Placeholder"!==t.type||null!=(s=t.extra)&&s.parenthesized)return super.parseExpressionStatement(e,t);if(this.match(14)){const s=e;return s.label=this.finishPlaceholder(t,"Identifier"),this.next(),s.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(s,"LabeledStatement")}this.semicolon();const i=e;return i.name=t.name,this.finishPlaceholder(i,"Statement")}parseBlock(e,t,s){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,t,s)}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e)}parseClass(e,t,s){const i=t?"ClassDeclaration":"ClassExpression";this.next();const r=this.state.strict,n=this.parsePlaceholder("Identifier");if(n){if(!(this.match(81)||this.match(144)||this.match(5))){if(s||!t)return e.id=null,e.body=this.finishPlaceholder(n,"ClassBody"),this.finishNode(e,i);throw this.raise(Et.ClassNameIsRequired,this.state.startLoc)}e.id=n}else this.parseClassId(e,t,s);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,r),this.finishNode(e,i)}parseExport(e,t){const s=this.parsePlaceholder("Identifier");if(!s)return super.parseExport(e,t);const i=e;if(!this.isContextual(98)&&!this.match(12))return i.specifiers=[],i.source=null,i.declaration=this.finishPlaceholder(s,"Declaration"),this.finishNode(i,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const r=this.startNode();return r.exported=s,i.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],super.parseExport(i,t)}isExportDefaultSpecifier(){if(this.match(65)){const e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(q(144),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e,t){var s;return!(null==(s=e.specifiers)||!s.length)||super.maybeParseExportDefaultSpecifier(e,t)}checkExport(e){const{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter((e=>"Placeholder"===e.exported.type))),super.checkExport(e),e.specifiers=t}parseImport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");const s=this.startNodeAtNode(t);return s.local=t,e.specifiers.push(this.finishNode(s,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)),this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(Et.UnexpectedSpace,this.state.lastTokEndLoc)}}},Rt=Object.keys(Nt),Dt={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};class Ot extends wt{checkProto(e,t,s,i){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return;const r=e.key;if("__proto__"===("Identifier"===r.type?r.name:r.value)){if(t)return void this.raise(w.RecordNoProto,r);s.used&&(i?null===i.doubleProtoLoc&&(i.doubleProtoLoc=r.loc.start):this.raise(w.DuplicateProto,r)),s.used=!0}}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&e.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();const e=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd((()=>this.parseExpressionBase(t))):this.allowInAnd((()=>this.parseExpressionBase(t)))}parseExpressionBase(e){const t=this.state.startLoc,s=this.parseMaybeAssign(e);if(this.match(12)){const i=this.startNodeAt(t);for(i.expressions=[s];this.eat(12);)i.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(i.expressions),this.finishNode(i,"SequenceExpression")}return s}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd((()=>this.parseMaybeAssign(e,t)))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd((()=>this.parseMaybeAssign(e,t)))}setOptionalParametersError(e,t){var s;e.optionalParametersLoc=null!=(s=null==t?void 0:t.loc)?s:this.state.startLoc}parseMaybeAssign(e,t){const s=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let e=this.parseYield();return t&&(e=t.call(this,e,s)),e}let i;e?i=!1:(e=new tt,i=!0);const{type:r}=this.state;(10===r||z(r))&&(this.state.potentialArrowAt=this.state.start);let n=this.parseMaybeConditional(e);if(t&&(n=t.call(this,n,s)),(o=this.state.type)>=29&&o<=33){const t=this.startNodeAt(s),i=this.state.value;if(t.operator=i,this.match(29)){this.toAssignable(n,!0),t.left=n;const i=s.index;null!=e.doubleProtoLoc&&e.doubleProtoLoc.index>=i&&(e.doubleProtoLoc=null),null!=e.shorthandAssignLoc&&e.shorthandAssignLoc.index>=i&&(e.shorthandAssignLoc=null),null!=e.privateKeyLoc&&e.privateKeyLoc.index>=i&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)}else t.left=n;return this.next(),t.right=this.parseMaybeAssign(),this.checkLVal(n,{in:this.finishNode(t,"AssignmentExpression")}),t}var o;return i&&this.checkExpressionErrors(e,!0),n}parseMaybeConditional(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,i=this.parseExprOps(e);return this.shouldExitDescending(i,s)?i:this.parseConditional(i,t,e)}parseConditional(e,t,s){if(this.eat(17)){const s=this.startNodeAt(t);return s.test=e,s.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),s.alternate=this.parseMaybeAssign(),this.finishNode(s,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,i=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(i,s)?i:this.parseExprOp(i,t,-1)}parseExprOp(e,t,s){if(this.isPrivateName(e)){const t=this.getPrivateNameSV(e);(s>=X(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(w.PrivateInExpectedIn,e,{identifierName:t}),this.classScope.usePrivateName(t,e.loc.start)}const i=this.state.type;if((r=i)>=39&&r<=59&&(this.prodParam.hasIn||!this.match(58))){let r=X(i);if(r>s){if(39===i){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const n=this.startNodeAt(t);n.left=e,n.operator=this.state.value;const o=41===i||42===i,a=40===i;if(a&&(r=X(42)),this.next(),39===i&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&96===this.state.type&&this.prodParam.hasAwait)throw this.raise(w.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);n.right=this.parseExprOpRightExpr(i,r);const l=this.finishNode(n,o||a?"LogicalExpression":"BinaryExpression"),h=this.state.type;if(a&&(41===h||42===h)||o&&40===h)throw this.raise(w.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(l,t,s)}}var r;return e}parseExprOpRightExpr(e,t){const s=this.state.startLoc;if(39===e)switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext((()=>this.parseHackPipeBody()));case"smart":return this.withTopicBindingContext((()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(w.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),s)}));case"fsharp":return this.withSoloAwaitPermittingContext((()=>this.parseFSharpPipelineBody(t)))}return this.parseExprOpBaseRightExpr(e,t)}parseExprOpBaseRightExpr(e,t){const s=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),s,57===e?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,s=this.parseMaybeAssign();return!d.has(s.type)||null!=(e=s.extra)&&e.parenthesized||this.raise(w.PipeUnparenthesizedBody,t,{type:s.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(w.PipeTopicUnused,t),s}checkExponentialAfterUnary(e){this.match(57)&&this.raise(w.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const s=this.state.startLoc,i=this.isContextual(96);if(i&&this.isAwaitAllowed()){this.next();const e=this.parseAwait(s);return t||this.checkExponentialAfterUnary(e),e}const r=this.match(34),n=this.startNode();if(o=this.state.type,B[o]){n.operator=this.state.value,n.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const s=this.match(89);if(this.next(),n.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&s){const e=n.argument;"Identifier"===e.type?this.raise(w.StrictDelete,n):this.hasPropertyAsPrivateName(e)&&this.raise(w.DeletePrivateField,n)}if(!r)return t||this.checkExponentialAfterUnary(n),this.finishNode(n,"UnaryExpression")}var o;const a=this.parseUpdate(n,r,e);if(i){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?K(e):K(e)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(w.AwaitNotInAsyncContext,s),this.parseAwait(s)}return a}parseUpdate(e,t,s){if(t){const t=e;return this.checkLVal(t.argument,{in:this.finishNode(t,"UpdateExpression")}),e}const i=this.state.startLoc;let r=this.parseExprSubscripts(s);if(this.checkExpressionErrors(s,!1))return r;for(;34===this.state.type&&!this.canInsertSemicolon();){const e=this.startNodeAt(i);e.operator=this.state.value,e.prefix=!1,e.argument=r,this.next(),this.checkLVal(r,{in:r=this.finishNode(e,"UpdateExpression")})}return r}parseExprSubscripts(e){const t=this.state.startLoc,s=this.state.potentialArrowAt,i=this.parseExprAtom(e);return this.shouldExitDescending(i,s)?i:this.parseSubscripts(i,t)}parseSubscripts(e,t,s){const i={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{e=this.parseSubscript(e,t,s,i),i.maybeAsyncArrow=!1}while(!i.stop);return e}parseSubscript(e,t,s,i){const{type:r}=this.state;if(!s&&15===r)return this.parseBind(e,t,s,i);if(Q(r))return this.parseTaggedTemplateExpression(e,t,i);let n=!1;if(18===r){if(s&&(this.raise(w.OptionalChainingNoNew,this.state.startLoc),40===this.lookaheadCharCode()))return i.stop=!0,e;i.optionalChainMember=n=!0,this.next()}if(!s&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,i,n);{const s=this.eat(0);return s||n||this.eat(16)?this.parseMember(e,t,i,s,n):(i.stop=!0,e)}}parseMember(e,t,s,i,r){const n=this.startNodeAt(t);return n.object=e,n.computed=i,i?(n.property=this.parseExpression(),this.expect(3)):this.match(138)?("Super"===e.type&&this.raise(w.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),n.property=this.parsePrivateName()):n.property=this.parseIdentifier(!0),s.optionalChainMember?(n.optional=r,this.finishNode(n,"OptionalMemberExpression")):this.finishNode(n,"MemberExpression")}parseBind(e,t,s,i){const r=this.startNodeAt(t);return r.object=e,this.next(),r.callee=this.parseNoCallExpr(),i.stop=!0,this.parseSubscripts(this.finishNode(r,"BindExpression"),t,s)}parseCoverCallAndAsyncArrowHead(e,t,s,i){const r=this.state.maybeInArrowParameters;let n=null;this.state.maybeInArrowParameters=!0,this.next();const o=this.startNodeAt(t);o.callee=e;const{maybeAsyncArrow:a,optionalChainMember:l}=s;a&&(this.expressionScope.enter(new qe(2)),n=new tt),l&&(o.optional=i),o.arguments=i?this.parseCallExpressionArguments(11):this.parseCallExpressionArguments(11,"Import"===e.type,"Super"!==e.type,o,n);let h=this.finishCallExpression(o,l);return a&&this.shouldParseAsyncArrow()&&!i?(s.stop=!0,this.checkDestructuringPrivate(n),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),h=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),h)):(a&&(this.checkExpressionErrors(n,!0),this.expressionScope.exit()),this.toReferencedArguments(h)),this.state.maybeInArrowParameters=r,h}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,s){const i=this.startNodeAt(t);return i.tag=e,i.quasi=this.parseTemplate(!0),s.optionalChainMember&&this.raise(w.OptionalChainingNoTemplate,t),this.finishNode(i,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&e.start===this.state.potentialArrowAt}expectImportAttributesPlugin(){this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")}finishCallExpression(e,t){if("Import"===e.callee.type)if(2===e.arguments.length&&(this.hasPlugin("moduleAttributes")||this.expectImportAttributesPlugin()),0===e.arguments.length||e.arguments.length>2)this.raise(w.ImportCallArity,e,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(const t of e.arguments)"SpreadElement"===t.type&&this.raise(w.ImportCallSpreadArgument,t);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,s,i,r){const n=[];let o=!0;const a=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){!t||this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")||this.raise(w.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),i&&this.addTrailingCommaExtraToNode(i),this.next();break}n.push(this.parseExprListItem(!1,r,s))}return this.state.inFSharpPipelineDirectBody=a,n}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var s;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(s=t.extra)?void 0:s.trailingCommaLoc),t.innerComments&&Ce(e,t.innerComments),t.callee.trailingComments&&Ce(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,s=null;const{type:i}=this.state;switch(i){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(w.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 136:return this.parseDecimalLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e)}case 2:case 1:return this.parseArrayLike(2===this.state.type?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(6===this.state.type?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:s=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(s,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(w.UnsupportedBind,e)}case 138:return this.raise(w.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);this.unexpected();break}case 47:{const e=this.input.codePointAt(this.nextTokenStart());oe(e)||62===e?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(z(i)){if(this.isContextual(127)&&123===this.lookaheadInLineCharCode())return this.parseModuleExpression();const e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,s=this.parseIdentifier();if(!t&&"async"===s.name&&!this.canInsertSemicolon()){const{type:e}=this.state;if(68===e)return this.resetPreviousNodeTrailingComments(s),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(s));if(z(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(s)):s;if(90===e)return this.resetPreviousNodeTrailingComments(s),this.parseDo(this.startNodeAtNode(s),!0)}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(s),[s],!1)):s}this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=n(this.state.endLoc,-1),this.parseTopicReference(s);this.unexpected()}parseTopicReference(e){const t=this.startNode(),s=this.state.startLoc,i=this.state.type;return this.next(),this.finishTopicReference(t,s,e,i)}finishTopicReference(e,t,s,i){if(this.testTopicReferenceConfiguration(s,t,i)){const i="smart"===s?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise("smart"===s?w.PrimaryTopicNotAllowed:w.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,i)}throw this.raise(w.PipeTopicUnconfiguredToken,t,{token:q(i)})}testTopicReferenceConfiguration(e,t,s){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:q(s)}]);case"smart":return 27===s;default:throw this.raise(w.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(Ze(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(w.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const s=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=s,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),!this.match(10)||this.scope.allowDirectSuper||this.options.allowSuperOutsideMethod?this.scope.allowSuper||this.options.allowSuperOutsideMethod||this.raise(w.UnexpectedSuper,e):this.raise(w.SuperNotAllowed,e),this.match(10)||this.match(0)||this.match(16)||this.raise(w.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(n(this.state.startLoc,1)),s=this.state.value;return this.next(),e.id=this.createIdentifier(t,s),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,s){e.meta=t;const i=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==s||i)&&this.raise(w.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:s}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){const t=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(w.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){const t=this.isContextual(105);if(t||this.unexpected(),this.expectPlugin(t?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(w.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=t?"source":"defer",this.parseImportCall(e)}return this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,s){return this.addExtra(s,"rawValue",e),this.addExtra(s,"raw",this.input.slice(s.start,this.state.end)),s.value=e,this.next(),this.finishNode(s,t)}parseLiteral(e,t){const s=this.startNode();return this.parseLiteralAtNode(e,t,s)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.parseLiteral(e.value,"RegExpLiteral");return t.pattern=e.pattern,t.flags=e.flags,t}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let s;this.next(),this.expressionScope.enter(new qe(1));const i=this.state.maybeInArrowParameters,r=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const n=this.state.startLoc,o=[],a=new tt;let l,h,c=!0;for(;!this.match(11);){if(c)c=!1;else if(this.expect(12,null===a.optionalParametersLoc?null:a.optionalParametersLoc),this.match(11)){h=this.state.startLoc;break}if(this.match(21)){const e=this.state.startLoc;if(l=this.state.startLoc,o.push(this.parseParenItem(this.parseRestBinding(),e)),!this.checkCommaAfterRest(41))break}else o.push(this.parseMaybeAssignAllowIn(a,this.parseParenItem))}const d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=i,this.state.inFSharpPipelineDirectBody=r;let u=this.startNodeAt(t);return e&&this.shouldParseArrow(o)&&(u=this.parseArrow(u))?(this.checkDestructuringPrivate(a),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(u,o,!1),u):(this.expressionScope.exit(),o.length||this.unexpected(this.state.lastTokStartLoc),h&&this.unexpected(h),l&&this.unexpected(l),this.checkExpressionErrors(a,!0),this.toReferencedListDeep(o,!0),o.length>1?(s=this.startNodeAt(n),s.expressions=o,this.finishNode(s,"SequenceExpression"),this.resetEndLocation(s,d)):s=o[0],this.wrapParenthesis(t,s))}wrapParenthesis(e,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const s=this.startNodeAt(e);return s.expression=t,this.finishNode(s,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const s=this.parseMetaProperty(e,t,"target");return this.scope.inNonArrowFunction||this.scope.inClass||this.options.allowNewTargetOutsideFunction||this.raise(w.UnexpectedNewTarget,s),s}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),s=this.parseNoCallExpr();e.callee=s,!t||"Import"!==s.type&&"ImportExpression"!==s.type||this.raise(w.ImportCallNotNewExpression,s)}parseTemplateElement(e){const{start:t,startLoc:s,end:i,value:r}=this.state,o=t+1,a=this.startNodeAt(n(s,1));null===r&&(e||this.raise(w.InvalidEscapeSequenceTemplate,n(this.state.firstInvalidTemplateEscapePos,1)));const l=this.match(24),h=l?-1:-2,c=i+h;a.value={raw:this.input.slice(o,c).replace(/\r\n?/g,"\n"),cooked:null===r?null:r.slice(1,h)},a.tail=l,this.next();const d=this.finishNode(a,"TemplateElement");return this.resetEndLocation(d,n(this.state.lastTokEndLoc,h)),d}parseTemplate(e){const t=this.startNode();let s=this.parseTemplateElement(e);const i=[s],r=[];for(;!s.tail;)r.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),i.push(s=this.parseTemplateElement(e));return t.expressions=r,t.quasis=i,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,s,i){s&&this.expectPlugin("recordAndTuple");const r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const n=Object.create(null);let o=!0;const a=this.startNode();for(a.properties=[],this.next();!this.match(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(a);break}let r;t?r=this.parseBindingProperty():(r=this.parsePropertyDefinition(i),this.checkProto(r,s,n,i)),s&&!this.isObjectProperty(r)&&"SpreadElement"!==r.type&&this.raise(w.InvalidRecordProperty,r),r.shorthand&&this.addExtra(r,"shorthand",!0),a.properties.push(r)}this.next(),this.state.inFSharpPipelineDirectBody=r;let l="ObjectExpression";return t?l="ObjectPattern":s&&(l="RecordExpression"),this.finishNode(a,l)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(w.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const s=this.startNode();let i,r=!1,n=!1;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(s.decorators=t,t=[]),s.method=!1,e&&(i=this.state.startLoc);let o=this.eat(55);this.parsePropertyNamePrefixOperator(s);const a=this.state.containsEsc;if(this.parsePropertyName(s,e),!o&&!a&&this.maybeAsyncOrAccessorProp(s)){const{key:e}=s,t=e.name;"async"!==t||this.hasPrecedingLineBreak()||(r=!0,this.resetPreviousNodeTrailingComments(e),o=this.eat(55),this.parsePropertyName(s)),"get"!==t&&"set"!==t||(n=!0,this.resetPreviousNodeTrailingComments(e),s.kind=t,this.match(55)&&(o=!0,this.raise(w.AccessorIsGenerator,this.state.curPosition(),{kind:t}),this.next()),this.parsePropertyName(s))}return this.parseObjPropValue(s,i,o,r,!1,n,e)}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const s=this.getGetterSetterExpectedParamCount(e),i=this.getObjectOrClassMethodParams(e);i.length!==s&&this.raise("get"===e.kind?w.BadGetterArity:w.BadSetterArity,e),"set"===e.kind&&"RestElement"===(null==(t=i[i.length-1])?void 0:t.type)&&this.raise(w.BadSetterRestParameter,e)}parseObjectMethod(e,t,s,i,r){if(r){const s=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(s),s}if(s||t||this.match(10))return i&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,s,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,s,i){if(e.shorthand=!1,this.eat(14))return e.value=s?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(i),this.finishNode(e,"ObjectProperty");if(!e.computed&&"Identifier"===e.key.type){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),s)e.value=this.parseMaybeDefault(t,rt(e.key));else if(this.match(29)){const s=this.state.startLoc;null!=i?null===i.shorthandAssignLoc&&(i.shorthandAssignLoc=s):this.raise(w.InvalidCoverInitializedName,s),e.value=this.parseMaybeDefault(t,rt(e.key))}else e.value=rt(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,t,s,i,r,n,o){const a=this.parseObjectMethod(e,s,i,r,n)||this.parseObjectProperty(e,t,r,o);return a||this.unexpected(),a}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:s,value:i}=this.state;let r;if(j(s))r=this.parseIdentifier(!0);else switch(s){case 134:r=this.parseNumericLiteral(i);break;case 133:r=this.parseStringLiteral(i);break;case 135:r=this.parseBigIntLiteral(i);break;case 136:r=this.parseDecimalLiteral(i);break;case 138:{const e=this.state.startLoc;null!=t?null===t.privateKeyLoc&&(t.privateKeyLoc=e):this.raise(w.UnexpectedPrivateField,e),r=this.parsePrivateName();break}default:this.unexpected()}e.key=r,138!==s&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,s,i,r,n,o=!1){this.initFunction(e,s),e.generator=t,this.scope.enter(18|(o?64:0)|(r?32:0)),this.prodParam.enter(Ze(s,e.generator)),this.parseFunctionParams(e,i);const a=this.parseFunctionBodyAndFinish(e,n,!0);return this.prodParam.exit(),this.scope.exit(),a}parseArrayLike(e,t,s,i){s&&this.expectPlugin("recordAndTuple");const r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const n=this.startNode();return this.next(),n.elements=this.parseExprList(e,!s,i,n),this.state.inFSharpPipelineDirectBody=r,this.finishNode(n,s?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,s,i){this.scope.enter(6);let r=Ze(s,!1);!this.match(5)&&this.prodParam.hasIn&&(r|=8),this.prodParam.enter(r),this.initFunction(e,s);const n=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,i)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=n,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,s){this.toAssignableList(t,s,!1),e.params=t}parseFunctionBodyAndFinish(e,t,s=!1){return this.parseFunctionBody(e,!1,s),this.finishNode(e,t)}parseFunctionBody(e,t,s=!1){const i=t&&!this.match(5);if(this.expressionScope.enter(Qe()),i)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const i=this.state.strict,r=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,(r=>{const n=!this.isSimpleParamList(e.params);r&&n&&this.raise(w.IllegalLanguageModeDirective,"method"!==e.kind&&"constructor"!==e.kind||!e.key?e:e.key.loc.end);const o=!i&&this.state.strict;this.checkParams(e,!(this.state.strict||t||s||n),t,o),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,o)})),this.prodParam.exit(),this.state.labels=r}this.expressionScope.exit()}isSimpleParameter(e){return"Identifier"===e.type}isSimpleParamList(e){for(let t=0,s=e.length;t<s;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,s,i=!0){const r=!t&&new Set,n={type:"FormalParameters"};for(const t of e.params)this.checkLVal(t,{in:n,binding:5,checkClashes:r,strictModeChanged:i})}parseExprList(e,t,s,i){const r=[];let n=!0;for(;!this.eat(e);){if(n)n=!1;else if(this.expect(12),this.match(e)){i&&this.addTrailingCommaExtraToNode(i),this.next();break}r.push(this.parseExprListItem(t,s))}return r}parseExprListItem(e,t,s){let i;if(this.match(12))e||this.raise(w.UnexpectedToken,this.state.curPosition(),{unexpected:","}),i=null;else if(this.match(21)){const e=this.state.startLoc;i=this.parseParenItem(this.parseSpread(t),e)}else if(this.match(17)){this.expectPlugin("partialApplication"),s||this.raise(w.UnexpectedArgumentPlaceholder,this.state.startLoc);const e=this.startNode();this.next(),i=this.finishNode(e,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return i}parseIdentifier(e){const t=this.startNode(),s=this.parseIdentifierName(e);return this.createIdentifier(t,s)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e){let t;const{startLoc:s,type:i}=this.state;j(i)?t=this.state.value:this.unexpected();const r=i<=92;return e?r&&this.replaceToken(132):this.checkReservedWord(t,s,r,!1),this.next(),t}checkReservedWord(e,t,s,i){if(!(e.length>10)&&function(e){return ge.has(e)}(e))if(s&&function(e){return le.has(e)}(e))this.raise(w.UnexpectedKeyword,t,{keyword:e});else if((this.state.strict?i?me:ue:de)(e,this.inModule))this.raise(w.UnexpectedReservedWord,t,{reservedWord:e});else if("yield"===e){if(this.prodParam.hasYield)return void this.raise(w.YieldBindingIdentifier,t)}else if("await"===e){if(this.prodParam.hasAwait)return void this.raise(w.AwaitBindingIdentifier,t);if(this.scope.inStaticBlock)return void this.raise(w.AwaitBindingIdentifierInStaticBlock,t);this.expressionScope.recordAsyncArrowParametersError(t)}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction)return void this.raise(w.ArgumentsInClass,t)}isAwaitAllowed(){return!!this.prodParam.hasAwait||!(!this.options.allowAwaitOutsideFunction||this.scope.inFunction)}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(w.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(w.ObsoleteAwaitStar,t),this.scope.inFunction||this.options.allowAwaitOutsideFunction||(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return 53===e||10===e||0===e||Q(e)||102===e&&!this.state.containsEsc||137===e||56===e||this.hasPlugin("v8intrinsic")&&54===e}parseYield(){const e=this.startNode();this.expressionScope.recordParameterInitializerError(w.YieldInParameter,e),this.next();let t=!1,s=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:s=this.parseMaybeAssign()}return e.delegate=t,e.argument=s,this.finishNode(e,"YieldExpression")}parseImportCall(e){return this.next(),e.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(e.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(e.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&"SequenceExpression"===e.type&&this.raise(w.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const s=this.startNodeAt(t);return s.callee=e,this.finishNode(s,"PipelineBareFunction")}{const s=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),s.expression=e,this.finishNode(s,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(w.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(w.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(!this.hasPlugin(["pipelineOperator",{proposal:"smart"}]))return e();{const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const i=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=s,i}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const s=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{s()}return this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}}const Ft={kind:1},_t={kind:2},Bt=/[\uD800-\uDFFF]/u,Wt=/in(?:stanceof)?/y;class Ht extends Ot{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.comments,this.options.tokens&&(e.tokens=function(e,t){for(let s=0;s<e.length;s++){const i=e[s],{type:r}=i;if("number"==typeof r){if(138===r){const{loc:t,start:r,value:o,end:a}=i,l=r+1,h=n(t.start,1);e.splice(s,1,new je({type:J(27),value:"#",start:r,end:l,startLoc:t.start,endLoc:h}),new je({type:J(132),value:o,start:l,end:a,startLoc:h,endLoc:t.end})),s++;continue}if(Q(r)){const{loc:o,start:a,value:l,end:h}=i,c=a+1,d=n(o.start,1);let u,p,m,g,f;u=96===t.charCodeAt(a)?new je({type:J(22),value:"`",start:a,end:c,startLoc:o.start,endLoc:d}):new je({type:J(8),value:"}",start:a,end:c,startLoc:o.start,endLoc:d}),24===r?(m=h-1,g=n(o.end,-1),p=null===l?null:l.slice(1,-1),f=new je({type:J(22),value:"`",start:m,end:h,startLoc:g,endLoc:o.end})):(m=h-2,g=n(o.end,-2),p=null===l?null:l.slice(1,-2),f=new je({type:J(23),value:"${",start:m,end:h,startLoc:g,endLoc:o.end})),e.splice(s,1,u,new je({type:J(20),value:p,start:c,end:m,startLoc:d,endLoc:g}),f),s+=2;continue}i.type=J(r)}}return e}(this.tokens,this.input)),this.finishNode(e,"File")}parseProgram(e,t=139,s=this.options.sourceType){if(e.sourceType=s,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[e,t]of Array.from(this.scope.undefinedExports))this.raise(w.ModuleExportUndefined,t,{localName:e});let i;return i=139===t?this.finishNode(e,"Program"):this.finishNodeAt(e,"Program",n(this.state.startLoc,-1)),i}stmtToDirective(e){const t=e;t.type="Directive",t.value=t.expression,delete t.expression;const s=t.value,i=s.value,r=this.input.slice(s.start,s.end),n=s.value=r.slice(1,-1);return this.addExtra(s,"raw",r),this.addExtra(s,"rawValue",n),this.addExtra(s,"expressionValue",i),s.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return!!this.isContextual(100)&&this.hasFollowingBindingAtom()}chStartsBindingIdentifier(e,t){if(oe(e)){if(Wt.lastIndex=t,Wt.test(this.input)){const e=this.codePointAtPos(Wt.lastIndex);if(!ae(e)&&92!==e)return!1}return!0}return 92===e}chStartsBindingPattern(e){return 91===e||123===e}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifier(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return this.chStartsBindingIdentifier(t,e)}startsUsingForOf(){const{type:e,containsEsc:t}=this.lookahead();return!(102===e&&!t)&&(z(e)&&!this.hasFollowingLineBreak()?(this.expectPlugin("explicitResourceManagement"),!0):void 0)}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const s=this.state.type,i=this.startNode(),r=!!(2&e),n=!!(4&e),o=1&e;switch(s){case 60:return this.parseBreakContinueStatement(i,!0);case 63:return this.parseBreakContinueStatement(i,!1);case 64:return this.parseDebuggerStatement(i);case 90:return this.parseDoWhileStatement(i);case 91:return this.parseForStatement(i);case 68:if(46===this.lookaheadCharCode())break;return n||this.raise(this.state.strict?w.StrictFunction:this.options.annexB?w.SloppyFunctionAnnexB:w.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(i,!1,!r&&n);case 80:return r||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,i),!0);case 69:return this.parseIfStatement(i);case 70:return this.parseReturnStatement(i);case 71:return this.parseSwitchStatement(i);case 72:return this.parseThrowStatement(i);case 73:return this.parseTryStatement(i);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.isAwaitAllowed()?r||this.raise(w.UnexpectedLexicalDeclaration,i):this.raise(w.AwaitUsingNotInAsyncContext,i),this.next(),this.parseVarStatement(i,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifier())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(w.UnexpectedUsingDeclaration,this.state.startLoc):r||this.raise(w.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(i,"using");case 100:{if(this.state.containsEsc)break;const e=this.nextTokenStart(),t=this.codePointAtPos(e);if(91!==t){if(!r&&this.hasFollowingLineBreak())break;if(!this.chStartsBindingIdentifier(t,e)&&123!==t)break}}case 75:r||this.raise(w.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const e=this.state.value;return this.parseVarStatement(i,e)}case 92:return this.parseWhileStatement(i);case 76:return this.parseWithStatement(i);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(i);case 83:{const e=this.lookaheadCharCode();if(40===e||46===e)break}case 82:{let e;return this.options.allowImportExportEverywhere||o||this.raise(w.UnexpectedImportExport,this.state.startLoc),this.next(),83===s?(e=this.parseImport(i),"ImportDeclaration"!==e.type||e.importKind&&"value"!==e.importKind||(this.sawUnambiguousESM=!0)):(e=this.parseExport(i,t),("ExportNamedDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&("ExportAllDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&"ExportDefaultDeclaration"!==e.type||(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(e),e}default:if(this.isAsyncFunction())return r||this.raise(w.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(i,!0,!r&&n)}const a=this.state.value,l=this.parseExpression();return z(s)&&"Identifier"===l.type&&this.eat(14)?this.parseLabeledStatement(i,a,l,e):this.parseExpressionStatement(i,l,t)}assertModuleNodeAllowed(e){this.options.allowImportExportEverywhere||this.inModule||this.raise(w.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return!!this.hasPlugin("decorators-legacy")||this.hasPlugin("decorators")&&!1!==this.getPluginOption("decorators","decoratorsBeforeExport")}maybeTakeDecorators(e,t,s){return e&&(t.decorators&&t.decorators.length>0?("boolean"!=typeof this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(w.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),s&&this.resetStartLocationFromNode(s,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do{t.push(this.parseDecorator())}while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(w.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(w.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let s;if(this.match(10)){const t=this.state.startLoc;this.next(),s=this.parseExpression(),this.expect(11),s=this.wrapParenthesis(t,s);const i=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(s),!1===this.getPluginOption("decorators","allowCallParenthesized")&&e.expression!==s&&this.raise(w.DecoratorArgumentsOutsideParentheses,i)}else{for(s=this.parseIdentifier(!1);this.eat(16);){const e=this.startNodeAt(t);e.object=s,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),e.property=this.parsePrivateName()):e.property=this.parseIdentifier(!0),e.computed=!1,s=this.finishNode(e,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(s)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){const t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let s;for(s=0;s<this.state.labels.length;++s){const i=this.state.labels[s];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(t||1===i.kind))break;if(e.label&&t)break}}if(s===this.state.labels.length){const s=t?"BreakStatement":"ContinueStatement";this.raise(w.IllegalBreakContinue,e,{type:s})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(Ft),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(Ft);let t=null;if(this.isAwaitAllowed()&&this.eatContextual(96)&&(t=this.state.lastTokStartLoc),this.scope.enter(0),this.expect(10),this.match(13))return null!==t&&this.unexpected(t),this.parseFor(e,null);const s=this.isContextual(100);{const i=this.isContextual(96)&&this.startsAwaitUsing(),r=i||this.isContextual(107)&&this.startsUsingForOf(),n=s&&this.hasFollowingBindingAtom()||r;if(this.match(74)||this.match(75)||n){const s=this.startNode();let n;i?(n="await using",this.isAwaitAllowed()||this.raise(w.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):n=this.state.value,this.next(),this.parseVar(s,!0,n);const o=this.finishNode(s,"VariableDeclaration"),a=this.match(58);return a&&r&&this.raise(w.ForInUsing,o),(a||this.isContextual(102))&&1===o.declarations.length?this.parseForIn(e,o,t):(null!==t&&this.unexpected(t),this.parseFor(e,o))}}const i=this.isContextual(95),r=new tt,n=this.parseExpression(!0,r),o=this.isContextual(102);if(o&&(s&&this.raise(w.ForOfLet,n),null===t&&i&&"Identifier"===n.type&&this.raise(w.ForOfAsync,n)),o||this.match(58)){this.checkDestructuringPrivate(r),this.toAssignable(n,!0);const s=o?"ForOfStatement":"ForInStatement";return this.checkLVal(n,{in:{type:s}}),this.parseForIn(e,n,t)}return this.checkExpressionErrors(r,!0),null!==t&&this.unexpected(t),this.parseFor(e,n)}parseFunctionStatement(e,t,s){return this.next(),this.parseFunction(e,1|(s?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return this.prodParam.hasReturn||this.options.allowReturnOutsideFunction||this.raise(w.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];let s;this.expect(5),this.state.labels.push(_t),this.scope.enter(0);for(let e;!this.match(8);)if(this.match(61)||this.match(65)){const i=this.match(61);s&&this.finishNode(s,"SwitchCase"),t.push(s=this.startNode()),s.consequent=[],this.next(),i?s.test=this.parseExpression():(e&&this.raise(w.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),e=!0,s.test=null),this.expect(14)}else s?s.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),s&&this.finishNode(s,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(w.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&"Identifier"===e.type?8:0),this.checkLVal(e,{in:{type:"CatchClause"},binding:9}),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext((()=>this.parseBlock(!1,!1))),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,e.handler||e.finalizer||this.raise(w.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,s=!1){return this.next(),this.parseVar(e,!1,t,s),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(Ft),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(w.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,s,i){for(const e of this.state.labels)e.name===t&&this.raise(w.LabelRedeclaration,s,{labelName:t});const r=(n=this.state.type)>=90&&n<=92?1:this.match(71)?2:null;var n;for(let t=this.state.labels.length-1;t>=0;t--){const s=this.state.labels[t];if(s.statementStart!==e.start)break;s.statementStart=this.state.start,s.kind=r}return this.state.labels.push({name:t,kind:r,statementStart:this.state.start}),e.body=8&i?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=s,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,s){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,s){const i=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(i,e,!1,8,s),t&&this.scope.exit(),this.finishNode(i,"BlockStatement")}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized}parseBlockBody(e,t,s,i,r){const n=e.body=[],o=e.directives=[];this.parseBlockOrModuleBlockBody(n,t?o:void 0,s,i,r)}parseBlockOrModuleBlockBody(e,t,s,i,r){const n=this.state.strict;let o=!1,a=!1;for(;!this.match(i);){const i=s?this.parseModuleItem():this.parseStatementListItem();if(t&&!a){if(this.isValidDirective(i)){const e=this.stmtToDirective(i);t.push(e),o||"use strict"!==e.value.value||(o=!0,this.setStrict(!0));continue}a=!0,this.state.strictErrors.clear()}e.push(i)}null==r||r.call(this,o),n||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,s){const i=this.match(58);return this.next(),i?null!==s&&this.unexpected(s):e.await=null!==s,"VariableDeclaration"!==t.type||null==t.declarations[0].init||i&&this.options.annexB&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type||this.raise(w.ForInOfLoopInitializer,t,{type:i?"ForInStatement":"ForOfStatement"}),"AssignmentPattern"===t.type&&this.raise(w.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")}parseVar(e,t,s,i=!1){const r=e.declarations=[];for(e.kind=s;;){const e=this.startNode();if(this.parseVarId(e,s),e.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,null!==e.init||i||("Identifier"===e.id.type||t&&(this.match(58)||this.isContextual(102))?"const"!==s&&"using"!==s&&"await using"!==s||this.match(58)||this.isContextual(102)||this.raise(w.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:s}):this.raise(w.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"})),r.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const s=this.parseBindingAtom();this.checkLVal(s,{in:{type:"VariableDeclarator"},binding:"var"===t?5:8201}),e.id=s}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const s=2&t,i=!!(1&t),r=i&&!(4&t),n=!!(8&t);this.initFunction(e,n),this.match(55)&&(s&&this.raise(w.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),i&&(e.id=this.parseFunctionId(r));const o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Ze(n,e.generator)),i||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext((()=>{this.parseFunctionBodyAndFinish(e,i?"FunctionDeclaration":"FunctionExpression")})),this.prodParam.exit(),this.scope.exit(),i&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,e}parseFunctionId(e){return e||z(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(new Ye(3)),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,s){this.next();const i=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,s),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,i),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return"Identifier"===e.type&&"constructor"===e.name||"StringLiteral"===e.type&&"constructor"===e.value}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const s={hadConstructor:!1,hadSuperClass:e};let i=[];const r=this.startNode();if(r.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext((()=>{for(;!this.match(8);){if(this.eat(13)){if(i.length>0)throw this.raise(w.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){i.push(this.parseDecorator());continue}const e=this.startNode();i.length&&(e.decorators=i,this.resetStartLocationFromNode(e,i[0]),i=[]),this.parseClassMember(r,e,s),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(w.DecoratorConstructor,e)}})),this.state.strict=t,this.next(),i.length)throw this.raise(w.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(r,"ClassBody")}parseClassMemberFromModifier(e,t){const s=this.parseIdentifier(!0);if(this.isClassMethod()){const i=t;return i.kind="method",i.computed=!1,i.key=s,i.static=!1,this.pushClassMethod(e,i,!1,!1,!1,!1),!0}if(this.isClassProperty()){const i=t;return i.computed=!1,i.key=s,i.static=!1,e.body.push(this.parseClassProperty(i)),!0}return this.resetPreviousNodeTrailingComments(s),!1}parseClassMember(e,t,s){const i=this.isContextual(106);if(i){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5))return void this.parseClassStaticBlock(e,t)}this.parseClassMemberWithIsStatic(e,t,s,i)}parseClassMemberWithIsStatic(e,t,s,i){const r=t,n=t,o=t,a=t,l=t,h=r,c=r;if(t.static=i,this.parsePropertyNamePrefixOperator(t),this.eat(55)){h.kind="method";const t=this.match(138);return this.parseClassElementName(h),t?void this.pushClassPrivateMethod(e,n,!0,!1):(this.isNonstaticConstructor(r)&&this.raise(w.ConstructorIsGenerator,r.key),void this.pushClassMethod(e,r,!0,!1,!1,!1))}const d=!this.state.containsEsc&&z(this.state.type),u=this.parseClassElementName(t),p=d?u.name:null,m=this.isPrivateName(u),g=this.state.startLoc;if(this.parsePostMemberNameModifiers(c),this.isClassMethod()){if(h.kind="method",m)return void this.pushClassPrivateMethod(e,n,!1,!1);const i=this.isNonstaticConstructor(r);let o=!1;i&&(r.kind="constructor",s.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(w.DuplicateConstructor,u),i&&this.hasPlugin("typescript")&&t.override&&this.raise(w.OverrideOnConstructor,u),s.hadConstructor=!0,o=s.hadSuperClass),this.pushClassMethod(e,r,!1,!1,i,o)}else if(this.isClassProperty())m?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o);else if("async"!==p||this.isLineTerminator())if("get"!==p&&"set"!==p||this.match(55)&&this.isLineTerminator())if("accessor"!==p||this.isLineTerminator())this.isLineTerminator()?m?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o):this.unexpected();else{this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(u);const t=this.match(138);this.parseClassElementName(o),this.pushClassAccessorProperty(e,l,t)}else{this.resetPreviousNodeTrailingComments(u),h.kind=p;const t=this.match(138);this.parseClassElementName(r),t?this.pushClassPrivateMethod(e,n,!1,!1):(this.isNonstaticConstructor(r)&&this.raise(w.ConstructorIsAccessor,r.key),this.pushClassMethod(e,r,!1,!1,!1,!1)),this.checkGetterSetterParams(r)}else{this.resetPreviousNodeTrailingComments(u);const t=this.eat(55);c.optional&&this.unexpected(g),h.kind="method";const s=this.match(138);this.parseClassElementName(h),this.parsePostMemberNameModifiers(c),s?this.pushClassPrivateMethod(e,n,t,!0):(this.isNonstaticConstructor(r)&&this.raise(w.ConstructorIsAsync,r.key),this.pushClassMethod(e,r,t,!0,!1,!1))}}parseClassElementName(e){const{type:t,value:s}=this.state;if(132!==t&&133!==t||!e.static||"prototype"!==s||this.raise(w.StaticPrototype,this.state.startLoc),138===t){"constructor"===s&&this.raise(w.ConstructorClassPrivateField,this.state.startLoc);const t=this.parsePrivateName();return e.key=t,t}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var s;this.scope.enter(208);const i=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const r=t.body=[];this.parseBlockOrModuleBlockBody(r,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=i,e.body.push(this.finishNode(t,"StaticBlock")),null!=(s=t.decorators)&&s.length&&this.raise(w.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(w.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const s=this.parseClassPrivateProperty(t);e.body.push(s),this.classScope.declarePrivateName(this.getPrivateNameSV(s.key),0,s.key.loc.start)}pushClassAccessorProperty(e,t,s){s||t.computed||!this.nameIsConstructor(t.key)||this.raise(w.ConstructorClassField,t.key);const i=this.parseClassAccessorProperty(t);e.body.push(i),s&&this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassMethod(e,t,s,i,r,n){e.body.push(this.parseMethod(t,s,i,r,n,"ClassMethod",!0))}pushClassPrivateMethod(e,t,s,i){const r=this.parseMethod(t,s,i,!1,!1,"ClassPrivateMethod",!0);e.body.push(r);const n="get"===r.kind?r.static?6:2:"set"===r.kind?r.static?5:1:0;this.declareClassPrivateMethodInScope(r,n)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(Qe()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,s,i=8331){if(z(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,i);else{if(!s&&t)throw this.raise(w.MissingClassName,this.state.startLoc);e.id=null}}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const s=this.parseMaybeImportPhase(e,!0),i=this.maybeParseExportDefaultSpecifier(e,s),r=!i||this.eat(12),n=r&&this.eatExportStar(e),o=n&&this.maybeParseExportNamespaceSpecifier(e),a=r&&(!o||this.eat(12)),l=i||n;if(n&&!o){if(i&&this.unexpected(),t)throw this.raise(w.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration")}const h=this.maybeParseExportNamedSpecifiers(e);let c;if(i&&r&&!n&&!h&&this.unexpected(null,5),o&&a&&this.unexpected(null,98),l||h){if(c=!1,t)throw this.raise(w.UnsupportedDecoratorExport,e);this.parseExportFrom(e,l)}else c=this.maybeParseExportDeclaration(e);if(l||h||c){var d;const s=e;if(this.checkExport(s,!0,!1,!!s.source),"ClassDeclaration"===(null==(d=s.declaration)?void 0:d.type))this.maybeTakeDecorators(t,s.declaration,s);else if(t)throw this.raise(w.UnsupportedDecoratorExport,e);return this.finishNode(s,"ExportNamedDeclaration")}if(this.eat(65)){const s=e,i=this.parseExportDefaultExpression();if(s.declaration=i,"ClassDeclaration"===i.type)this.maybeTakeDecorators(t,i,s);else if(t)throw this.raise(w.UnsupportedDecoratorExport,e);return this.checkExport(s,!0,!0),this.finishNode(s,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",null==t?void 0:t.loc.start);const s=t||this.parseIdentifier(!0),i=this.startNodeAtNode(s);return i.exported=s,e.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t;null!=(t=e).specifiers||(t.specifiers=[]);const s=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),s.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(s,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const s="type"===t.exportKind;return t.specifiers.push(...this.parseExportSpecifiers(s)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0)}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(w.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(w.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(z(e)){if(95===e&&!this.state.containsEsc||100===e)return!1;if((130===e||129===e)&&!this.state.containsEsc){const{type:e}=this.lookahead();if(z(e)&&98!==e||5===e)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),s=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||z(this.state.type)&&s)return!0;if(this.match(65)&&s){const e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return 26===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(w.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)||this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(w.UsingDeclarationExport,this.state.startLoc),!0):74===e||75===e||68===e||80===e||this.isLet()||this.isAsyncFunction()}checkExport(e,t,s,i){var r;if(t)if(s){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var n;const t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!=4||null!=(n=t.extra)&&n.parenthesized||this.raise(w.ExportDefaultFromAsIdentifier,t)}}else if(null!=(r=e.specifiers)&&r.length)for(const t of e.specifiers){const{exported:e}=t,s="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(t,s),!i&&t.local){const{local:e}=t;"Identifier"!==e.type?this.raise(w.ExportBindingIsString,t,{localName:e.value,exportName:s}):(this.checkReservedWord(e.name,e.loc.start,!0,!1),this.scope.checkLocalExport(e))}}else if(e.declaration){const t=e.declaration;if("FunctionDeclaration"===t.type||"ClassDeclaration"===t.type){const{id:s}=t;if(!s)throw new Error("Assertion failure");this.checkDuplicateExports(e,s.name)}else if("VariableDeclaration"===t.type)for(const e of t.declarations)this.checkDeclaration(e.id)}}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(const t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(const t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&("default"===t?this.raise(w.DuplicateDefaultExport,e):this.raise(w.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let s=!0;for(this.expect(5);!this.eat(8);){if(s)s=!1;else if(this.expect(12),this.eat(8))break;const i=this.isContextual(130),r=this.match(133),n=this.startNode();n.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(n,r,e,i))}return t}parseExportSpecifier(e,t,s,i){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=function(e){const{type:t,start:s,end:i,loc:r,range:n,extra:o}=e;if("Placeholder"===t)return function(e){return rt(e)}(e);const a=Object.create(it);return a.type=t,a.start=s,a.end=i,a.loc=r,a.range=n,void 0!==e.raw?a.raw=e.raw:a.extra=o,a.value=e.value,a}(e.local):e.exported||(e.exported=rt(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){const e=this.parseStringLiteral(this.state.value),t=e.value.match(Bt);return t&&this.raise(w.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return null!=e.assertions&&e.assertions.some((({key:e,value:t})=>"json"===t.value&&("Identifier"===e.type?"type"===e.name:"type"===e.value)))}checkImportReflection(e){const{specifiers:t}=e,s=1===t.length?t[0].type:null;if("source"===e.phase)"ImportDefaultSpecifier"!==s&&this.raise(w.SourcePhaseImportRequiresDefault,t[0].loc.start);else if("defer"===e.phase)"ImportNamespaceSpecifier"!==s&&this.raise(w.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var i;"ImportDefaultSpecifier"!==s&&this.raise(w.ImportReflectionNotBinding,t[0].loc.start),(null==(i=e.assertions)?void 0:i.length)>0&&this.raise(w.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&"ExportAllDeclaration"!==e.type){const{specifiers:t}=e;if(null!=t){const e=t.find((e=>{let t;if("ExportSpecifier"===e.type?t=e.local:"ImportSpecifier"===e.type&&(t=e.imported),void 0!==t)return"Identifier"===t.type?"default"!==t.name:"default"!==t.value}));void 0!==e&&this.raise(w.ImportJSONBindingNotDefault,e.loc.start)}}}isPotentialImportPhase(e){return!e&&(this.isContextual(105)||this.isContextual(97)||this.isContextual(127))}applyImportPhase(e,t,s,i){t||("module"===s?(this.expectPlugin("importReflection",i),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),"source"===s?(this.expectPlugin("sourcePhaseImports",i),e.phase="source"):"defer"===s?(this.expectPlugin("deferredImportEvaluation",i),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const s=this.parseIdentifier(!0),{type:i}=this.state;return(j(i)?98!==i||102===this.lookaheadCharCode():12!==i)?(this.resetPreviousIdentifierLeadingComments(s),this.applyImportPhase(e,t,s.name,s.loc.start),null):(this.applyImportPhase(e,t,null),s)}isPrecedingIdImportPhase(e){const{type:t}=this.state;return z(t)?98!==t||102===this.lookaheadCharCode():12!==t}parseImport(e){return this.match(133)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const s=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),i=s&&this.maybeParseStarImportSpecifier(e);return s&&!i&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){return null!=e.specifiers||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,s){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,s))}finishImportSpecifier(e,t,s=8201){return this.checkLVal(e.local,{in:{type:t},binding:s}),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const s=this.startNode(),i=this.state.value;if(t.has(i)&&this.raise(w.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:i}),t.add(i),this.match(133)?s.key=this.parseStringLiteral(i):s.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(w.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const s=this.startNode();if(s.key=this.parseIdentifier(!0),"type"!==s.key.name&&this.raise(w.ModuleAttributeDifferentFromType,s.key),t.has(s.key.name)&&this.raise(w.ModuleAttributesWithDuplicateKeys,s.key,{key:s.key.name}),t.add(s.key.name),this.expect(14),!this.match(133))throw this.raise(w.ModuleAttributeInvalidValue,this.state.startLoc);s.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(s,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t,s=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&40===this.lookaheadCharCode())return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():(this.expectImportAttributesPlugin(),t=this.parseImportAttributes()),s=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(!0!==this.getPluginOption("importAttributes","deprecatedAssertSyntax")&&this.raise(w.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(e,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),t=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))t=[];else{if(!this.hasPlugin("moduleAttributes"))return;t=[]}!s&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const s=this.startNodeAtNode(t);return s.local=t,e.specifiers.push(this.finishImportSpecifier(s,"ImportDefaultSpecifier")),!0}return!!j(this.state.type)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0)}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(w.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const s=this.startNode(),i=this.match(133),r=this.isContextual(130);s.imported=this.parseModuleExportName();const n=this.parseImportSpecifier(s,i,"type"===e.importKind||"typeof"===e.importKind,r,void 0);e.specifiers.push(n)}}parseImportSpecifier(e,t,s,i,r){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:s}=e;if(t)throw this.raise(w.ImportBindingIsString,e,{importName:s.value});this.checkReservedWord(s.name,e.loc.start,!0,!0),e.local||(e.local=rt(s))}return this.finishImportSpecifier(e,"ImportSpecifier",r)}isThisParam(e){return"Identifier"===e.type&&"this"===e.name}}class Ut extends Ht{constructor(e,t){super(e=function(e){if(null==e)return Object.assign({},Dt);if(null!=e.annexB&&!1!==e.annexB)throw new Error("The `annexB` option can only be set to `false`.");const t={};for(const i of Object.keys(Dt)){var s;t[i]=null!=(s=e[i])?s:Dt[i]}return t}(e),t),this.options=e,this.initializeScopes(),this.plugins=function(e){const t=new Map;for(const s of e){const[e,i]=Array.isArray(s)?s:[s,{}];t.has(e)||t.set(e,i||{})}return t}(this.options.plugins),this.filename=e.sourceFilename}getScopeHandler(){return ye}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e}}!function(e){const t={};for(const s of Object.keys(e))t[s]=J(e[s])}(U);function zt(e,t){let s=Ut;return null!=e&&e.plugins&&(function(e){if($t(e,"decorators")){if($t(e,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=Pt(e,"decorators","decoratorsBeforeExport");if(null!=t&&"boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const s=Pt(e,"decorators","allowCallParenthesized");if(null!=s&&"boolean"!=typeof s)throw new Error("'allowCallParenthesized' must be a boolean.")}if($t(e,"flow")&&$t(e,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if($t(e,"placeholders")&&$t(e,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if($t(e,"pipelineOperator")){const t=Pt(e,"pipelineOperator","proposal");if(!Lt.includes(t)){const e=Lt.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`)}const s=$t(e,["recordAndTuple",{syntaxType:"hash"}]);if("hack"===t){if($t(e,"placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if($t(e,"v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const t=Pt(e,"pipelineOperator","topicToken");if(!It.includes(t)){const e=It.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`)}if("#"===t&&s)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "hack", topicToken: "#" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}else if("smart"===t&&s)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "smart" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}if($t(e,"moduleAttributes")){if($t(e,"importAssertions")||$t(e,"importAttributes"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if("may-2020"!==Pt(e,"moduleAttributes","version"))throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if($t(e,"importAssertions")&&$t(e,"importAttributes"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if($t(e,"recordAndTuple")&&null!=Pt(e,"recordAndTuple","syntaxType")&&!Mt.includes(Pt(e,"recordAndTuple","syntaxType")))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+Mt.map((e=>`'${e}'`)).join(", "));if($t(e,"asyncDoExpressions")&&!$t(e,"doExpressions")){const e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}if($t(e,"optionalChainingAssign")&&"2023-07"!==Pt(e,"optionalChainingAssign","version"))throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}(e.plugins),s=function(e){const t=Rt.filter((t=>$t(e,t))),s=t.join("/");let i=jt[s];if(!i){i=Ut;for(const e of t)i=Nt[e](i);jt[s]=i}return i}(e.plugins)),new s(e,t)}const jt={};t.qg=function(e,t){var s;if("unambiguous"!==(null==(s=t)?void 0:s.sourceType))return zt(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";const s=zt(t,e),i=s.parse();if(s.sawUnambiguousESM)return i;if(s.ambiguousScriptDifferentAst)try{return t.sourceType="script",zt(t,e).parse()}catch(e){}else i.program.sourceType="script";return i}catch(s){try{return t.sourceType="script",zt(t,e).parse()}catch(e){}throw s}}}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i](n,n.exports,s),n.loaded=!0,n.exports}s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=s(5152),t=s(984),i=s(602);function r(e,t){let s="";switch(t.type){case"VariableDeclaration":switch(t.kind){case"var":for(const i of t.declarations){s+='window["'+i.id.name+'"] = ';const t=i.init;if(null!=t){const i=e.slice(t.start,t.end).trim();";"!==i[i.length-1]?s+=i+";\n":s+=i+"\n"}else s+="void 0;\n"}break;case"let":for(const i of t.declarations){s+='__scope__["'+i.id.name+'"] = ';const t=i.init;if(null!=t){const i=e.slice(t.start,t.end).trim();";"!==i[i.length-1]?s+=i+";\n":s+=i+"\n"}else s+="void 0;\n"}break;case"const":for(const i of t.declarations){s+='Object.defineProperty(__scope__, "'+i.id.name+'", { value: ';const t=i.init;if(null!=t){const i=e.slice(t.start,t.end).trim(),r=i.length-1;";"===i[r]?s+=i.slice(0,r):s+=i}else s+="void 0";s+=", writable: false, enumerable: false, configurable: false });\n"}}break;case"InterfaceDeclaration":case"FunctionDeclaration":case"ClassDeclaration":case"EnumDeclaration":{const i=t.id;null!=i&&(s+='__scope__["'+i.name+'"] = ');const r=e.slice(t.start,t.end).trim();";"!==r[r.length-1]?s+=r+";\n":s+=r+"\n"}break;case"EmptyStatement":case"DebuggerStatement":break;case"ExpressionStatement":{const i=t.expression;switch(i.type){case"AwaitExpression":case"YieldExpression":{const t=i.argument;if(null!=t){const i=e.slice(t.start,t.end).trim();";"!==i[i.length-1]?s+="await "+i+";\n":s+="await "+i+"\n"}}}}break;default:{const i=e.slice(t.start,t.end).trim();";"!==i[i.length-1]?s+=i+";\n":s+=i+"\n"}}return s}(async({window:s,document:n})=>{function o(e){const t=n.getElementById(e);if(null==t)throw new Error("Element does not exist: "+e);return t}const a=o("error");s.onerror=(e,t,s,i,r)=>{let n="Unhandled error at "+(t||"unknown source ");null!=s&&(n+=s),null!=i&&(n+=":"+i),null!=r&&(n+="\n\n"+r),a.textContent=n,a.style.display="block"},"complete"!==n.readyState&&await new Promise((e=>{const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t,{passive:!0})})),s.stop(),s.focus();const l=e.edit(function(e){const t=n.querySelector(e);if(t instanceof HTMLElement)return t;throw new Error("Failed to query selector: "+e)}("#input>div"),{tabSize:4,minLines:1,maxLines:99,fontSize:16,fontFamily:"Ubuntu Mono",showGutter:!1,cursorStyle:"ace",newLineMode:"unix",animatedScroll:!1,enableAutoIndent:!0,indentedSoftWrap:!0,highlightActiveLine:!1,wrapBehavioursEnabled:!0,autoScrollEditorIntoView:!0}),h=[],c=o("output"),d=Object.create(null),u=new t.K;let p=0;function m(e,t,s){const i=n.createElement("span");return(s||c).appendChild(i),i.style.color=t||"",i.textContent=e,i}function g(e,t,s){return m(e+"\n",t,s)}function f(){const e=n.createElement("hr");c.appendChild(e),e.scrollIntoView({block:"nearest",inline:"nearest",behavior:"instant"})}l.focus(),l.resize(!0),l.session.setMode(u),l.session.setUseWrapMode(!0),l.commands.addCommand({exec:()=>{const{row:e,column:t}=l.getCursorPosition();0===e?p>0&&(l.moveCursorTo(0,0),l.setValue(h[--p],-1)):l.moveCursorTo(e-1,t)},name:"1",bindKey:"Up",readOnly:!1}),l.commands.addCommand({exec:()=>{const{row:e,column:t}=l.getCursorPosition();e===l.getLastVisibleRow()?p<h.length&&(l.moveCursorTo(0,0),l.setValue(h[++p]||"",-1)):l.moveCursorTo(e+1,t)},name:"2",bindKey:"Down",readOnly:!1}),l.commands.addCommand({exec:()=>{const t=l.getValue().trim();t.length>0&&(h.push(t),p=h.length,l.blur(),l.setValue("",-1),l.setReadOnly(!0),async function(t){if(function(t){const s=n.createElement("div");c.appendChild(s),s.scrollIntoView({block:"nearest",inline:"nearest",behavior:"instant"}),e.edit(s,{value:t,tabSize:4,minLines:1,maxLines:99,readOnly:!0,fontSize:14,fontFamily:"Ubuntu Mono",showGutter:!1,cursorStyle:"ace",newLineMode:"unix",animatedScroll:!1,indentedSoftWrap:!0,highlightActiveLine:!1,wrapBehavioursEnabled:!0}).session.setMode(u)}(t=t.trim()),"/"===t.charAt(0)){const e=t.slice(1).replace(/\s+/g," ").split(" ");switch(t=e[0]){case"clear":e.length>1?(g("Error: Invalid argument.","#ff0000"),g("Try '/help' for more information.","#ff0000"),f()):c.innerHTML="";break;case"help":g("Embedded JSConsole version 0.1.0 by WhiteSpider Dev\n","#0000ff"),g("Basic usage notes:","#808000"),g("\tAll inputs that starts with '/' will be treated as a built-in command.","#808000"),g("\tAll other inputs will be executed as JavaScript code with 'eval(code)'.\n","#808000"),g("Built-in commands:","#008000"),g("\t/clear\t\t\t- Clear the console.","#008000"),g("\t/help\t\t\t- Display this help message.","#008000"),g("\t/version\t\t\t- Show version information.","#008000"),f();break;case"version":e.length>1?(g("Error: Invalid argument.","#ff0000"),g("Try '/help' for more information.","#ff0000"),f()):(g("v0.1.0"),f());break;default:g(t+": command not found.","#ff0000"),g("Try '/help' for a list of built-in commands.","#ff0000"),f()}return}try{t='"use strict";\n'+function(e){const{body:t}=(0,i.qg)(e,{ranges:!0,tokens:!1,strictMode:!0,sourceType:"script",attachComment:!1,allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0}).program,s=t.pop();let n="";for(const s of t)n+=r(e,s);return null!=s&&("ExpressionStatement"===s.type?n+="return "+e.slice(s.start,s.end):n+=r(e,s)),n}(";"+t)}catch(e){return g(String(e),"#ff0000"),void f()}let o;try{o=await new Function("arguments","window","document","__scope__",'with(__scope__){return(async()=>{\n"use strict";\n'+t+"\n})();}").apply(s,[void 0,s,n,d])}catch(e){return g("Uncaught "+e,"#ff0000"),void f()}v(o),f()}(t).then((()=>{l.setReadOnly(!1),l.focus()})))},name:"3",bindKey:"Enter",readOnly:!1});const y='&quot;<span style="color:#808080">...</span>&quot;',w='<span style="color:#000080">function</span> (<span style="color:#808080">...</span>) { <span style="color:#808080">...</span> }';function x(e,t){const s=n.createElement("span");(t||c).appendChild(s),s.style.display="inline-block";const i=function(e){try{const t=e[Symbol.toStringTag];if("string"==typeof t)return t;const s=e.constructor;if("function"==typeof s){const e=s.name;if("string"==typeof e)return e}}catch(e){}return null}(e)||"",r=i.length>0?i+" { ... }":"{ ... }",o=m(r,void 0,s);{const t=n.createElement("button");t.type="button",t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',s.appendChild(t),t.onclick=()=>{var s,n,a,l,h,c;if("Expand"===t.title){t.title="Collapse",t.style.backgroundImage='url("res/collapse.svg")',o.innerHTML="",m(i.length>0?i+" {\n":"{\n",void 0,o);{const t=Object.getPrototypeOf(e);null!=t&&(m("\t#prototype: ",void 0,o),x(t,o),m(",\n",void 0,o))}{const t=Object.getOwnPropertyDescriptors(e);for(const e of[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]){m("\t",void 0,o);const i=t[e];"value"in i?(null===(s=i.writable)||void 0===s||s||m("readonly ","#000080",o),null===(n=i.configurable)||void 0===n||n||m("final ","#000080",o),m("string"==typeof e?e:"["+e.toString()+"]",null===(a=i.enumerable)||void 0===a||a?"#008000":"#808080",o),m(": ",void 0,o),v(i.value,o),m(",\n",void 0,o)):(null===(l=i.configurable)||void 0===l||l||m("final ","#000080",o),"get"in i&&(m("get ","#000080",o),m("string"==typeof e?e:"["+e.toString()+"]",null===(h=i.enumerable)||void 0===h||h?"#008000":"#808080",o),m("() { ... }, ",void 0,o)),"set"in i&&(m("set ","#000080",o),m("string"==typeof e?e:"["+e.toString()+"]",null===(c=i.enumerable)||void 0===c||c?"#008000":"#808080",o),m("(v) { ... }, ",void 0,o)),m("\n",void 0,o))}}m("}",void 0,o)}else t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',o.textContent=r}}}function v(e,t){switch(typeof e){case"number":m(e.toString(10),"#0000ff",t);break;case"bigint":m(String(e)+"n","#0000ff",t);break;case"symbol":m(e.toString(),"#800080",t);break;case"boolean":m(e?"true":"false","#000080",t);break;case"undefined":m("undefined","#000080",t);break;case"string":!function(e,t){const s=n.createElement("span");if((t||c).appendChild(s),(e='"'+(i=e,i.replace(/[\"\'\\(\x00-\x1F)(\x7f-\x9f)(\ud800-\udfff)]/g,(e=>{switch(e){case'"':return'\\"';case"'":return"\\'";case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";default:return"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")}}))+'"')).length>30){const t=m("","#008000",s);t.innerHTML=y;{const t=n.createElement("button");t.type="button",t.title="Copy text",t.style.backgroundImage='url("res/copy.svg")',s.appendChild(t),t.onclick=()=>{navigator.clipboard.writeText(e)}}{const i=n.createElement("button");i.type="button",i.title="Expand",i.style.backgroundImage='url("res/expand.svg")',s.appendChild(i),i.onclick=()=>{"Expand"===i.title?(i.title="Collapse",i.style.backgroundImage='url("res/collapse.svg")',t.textContent=e):(i.title="Expand",i.style.backgroundImage='url("res/expand.svg")',t.innerHTML=y)}}}else{m(e,"#008000",s);{const t=n.createElement("button");t.type="button",t.title="Copy text",t.style.backgroundImage='url("res/copy.svg")',s.appendChild(t),t.onclick=()=>{navigator.clipboard.writeText(e)}}}var i}(e,t);break;case"function":!function(e,t){const s=n.createElement("span");(t||c).appendChild(s);const i=m("",void 0,s);i.innerHTML=w,e=e.toString().trim();{const t=n.createElement("button");t.type="button",t.title="Copy text",t.style.backgroundImage='url("res/copy.svg")',s.appendChild(t),t.onclick=()=>{navigator.clipboard.writeText(e)}}{const t=n.createElement("button");t.type="button",t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',s.appendChild(t),t.onclick=()=>{"Expand"===t.title?(t.title="Collapse",t.style.backgroundImage='url("res/collapse.svg")',i.textContent=e):(t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',i.innerHTML=w)}}}(e,t);break;default:null==e?m("null","#000080",t):Array.isArray(e)?function(e,t){const s=n.createElement("span");(t||c).appendChild(s),s.style.display="inline-block";const i=e.length>0?"[ ... ]":"[]",r=m(i,void 0,s);{const t=n.createElement("button");t.type="button",t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',s.appendChild(t),t.onclick=()=>{if("Expand"===t.title){t.title="Collapse",t.style.backgroundImage='url("res/collapse.svg")',r.innerHTML="",m("[\n",void 0,r);for(const t of e)m("\t",void 0,r),v(t,r),m(",\n",void 0,r);m("]",void 0,r)}else t.title="Expand",t.style.backgroundImage='url("res/expand.svg")',r.textContent=i}}}(e,t):function(e){try{return new DataView(e,0,0),!0}catch(e){return!1}}(e)?m("ArrayBuffer {}",void 0,t):ArrayBuffer.isView(e)?m("ArrayBufferView {}",void 0,t):x(e,t)}}})(window)})()})();